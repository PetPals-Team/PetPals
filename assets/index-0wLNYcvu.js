var dR=(t,e)=>()=>(e||t((e={exports:{}}).exports,e),e.exports);var Pq=dR((nn,rn)=>{function fR(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in t)){const s=Object.getOwnPropertyDescriptor(r,i);s&&Object.defineProperty(t,i,s.get?s:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const o of s.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(i){if(i.ep)return;i.ep=!0;const s=n(i);fetch(i.href,s)}})();function Hh(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var FT={exports:{}},Gh={},$T={exports:{}},re={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Wl=Symbol.for("react.element"),pR=Symbol.for("react.portal"),mR=Symbol.for("react.fragment"),gR=Symbol.for("react.strict_mode"),yR=Symbol.for("react.profiler"),vR=Symbol.for("react.provider"),_R=Symbol.for("react.context"),wR=Symbol.for("react.forward_ref"),ER=Symbol.for("react.suspense"),TR=Symbol.for("react.memo"),SR=Symbol.for("react.lazy"),Q0=Symbol.iterator;function xR(t){return t===null||typeof t!="object"?null:(t=Q0&&t[Q0]||t["@@iterator"],typeof t=="function"?t:null)}var UT={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},BT=Object.assign,zT={};function Bo(t,e,n){this.props=t,this.context=e,this.refs=zT,this.updater=n||UT}Bo.prototype.isReactComponent={};Bo.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};Bo.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function WT(){}WT.prototype=Bo.prototype;function Ug(t,e,n){this.props=t,this.context=e,this.refs=zT,this.updater=n||UT}var Bg=Ug.prototype=new WT;Bg.constructor=Ug;BT(Bg,Bo.prototype);Bg.isPureReactComponent=!0;var X0=Array.isArray,HT=Object.prototype.hasOwnProperty,zg={current:null},GT={key:!0,ref:!0,__self:!0,__source:!0};function qT(t,e,n){var r,i={},s=null,o=null;if(e!=null)for(r in e.ref!==void 0&&(o=e.ref),e.key!==void 0&&(s=""+e.key),e)HT.call(e,r)&&!GT.hasOwnProperty(r)&&(i[r]=e[r]);var a=arguments.length-2;if(a===1)i.children=n;else if(1<a){for(var l=Array(a),u=0;u<a;u++)l[u]=arguments[u+2];i.children=l}if(t&&t.defaultProps)for(r in a=t.defaultProps,a)i[r]===void 0&&(i[r]=a[r]);return{$$typeof:Wl,type:t,key:s,ref:o,props:i,_owner:zg.current}}function IR(t,e){return{$$typeof:Wl,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function Wg(t){return typeof t=="object"&&t!==null&&t.$$typeof===Wl}function AR(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var Y0=/\/+/g;function Sf(t,e){return typeof t=="object"&&t!==null&&t.key!=null?AR(""+t.key):e.toString(36)}function fc(t,e,n,r,i){var s=typeof t;(s==="undefined"||s==="boolean")&&(t=null);var o=!1;if(t===null)o=!0;else switch(s){case"string":case"number":o=!0;break;case"object":switch(t.$$typeof){case Wl:case pR:o=!0}}if(o)return o=t,i=i(o),t=r===""?"."+Sf(o,0):r,X0(i)?(n="",t!=null&&(n=t.replace(Y0,"$&/")+"/"),fc(i,e,n,"",function(u){return u})):i!=null&&(Wg(i)&&(i=IR(i,n+(!i.key||o&&o.key===i.key?"":(""+i.key).replace(Y0,"$&/")+"/")+t)),e.push(i)),1;if(o=0,r=r===""?".":r+":",X0(t))for(var a=0;a<t.length;a++){s=t[a];var l=r+Sf(s,a);o+=fc(s,e,n,l,i)}else if(l=xR(t),typeof l=="function")for(t=l.call(t),a=0;!(s=t.next()).done;)s=s.value,l=r+Sf(s,a++),o+=fc(s,e,n,l,i);else if(s==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return o}function bu(t,e,n){if(t==null)return t;var r=[],i=0;return fc(t,r,"","",function(s){return e.call(n,s,i++)}),r}function PR(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var Mt={current:null},pc={transition:null},CR={ReactCurrentDispatcher:Mt,ReactCurrentBatchConfig:pc,ReactCurrentOwner:zg};re.Children={map:bu,forEach:function(t,e,n){bu(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return bu(t,function(){e++}),e},toArray:function(t){return bu(t,function(e){return e})||[]},only:function(t){if(!Wg(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};re.Component=Bo;re.Fragment=mR;re.Profiler=yR;re.PureComponent=Ug;re.StrictMode=gR;re.Suspense=ER;re.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=CR;re.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=BT({},t.props),i=t.key,s=t.ref,o=t._owner;if(e!=null){if(e.ref!==void 0&&(s=e.ref,o=zg.current),e.key!==void 0&&(i=""+e.key),t.type&&t.type.defaultProps)var a=t.type.defaultProps;for(l in e)HT.call(e,l)&&!GT.hasOwnProperty(l)&&(r[l]=e[l]===void 0&&a!==void 0?a[l]:e[l])}var l=arguments.length-2;if(l===1)r.children=n;else if(1<l){a=Array(l);for(var u=0;u<l;u++)a[u]=arguments[u+2];r.children=a}return{$$typeof:Wl,type:t.type,key:i,ref:s,props:r,_owner:o}};re.createContext=function(t){return t={$$typeof:_R,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:vR,_context:t},t.Consumer=t};re.createElement=qT;re.createFactory=function(t){var e=qT.bind(null,t);return e.type=t,e};re.createRef=function(){return{current:null}};re.forwardRef=function(t){return{$$typeof:wR,render:t}};re.isValidElement=Wg;re.lazy=function(t){return{$$typeof:SR,_payload:{_status:-1,_result:t},_init:PR}};re.memo=function(t,e){return{$$typeof:TR,type:t,compare:e===void 0?null:e}};re.startTransition=function(t){var e=pc.transition;pc.transition={};try{t()}finally{pc.transition=e}};re.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")};re.useCallback=function(t,e){return Mt.current.useCallback(t,e)};re.useContext=function(t){return Mt.current.useContext(t)};re.useDebugValue=function(){};re.useDeferredValue=function(t){return Mt.current.useDeferredValue(t)};re.useEffect=function(t,e){return Mt.current.useEffect(t,e)};re.useId=function(){return Mt.current.useId()};re.useImperativeHandle=function(t,e,n){return Mt.current.useImperativeHandle(t,e,n)};re.useInsertionEffect=function(t,e){return Mt.current.useInsertionEffect(t,e)};re.useLayoutEffect=function(t,e){return Mt.current.useLayoutEffect(t,e)};re.useMemo=function(t,e){return Mt.current.useMemo(t,e)};re.useReducer=function(t,e,n){return Mt.current.useReducer(t,e,n)};re.useRef=function(t){return Mt.current.useRef(t)};re.useState=function(t){return Mt.current.useState(t)};re.useSyncExternalStore=function(t,e,n){return Mt.current.useSyncExternalStore(t,e,n)};re.useTransition=function(){return Mt.current.useTransition()};re.version="18.2.0";$T.exports=re;var E=$T.exports;const qh=Hh(E),bR=fR({__proto__:null,default:qh},[E]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var RR=E,kR=Symbol.for("react.element"),NR=Symbol.for("react.fragment"),DR=Object.prototype.hasOwnProperty,OR=RR.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,VR={key:!0,ref:!0,__self:!0,__source:!0};function KT(t,e,n){var r,i={},s=null,o=null;n!==void 0&&(s=""+n),e.key!==void 0&&(s=""+e.key),e.ref!==void 0&&(o=e.ref);for(r in e)DR.call(e,r)&&!VR.hasOwnProperty(r)&&(i[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)i[r]===void 0&&(i[r]=e[r]);return{$$typeof:kR,type:t,key:s,ref:o,props:i,_owner:OR.current}}Gh.Fragment=NR;Gh.jsx=KT;Gh.jsxs=KT;FT.exports=Gh;var f=FT.exports,Lp={},QT={exports:{}},un={},XT={exports:{}},YT={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(V,G){var Q=V.length;V.push(G);e:for(;0<Q;){var z=Q-1>>>1,ae=V[z];if(0<i(ae,G))V[z]=G,V[Q]=ae,Q=z;else break e}}function n(V){return V.length===0?null:V[0]}function r(V){if(V.length===0)return null;var G=V[0],Q=V.pop();if(Q!==G){V[0]=Q;e:for(var z=0,ae=V.length,Ft=ae>>>1;z<Ft;){var lt=2*(z+1)-1,vt=V[lt],Ue=lt+1,kt=V[Ue];if(0>i(vt,Q))Ue<ae&&0>i(kt,vt)?(V[z]=kt,V[Ue]=Q,z=Ue):(V[z]=vt,V[lt]=Q,z=lt);else if(Ue<ae&&0>i(kt,Q))V[z]=kt,V[Ue]=Q,z=Ue;else break e}}return G}function i(V,G){var Q=V.sortIndex-G.sortIndex;return Q!==0?Q:V.id-G.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;t.unstable_now=function(){return s.now()}}else{var o=Date,a=o.now();t.unstable_now=function(){return o.now()-a}}var l=[],u=[],c=1,h=null,d=3,p=!1,g=!1,_=!1,w=typeof setTimeout=="function"?setTimeout:null,v=typeof clearTimeout=="function"?clearTimeout:null,m=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function y(V){for(var G=n(u);G!==null;){if(G.callback===null)r(u);else if(G.startTime<=V)r(u),G.sortIndex=G.expirationTime,e(l,G);else break;G=n(u)}}function T(V){if(_=!1,y(V),!g)if(n(l)!==null)g=!0,_e(S);else{var G=n(u);G!==null&&Rt(T,G.startTime-V)}}function S(V,G){g=!1,_&&(_=!1,v(A),A=-1),p=!0;var Q=d;try{for(y(G),h=n(l);h!==null&&(!(h.expirationTime>G)||V&&!$());){var z=h.callback;if(typeof z=="function"){h.callback=null,d=h.priorityLevel;var ae=z(h.expirationTime<=G);G=t.unstable_now(),typeof ae=="function"?h.callback=ae:h===n(l)&&r(l),y(G)}else r(l);h=n(l)}if(h!==null)var Ft=!0;else{var lt=n(u);lt!==null&&Rt(T,lt.startTime-G),Ft=!1}return Ft}finally{h=null,d=Q,p=!1}}var x=!1,I=null,A=-1,C=5,k=-1;function $(){return!(t.unstable_now()-k<C)}function se(){if(I!==null){var V=t.unstable_now();k=V;var G=!0;try{G=I(!0,V)}finally{G?Y():(x=!1,I=null)}}else x=!1}var Y;if(typeof m=="function")Y=function(){m(se)};else if(typeof MessageChannel<"u"){var K=new MessageChannel,F=K.port2;K.port1.onmessage=se,Y=function(){F.postMessage(null)}}else Y=function(){w(se,0)};function _e(V){I=V,x||(x=!0,Y())}function Rt(V,G){A=w(function(){V(t.unstable_now())},G)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(V){V.callback=null},t.unstable_continueExecution=function(){g||p||(g=!0,_e(S))},t.unstable_forceFrameRate=function(V){0>V||125<V?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):C=0<V?Math.floor(1e3/V):5},t.unstable_getCurrentPriorityLevel=function(){return d},t.unstable_getFirstCallbackNode=function(){return n(l)},t.unstable_next=function(V){switch(d){case 1:case 2:case 3:var G=3;break;default:G=d}var Q=d;d=G;try{return V()}finally{d=Q}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(V,G){switch(V){case 1:case 2:case 3:case 4:case 5:break;default:V=3}var Q=d;d=V;try{return G()}finally{d=Q}},t.unstable_scheduleCallback=function(V,G,Q){var z=t.unstable_now();switch(typeof Q=="object"&&Q!==null?(Q=Q.delay,Q=typeof Q=="number"&&0<Q?z+Q:z):Q=z,V){case 1:var ae=-1;break;case 2:ae=250;break;case 5:ae=1073741823;break;case 4:ae=1e4;break;default:ae=5e3}return ae=Q+ae,V={id:c++,callback:G,priorityLevel:V,startTime:Q,expirationTime:ae,sortIndex:-1},Q>z?(V.sortIndex=Q,e(u,V),n(l)===null&&V===n(u)&&(_?(v(A),A=-1):_=!0,Rt(T,Q-z))):(V.sortIndex=ae,e(l,V),g||p||(g=!0,_e(S))),V},t.unstable_shouldYield=$,t.unstable_wrapCallback=function(V){var G=d;return function(){var Q=d;d=G;try{return V.apply(this,arguments)}finally{d=Q}}}})(YT);XT.exports=YT;var jR=XT.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var JT=E,on=jR;function N(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var ZT=new Set,Za={};function Is(t,e){Eo(t,e),Eo(t+"Capture",e)}function Eo(t,e){for(Za[t]=e,t=0;t<e.length;t++)ZT.add(e[t])}var wr=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Fp=Object.prototype.hasOwnProperty,MR=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,J0={},Z0={};function LR(t){return Fp.call(Z0,t)?!0:Fp.call(J0,t)?!1:MR.test(t)?Z0[t]=!0:(J0[t]=!0,!1)}function FR(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function $R(t,e,n,r){if(e===null||typeof e>"u"||FR(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function Lt(t,e,n,r,i,s,o){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=s,this.removeEmptyString=o}var yt={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){yt[t]=new Lt(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];yt[e]=new Lt(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){yt[t]=new Lt(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){yt[t]=new Lt(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){yt[t]=new Lt(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){yt[t]=new Lt(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){yt[t]=new Lt(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){yt[t]=new Lt(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){yt[t]=new Lt(t,5,!1,t.toLowerCase(),null,!1,!1)});var Hg=/[\-:]([a-z])/g;function Gg(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(Hg,Gg);yt[e]=new Lt(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(Hg,Gg);yt[e]=new Lt(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(Hg,Gg);yt[e]=new Lt(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){yt[t]=new Lt(t,1,!1,t.toLowerCase(),null,!1,!1)});yt.xlinkHref=new Lt("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){yt[t]=new Lt(t,1,!1,t.toLowerCase(),null,!0,!0)});function qg(t,e,n,r){var i=yt.hasOwnProperty(e)?yt[e]:null;(i!==null?i.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&($R(e,n,i,r)&&(n=null),r||i===null?LR(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):i.mustUseProperty?t[i.propertyName]=n===null?i.type===3?!1:"":n:(e=i.attributeName,r=i.attributeNamespace,n===null?t.removeAttribute(e):(i=i.type,n=i===3||i===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var Cr=JT.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Ru=Symbol.for("react.element"),Hs=Symbol.for("react.portal"),Gs=Symbol.for("react.fragment"),Kg=Symbol.for("react.strict_mode"),$p=Symbol.for("react.profiler"),eS=Symbol.for("react.provider"),tS=Symbol.for("react.context"),Qg=Symbol.for("react.forward_ref"),Up=Symbol.for("react.suspense"),Bp=Symbol.for("react.suspense_list"),Xg=Symbol.for("react.memo"),Lr=Symbol.for("react.lazy"),nS=Symbol.for("react.offscreen"),e_=Symbol.iterator;function na(t){return t===null||typeof t!="object"?null:(t=e_&&t[e_]||t["@@iterator"],typeof t=="function"?t:null)}var Ne=Object.assign,xf;function va(t){if(xf===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);xf=e&&e[1]||""}return`
`+xf+t}var If=!1;function Af(t,e){if(!t||If)return"";If=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(u){var r=u}Reflect.construct(t,[],e)}else{try{e.call()}catch(u){r=u}t.call(e.prototype)}else{try{throw Error()}catch(u){r=u}t()}}catch(u){if(u&&r&&typeof u.stack=="string"){for(var i=u.stack.split(`
`),s=r.stack.split(`
`),o=i.length-1,a=s.length-1;1<=o&&0<=a&&i[o]!==s[a];)a--;for(;1<=o&&0<=a;o--,a--)if(i[o]!==s[a]){if(o!==1||a!==1)do if(o--,a--,0>a||i[o]!==s[a]){var l=`
`+i[o].replace(" at new "," at ");return t.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",t.displayName)),l}while(1<=o&&0<=a);break}}}finally{If=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?va(t):""}function UR(t){switch(t.tag){case 5:return va(t.type);case 16:return va("Lazy");case 13:return va("Suspense");case 19:return va("SuspenseList");case 0:case 2:case 15:return t=Af(t.type,!1),t;case 11:return t=Af(t.type.render,!1),t;case 1:return t=Af(t.type,!0),t;default:return""}}function zp(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case Gs:return"Fragment";case Hs:return"Portal";case $p:return"Profiler";case Kg:return"StrictMode";case Up:return"Suspense";case Bp:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case tS:return(t.displayName||"Context")+".Consumer";case eS:return(t._context.displayName||"Context")+".Provider";case Qg:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case Xg:return e=t.displayName||null,e!==null?e:zp(t.type)||"Memo";case Lr:e=t._payload,t=t._init;try{return zp(t(e))}catch{}}return null}function BR(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return zp(e);case 8:return e===Kg?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function mi(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function rS(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function zR(t){var e=rS(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,s=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return i.call(this)},set:function(o){r=""+o,s.call(this,o)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(o){r=""+o},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function ku(t){t._valueTracker||(t._valueTracker=zR(t))}function iS(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=rS(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function jc(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function Wp(t,e){var n=e.checked;return Ne({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function t_(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=mi(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function sS(t,e){e=e.checked,e!=null&&qg(t,"checked",e,!1)}function Hp(t,e){sS(t,e);var n=mi(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?Gp(t,e.type,n):e.hasOwnProperty("defaultValue")&&Gp(t,e.type,mi(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function n_(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function Gp(t,e,n){(e!=="number"||jc(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var _a=Array.isArray;function uo(t,e,n,r){if(t=t.options,e){e={};for(var i=0;i<n.length;i++)e["$"+n[i]]=!0;for(n=0;n<t.length;n++)i=e.hasOwnProperty("$"+t[n].value),t[n].selected!==i&&(t[n].selected=i),i&&r&&(t[n].defaultSelected=!0)}else{for(n=""+mi(n),e=null,i=0;i<t.length;i++){if(t[i].value===n){t[i].selected=!0,r&&(t[i].defaultSelected=!0);return}e!==null||t[i].disabled||(e=t[i])}e!==null&&(e.selected=!0)}}function qp(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(N(91));return Ne({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function r_(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(N(92));if(_a(n)){if(1<n.length)throw Error(N(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:mi(n)}}function oS(t,e){var n=mi(e.value),r=mi(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function i_(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function aS(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Kp(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?aS(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var Nu,lS=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,r,i){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,i)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(Nu=Nu||document.createElement("div"),Nu.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=Nu.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function el(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var Ra={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},WR=["Webkit","ms","Moz","O"];Object.keys(Ra).forEach(function(t){WR.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),Ra[e]=Ra[t]})});function uS(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||Ra.hasOwnProperty(t)&&Ra[t]?(""+e).trim():e+"px"}function cS(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,i=uS(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,i):t[n]=i}}var HR=Ne({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Qp(t,e){if(e){if(HR[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(N(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(N(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(N(61))}if(e.style!=null&&typeof e.style!="object")throw Error(N(62))}}function Xp(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Yp=null;function Yg(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Jp=null,co=null,ho=null;function s_(t){if(t=ql(t)){if(typeof Jp!="function")throw Error(N(280));var e=t.stateNode;e&&(e=Jh(e),Jp(t.stateNode,t.type,e))}}function hS(t){co?ho?ho.push(t):ho=[t]:co=t}function dS(){if(co){var t=co,e=ho;if(ho=co=null,s_(t),e)for(t=0;t<e.length;t++)s_(e[t])}}function fS(t,e){return t(e)}function pS(){}var Pf=!1;function mS(t,e,n){if(Pf)return t(e,n);Pf=!0;try{return fS(t,e,n)}finally{Pf=!1,(co!==null||ho!==null)&&(pS(),dS())}}function tl(t,e){var n=t.stateNode;if(n===null)return null;var r=Jh(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(N(231,e,typeof n));return n}var Zp=!1;if(wr)try{var ra={};Object.defineProperty(ra,"passive",{get:function(){Zp=!0}}),window.addEventListener("test",ra,ra),window.removeEventListener("test",ra,ra)}catch{Zp=!1}function GR(t,e,n,r,i,s,o,a,l){var u=Array.prototype.slice.call(arguments,3);try{e.apply(n,u)}catch(c){this.onError(c)}}var ka=!1,Mc=null,Lc=!1,em=null,qR={onError:function(t){ka=!0,Mc=t}};function KR(t,e,n,r,i,s,o,a,l){ka=!1,Mc=null,GR.apply(qR,arguments)}function QR(t,e,n,r,i,s,o,a,l){if(KR.apply(this,arguments),ka){if(ka){var u=Mc;ka=!1,Mc=null}else throw Error(N(198));Lc||(Lc=!0,em=u)}}function As(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function gS(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function o_(t){if(As(t)!==t)throw Error(N(188))}function XR(t){var e=t.alternate;if(!e){if(e=As(t),e===null)throw Error(N(188));return e!==t?null:t}for(var n=t,r=e;;){var i=n.return;if(i===null)break;var s=i.alternate;if(s===null){if(r=i.return,r!==null){n=r;continue}break}if(i.child===s.child){for(s=i.child;s;){if(s===n)return o_(i),t;if(s===r)return o_(i),e;s=s.sibling}throw Error(N(188))}if(n.return!==r.return)n=i,r=s;else{for(var o=!1,a=i.child;a;){if(a===n){o=!0,n=i,r=s;break}if(a===r){o=!0,r=i,n=s;break}a=a.sibling}if(!o){for(a=s.child;a;){if(a===n){o=!0,n=s,r=i;break}if(a===r){o=!0,r=s,n=i;break}a=a.sibling}if(!o)throw Error(N(189))}}if(n.alternate!==r)throw Error(N(190))}if(n.tag!==3)throw Error(N(188));return n.stateNode.current===n?t:e}function yS(t){return t=XR(t),t!==null?vS(t):null}function vS(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=vS(t);if(e!==null)return e;t=t.sibling}return null}var _S=on.unstable_scheduleCallback,a_=on.unstable_cancelCallback,YR=on.unstable_shouldYield,JR=on.unstable_requestPaint,$e=on.unstable_now,ZR=on.unstable_getCurrentPriorityLevel,Jg=on.unstable_ImmediatePriority,wS=on.unstable_UserBlockingPriority,Fc=on.unstable_NormalPriority,ek=on.unstable_LowPriority,ES=on.unstable_IdlePriority,Kh=null,zn=null;function tk(t){if(zn&&typeof zn.onCommitFiberRoot=="function")try{zn.onCommitFiberRoot(Kh,t,void 0,(t.current.flags&128)===128)}catch{}}var Pn=Math.clz32?Math.clz32:ik,nk=Math.log,rk=Math.LN2;function ik(t){return t>>>=0,t===0?32:31-(nk(t)/rk|0)|0}var Du=64,Ou=4194304;function wa(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function $c(t,e){var n=t.pendingLanes;if(n===0)return 0;var r=0,i=t.suspendedLanes,s=t.pingedLanes,o=n&268435455;if(o!==0){var a=o&~i;a!==0?r=wa(a):(s&=o,s!==0&&(r=wa(s)))}else o=n&~i,o!==0?r=wa(o):s!==0&&(r=wa(s));if(r===0)return 0;if(e!==0&&e!==r&&!(e&i)&&(i=r&-r,s=e&-e,i>=s||i===16&&(s&4194240)!==0))return e;if(r&4&&(r|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-Pn(e),i=1<<n,r|=t[n],e&=~i;return r}function sk(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function ok(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,i=t.expirationTimes,s=t.pendingLanes;0<s;){var o=31-Pn(s),a=1<<o,l=i[o];l===-1?(!(a&n)||a&r)&&(i[o]=sk(a,e)):l<=e&&(t.expiredLanes|=a),s&=~a}}function tm(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function TS(){var t=Du;return Du<<=1,!(Du&4194240)&&(Du=64),t}function Cf(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function Hl(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-Pn(e),t[e]=n}function ak(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var i=31-Pn(n),s=1<<i;e[i]=0,r[i]=-1,t[i]=-1,n&=~s}}function Zg(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-Pn(n),i=1<<r;i&e|t[r]&e&&(t[r]|=e),n&=~i}}var de=0;function SS(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var xS,ey,IS,AS,PS,nm=!1,Vu=[],Zr=null,ei=null,ti=null,nl=new Map,rl=new Map,Br=[],lk="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function l_(t,e){switch(t){case"focusin":case"focusout":Zr=null;break;case"dragenter":case"dragleave":ei=null;break;case"mouseover":case"mouseout":ti=null;break;case"pointerover":case"pointerout":nl.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":rl.delete(e.pointerId)}}function ia(t,e,n,r,i,s){return t===null||t.nativeEvent!==s?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:s,targetContainers:[i]},e!==null&&(e=ql(e),e!==null&&ey(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,i!==null&&e.indexOf(i)===-1&&e.push(i),t)}function uk(t,e,n,r,i){switch(e){case"focusin":return Zr=ia(Zr,t,e,n,r,i),!0;case"dragenter":return ei=ia(ei,t,e,n,r,i),!0;case"mouseover":return ti=ia(ti,t,e,n,r,i),!0;case"pointerover":var s=i.pointerId;return nl.set(s,ia(nl.get(s)||null,t,e,n,r,i)),!0;case"gotpointercapture":return s=i.pointerId,rl.set(s,ia(rl.get(s)||null,t,e,n,r,i)),!0}return!1}function CS(t){var e=Qi(t.target);if(e!==null){var n=As(e);if(n!==null){if(e=n.tag,e===13){if(e=gS(n),e!==null){t.blockedOn=e,PS(t.priority,function(){IS(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function mc(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=rm(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);Yp=r,n.target.dispatchEvent(r),Yp=null}else return e=ql(n),e!==null&&ey(e),t.blockedOn=n,!1;e.shift()}return!0}function u_(t,e,n){mc(t)&&n.delete(e)}function ck(){nm=!1,Zr!==null&&mc(Zr)&&(Zr=null),ei!==null&&mc(ei)&&(ei=null),ti!==null&&mc(ti)&&(ti=null),nl.forEach(u_),rl.forEach(u_)}function sa(t,e){t.blockedOn===e&&(t.blockedOn=null,nm||(nm=!0,on.unstable_scheduleCallback(on.unstable_NormalPriority,ck)))}function il(t){function e(i){return sa(i,t)}if(0<Vu.length){sa(Vu[0],t);for(var n=1;n<Vu.length;n++){var r=Vu[n];r.blockedOn===t&&(r.blockedOn=null)}}for(Zr!==null&&sa(Zr,t),ei!==null&&sa(ei,t),ti!==null&&sa(ti,t),nl.forEach(e),rl.forEach(e),n=0;n<Br.length;n++)r=Br[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<Br.length&&(n=Br[0],n.blockedOn===null);)CS(n),n.blockedOn===null&&Br.shift()}var fo=Cr.ReactCurrentBatchConfig,Uc=!0;function hk(t,e,n,r){var i=de,s=fo.transition;fo.transition=null;try{de=1,ty(t,e,n,r)}finally{de=i,fo.transition=s}}function dk(t,e,n,r){var i=de,s=fo.transition;fo.transition=null;try{de=4,ty(t,e,n,r)}finally{de=i,fo.transition=s}}function ty(t,e,n,r){if(Uc){var i=rm(t,e,n,r);if(i===null)Lf(t,e,r,Bc,n),l_(t,r);else if(uk(i,t,e,n,r))r.stopPropagation();else if(l_(t,r),e&4&&-1<lk.indexOf(t)){for(;i!==null;){var s=ql(i);if(s!==null&&xS(s),s=rm(t,e,n,r),s===null&&Lf(t,e,r,Bc,n),s===i)break;i=s}i!==null&&r.stopPropagation()}else Lf(t,e,r,null,n)}}var Bc=null;function rm(t,e,n,r){if(Bc=null,t=Yg(r),t=Qi(t),t!==null)if(e=As(t),e===null)t=null;else if(n=e.tag,n===13){if(t=gS(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return Bc=t,null}function bS(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(ZR()){case Jg:return 1;case wS:return 4;case Fc:case ek:return 16;case ES:return 536870912;default:return 16}default:return 16}}var Kr=null,ny=null,gc=null;function RS(){if(gc)return gc;var t,e=ny,n=e.length,r,i="value"in Kr?Kr.value:Kr.textContent,s=i.length;for(t=0;t<n&&e[t]===i[t];t++);var o=n-t;for(r=1;r<=o&&e[n-r]===i[s-r];r++);return gc=i.slice(t,1<r?1-r:void 0)}function yc(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function ju(){return!0}function c_(){return!1}function cn(t){function e(n,r,i,s,o){this._reactName=n,this._targetInst=i,this.type=r,this.nativeEvent=s,this.target=o,this.currentTarget=null;for(var a in t)t.hasOwnProperty(a)&&(n=t[a],this[a]=n?n(s):s[a]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?ju:c_,this.isPropagationStopped=c_,this}return Ne(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=ju)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=ju)},persist:function(){},isPersistent:ju}),e}var zo={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},ry=cn(zo),Gl=Ne({},zo,{view:0,detail:0}),fk=cn(Gl),bf,Rf,oa,Qh=Ne({},Gl,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:iy,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==oa&&(oa&&t.type==="mousemove"?(bf=t.screenX-oa.screenX,Rf=t.screenY-oa.screenY):Rf=bf=0,oa=t),bf)},movementY:function(t){return"movementY"in t?t.movementY:Rf}}),h_=cn(Qh),pk=Ne({},Qh,{dataTransfer:0}),mk=cn(pk),gk=Ne({},Gl,{relatedTarget:0}),kf=cn(gk),yk=Ne({},zo,{animationName:0,elapsedTime:0,pseudoElement:0}),vk=cn(yk),_k=Ne({},zo,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),wk=cn(_k),Ek=Ne({},zo,{data:0}),d_=cn(Ek),Tk={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Sk={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},xk={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Ik(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=xk[t])?!!e[t]:!1}function iy(){return Ik}var Ak=Ne({},Gl,{key:function(t){if(t.key){var e=Tk[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=yc(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?Sk[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:iy,charCode:function(t){return t.type==="keypress"?yc(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?yc(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),Pk=cn(Ak),Ck=Ne({},Qh,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),f_=cn(Ck),bk=Ne({},Gl,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:iy}),Rk=cn(bk),kk=Ne({},zo,{propertyName:0,elapsedTime:0,pseudoElement:0}),Nk=cn(kk),Dk=Ne({},Qh,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),Ok=cn(Dk),Vk=[9,13,27,32],sy=wr&&"CompositionEvent"in window,Na=null;wr&&"documentMode"in document&&(Na=document.documentMode);var jk=wr&&"TextEvent"in window&&!Na,kS=wr&&(!sy||Na&&8<Na&&11>=Na),p_=" ",m_=!1;function NS(t,e){switch(t){case"keyup":return Vk.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function DS(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var qs=!1;function Mk(t,e){switch(t){case"compositionend":return DS(e);case"keypress":return e.which!==32?null:(m_=!0,p_);case"textInput":return t=e.data,t===p_&&m_?null:t;default:return null}}function Lk(t,e){if(qs)return t==="compositionend"||!sy&&NS(t,e)?(t=RS(),gc=ny=Kr=null,qs=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return kS&&e.locale!=="ko"?null:e.data;default:return null}}var Fk={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function g_(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!Fk[t.type]:e==="textarea"}function OS(t,e,n,r){hS(r),e=zc(e,"onChange"),0<e.length&&(n=new ry("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var Da=null,sl=null;function $k(t){HS(t,0)}function Xh(t){var e=Xs(t);if(iS(e))return t}function Uk(t,e){if(t==="change")return e}var VS=!1;if(wr){var Nf;if(wr){var Df="oninput"in document;if(!Df){var y_=document.createElement("div");y_.setAttribute("oninput","return;"),Df=typeof y_.oninput=="function"}Nf=Df}else Nf=!1;VS=Nf&&(!document.documentMode||9<document.documentMode)}function v_(){Da&&(Da.detachEvent("onpropertychange",jS),sl=Da=null)}function jS(t){if(t.propertyName==="value"&&Xh(sl)){var e=[];OS(e,sl,t,Yg(t)),mS($k,e)}}function Bk(t,e,n){t==="focusin"?(v_(),Da=e,sl=n,Da.attachEvent("onpropertychange",jS)):t==="focusout"&&v_()}function zk(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Xh(sl)}function Wk(t,e){if(t==="click")return Xh(e)}function Hk(t,e){if(t==="input"||t==="change")return Xh(e)}function Gk(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var bn=typeof Object.is=="function"?Object.is:Gk;function ol(t,e){if(bn(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!Fp.call(e,i)||!bn(t[i],e[i]))return!1}return!0}function __(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function w_(t,e){var n=__(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=__(n)}}function MS(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?MS(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function LS(){for(var t=window,e=jc();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=jc(t.document)}return e}function oy(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function qk(t){var e=LS(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&MS(n.ownerDocument.documentElement,n)){if(r!==null&&oy(n)){if(e=r.start,t=r.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var i=n.textContent.length,s=Math.min(r.start,i);r=r.end===void 0?s:Math.min(r.end,i),!t.extend&&s>r&&(i=r,r=s,s=i),i=w_(n,s);var o=w_(n,r);i&&o&&(t.rangeCount!==1||t.anchorNode!==i.node||t.anchorOffset!==i.offset||t.focusNode!==o.node||t.focusOffset!==o.offset)&&(e=e.createRange(),e.setStart(i.node,i.offset),t.removeAllRanges(),s>r?(t.addRange(e),t.extend(o.node,o.offset)):(e.setEnd(o.node,o.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var Kk=wr&&"documentMode"in document&&11>=document.documentMode,Ks=null,im=null,Oa=null,sm=!1;function E_(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;sm||Ks==null||Ks!==jc(r)||(r=Ks,"selectionStart"in r&&oy(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),Oa&&ol(Oa,r)||(Oa=r,r=zc(im,"onSelect"),0<r.length&&(e=new ry("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=Ks)))}function Mu(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var Qs={animationend:Mu("Animation","AnimationEnd"),animationiteration:Mu("Animation","AnimationIteration"),animationstart:Mu("Animation","AnimationStart"),transitionend:Mu("Transition","TransitionEnd")},Of={},FS={};wr&&(FS=document.createElement("div").style,"AnimationEvent"in window||(delete Qs.animationend.animation,delete Qs.animationiteration.animation,delete Qs.animationstart.animation),"TransitionEvent"in window||delete Qs.transitionend.transition);function Yh(t){if(Of[t])return Of[t];if(!Qs[t])return t;var e=Qs[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in FS)return Of[t]=e[n];return t}var $S=Yh("animationend"),US=Yh("animationiteration"),BS=Yh("animationstart"),zS=Yh("transitionend"),WS=new Map,T_="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Ii(t,e){WS.set(t,e),Is(e,[t])}for(var Vf=0;Vf<T_.length;Vf++){var jf=T_[Vf],Qk=jf.toLowerCase(),Xk=jf[0].toUpperCase()+jf.slice(1);Ii(Qk,"on"+Xk)}Ii($S,"onAnimationEnd");Ii(US,"onAnimationIteration");Ii(BS,"onAnimationStart");Ii("dblclick","onDoubleClick");Ii("focusin","onFocus");Ii("focusout","onBlur");Ii(zS,"onTransitionEnd");Eo("onMouseEnter",["mouseout","mouseover"]);Eo("onMouseLeave",["mouseout","mouseover"]);Eo("onPointerEnter",["pointerout","pointerover"]);Eo("onPointerLeave",["pointerout","pointerover"]);Is("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Is("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Is("onBeforeInput",["compositionend","keypress","textInput","paste"]);Is("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Is("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Is("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Ea="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Yk=new Set("cancel close invalid load scroll toggle".split(" ").concat(Ea));function S_(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,QR(r,e,void 0,t),t.currentTarget=null}function HS(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],i=r.event;r=r.listeners;e:{var s=void 0;if(e)for(var o=r.length-1;0<=o;o--){var a=r[o],l=a.instance,u=a.currentTarget;if(a=a.listener,l!==s&&i.isPropagationStopped())break e;S_(i,a,u),s=l}else for(o=0;o<r.length;o++){if(a=r[o],l=a.instance,u=a.currentTarget,a=a.listener,l!==s&&i.isPropagationStopped())break e;S_(i,a,u),s=l}}}if(Lc)throw t=em,Lc=!1,em=null,t}function we(t,e){var n=e[cm];n===void 0&&(n=e[cm]=new Set);var r=t+"__bubble";n.has(r)||(GS(e,t,2,!1),n.add(r))}function Mf(t,e,n){var r=0;e&&(r|=4),GS(n,t,r,e)}var Lu="_reactListening"+Math.random().toString(36).slice(2);function al(t){if(!t[Lu]){t[Lu]=!0,ZT.forEach(function(n){n!=="selectionchange"&&(Yk.has(n)||Mf(n,!1,t),Mf(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[Lu]||(e[Lu]=!0,Mf("selectionchange",!1,e))}}function GS(t,e,n,r){switch(bS(e)){case 1:var i=hk;break;case 4:i=dk;break;default:i=ty}n=i.bind(null,e,n,t),i=void 0,!Zp||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(i=!0),r?i!==void 0?t.addEventListener(e,n,{capture:!0,passive:i}):t.addEventListener(e,n,!0):i!==void 0?t.addEventListener(e,n,{passive:i}):t.addEventListener(e,n,!1)}function Lf(t,e,n,r,i){var s=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var o=r.tag;if(o===3||o===4){var a=r.stateNode.containerInfo;if(a===i||a.nodeType===8&&a.parentNode===i)break;if(o===4)for(o=r.return;o!==null;){var l=o.tag;if((l===3||l===4)&&(l=o.stateNode.containerInfo,l===i||l.nodeType===8&&l.parentNode===i))return;o=o.return}for(;a!==null;){if(o=Qi(a),o===null)return;if(l=o.tag,l===5||l===6){r=s=o;continue e}a=a.parentNode}}r=r.return}mS(function(){var u=s,c=Yg(n),h=[];e:{var d=WS.get(t);if(d!==void 0){var p=ry,g=t;switch(t){case"keypress":if(yc(n)===0)break e;case"keydown":case"keyup":p=Pk;break;case"focusin":g="focus",p=kf;break;case"focusout":g="blur",p=kf;break;case"beforeblur":case"afterblur":p=kf;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":p=h_;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":p=mk;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":p=Rk;break;case $S:case US:case BS:p=vk;break;case zS:p=Nk;break;case"scroll":p=fk;break;case"wheel":p=Ok;break;case"copy":case"cut":case"paste":p=wk;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":p=f_}var _=(e&4)!==0,w=!_&&t==="scroll",v=_?d!==null?d+"Capture":null:d;_=[];for(var m=u,y;m!==null;){y=m;var T=y.stateNode;if(y.tag===5&&T!==null&&(y=T,v!==null&&(T=tl(m,v),T!=null&&_.push(ll(m,T,y)))),w)break;m=m.return}0<_.length&&(d=new p(d,g,null,n,c),h.push({event:d,listeners:_}))}}if(!(e&7)){e:{if(d=t==="mouseover"||t==="pointerover",p=t==="mouseout"||t==="pointerout",d&&n!==Yp&&(g=n.relatedTarget||n.fromElement)&&(Qi(g)||g[Er]))break e;if((p||d)&&(d=c.window===c?c:(d=c.ownerDocument)?d.defaultView||d.parentWindow:window,p?(g=n.relatedTarget||n.toElement,p=u,g=g?Qi(g):null,g!==null&&(w=As(g),g!==w||g.tag!==5&&g.tag!==6)&&(g=null)):(p=null,g=u),p!==g)){if(_=h_,T="onMouseLeave",v="onMouseEnter",m="mouse",(t==="pointerout"||t==="pointerover")&&(_=f_,T="onPointerLeave",v="onPointerEnter",m="pointer"),w=p==null?d:Xs(p),y=g==null?d:Xs(g),d=new _(T,m+"leave",p,n,c),d.target=w,d.relatedTarget=y,T=null,Qi(c)===u&&(_=new _(v,m+"enter",g,n,c),_.target=y,_.relatedTarget=w,T=_),w=T,p&&g)t:{for(_=p,v=g,m=0,y=_;y;y=Fs(y))m++;for(y=0,T=v;T;T=Fs(T))y++;for(;0<m-y;)_=Fs(_),m--;for(;0<y-m;)v=Fs(v),y--;for(;m--;){if(_===v||v!==null&&_===v.alternate)break t;_=Fs(_),v=Fs(v)}_=null}else _=null;p!==null&&x_(h,d,p,_,!1),g!==null&&w!==null&&x_(h,w,g,_,!0)}}e:{if(d=u?Xs(u):window,p=d.nodeName&&d.nodeName.toLowerCase(),p==="select"||p==="input"&&d.type==="file")var S=Uk;else if(g_(d))if(VS)S=Hk;else{S=zk;var x=Bk}else(p=d.nodeName)&&p.toLowerCase()==="input"&&(d.type==="checkbox"||d.type==="radio")&&(S=Wk);if(S&&(S=S(t,u))){OS(h,S,n,c);break e}x&&x(t,d,u),t==="focusout"&&(x=d._wrapperState)&&x.controlled&&d.type==="number"&&Gp(d,"number",d.value)}switch(x=u?Xs(u):window,t){case"focusin":(g_(x)||x.contentEditable==="true")&&(Ks=x,im=u,Oa=null);break;case"focusout":Oa=im=Ks=null;break;case"mousedown":sm=!0;break;case"contextmenu":case"mouseup":case"dragend":sm=!1,E_(h,n,c);break;case"selectionchange":if(Kk)break;case"keydown":case"keyup":E_(h,n,c)}var I;if(sy)e:{switch(t){case"compositionstart":var A="onCompositionStart";break e;case"compositionend":A="onCompositionEnd";break e;case"compositionupdate":A="onCompositionUpdate";break e}A=void 0}else qs?NS(t,n)&&(A="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(A="onCompositionStart");A&&(kS&&n.locale!=="ko"&&(qs||A!=="onCompositionStart"?A==="onCompositionEnd"&&qs&&(I=RS()):(Kr=c,ny="value"in Kr?Kr.value:Kr.textContent,qs=!0)),x=zc(u,A),0<x.length&&(A=new d_(A,t,null,n,c),h.push({event:A,listeners:x}),I?A.data=I:(I=DS(n),I!==null&&(A.data=I)))),(I=jk?Mk(t,n):Lk(t,n))&&(u=zc(u,"onBeforeInput"),0<u.length&&(c=new d_("onBeforeInput","beforeinput",null,n,c),h.push({event:c,listeners:u}),c.data=I))}HS(h,e)})}function ll(t,e,n){return{instance:t,listener:e,currentTarget:n}}function zc(t,e){for(var n=e+"Capture",r=[];t!==null;){var i=t,s=i.stateNode;i.tag===5&&s!==null&&(i=s,s=tl(t,n),s!=null&&r.unshift(ll(t,s,i)),s=tl(t,e),s!=null&&r.push(ll(t,s,i))),t=t.return}return r}function Fs(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function x_(t,e,n,r,i){for(var s=e._reactName,o=[];n!==null&&n!==r;){var a=n,l=a.alternate,u=a.stateNode;if(l!==null&&l===r)break;a.tag===5&&u!==null&&(a=u,i?(l=tl(n,s),l!=null&&o.unshift(ll(n,l,a))):i||(l=tl(n,s),l!=null&&o.push(ll(n,l,a)))),n=n.return}o.length!==0&&t.push({event:e,listeners:o})}var Jk=/\r\n?/g,Zk=/\u0000|\uFFFD/g;function I_(t){return(typeof t=="string"?t:""+t).replace(Jk,`
`).replace(Zk,"")}function Fu(t,e,n){if(e=I_(e),I_(t)!==e&&n)throw Error(N(425))}function Wc(){}var om=null,am=null;function lm(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var um=typeof setTimeout=="function"?setTimeout:void 0,eN=typeof clearTimeout=="function"?clearTimeout:void 0,A_=typeof Promise=="function"?Promise:void 0,tN=typeof queueMicrotask=="function"?queueMicrotask:typeof A_<"u"?function(t){return A_.resolve(null).then(t).catch(nN)}:um;function nN(t){setTimeout(function(){throw t})}function Ff(t,e){var n=e,r=0;do{var i=n.nextSibling;if(t.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(r===0){t.removeChild(i),il(e);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=i}while(n);il(e)}function ni(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function P_(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var Wo=Math.random().toString(36).slice(2),Ln="__reactFiber$"+Wo,ul="__reactProps$"+Wo,Er="__reactContainer$"+Wo,cm="__reactEvents$"+Wo,rN="__reactListeners$"+Wo,iN="__reactHandles$"+Wo;function Qi(t){var e=t[Ln];if(e)return e;for(var n=t.parentNode;n;){if(e=n[Er]||n[Ln]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=P_(t);t!==null;){if(n=t[Ln])return n;t=P_(t)}return e}t=n,n=t.parentNode}return null}function ql(t){return t=t[Ln]||t[Er],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function Xs(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(N(33))}function Jh(t){return t[ul]||null}var hm=[],Ys=-1;function Ai(t){return{current:t}}function Ie(t){0>Ys||(t.current=hm[Ys],hm[Ys]=null,Ys--)}function ge(t,e){Ys++,hm[Ys]=t.current,t.current=e}var gi={},Ct=Ai(gi),Ht=Ai(!1),hs=gi;function To(t,e){var n=t.type.contextTypes;if(!n)return gi;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var i={},s;for(s in n)i[s]=e[s];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=i),i}function Gt(t){return t=t.childContextTypes,t!=null}function Hc(){Ie(Ht),Ie(Ct)}function C_(t,e,n){if(Ct.current!==gi)throw Error(N(168));ge(Ct,e),ge(Ht,n)}function qS(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var i in r)if(!(i in e))throw Error(N(108,BR(t)||"Unknown",i));return Ne({},n,r)}function Gc(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||gi,hs=Ct.current,ge(Ct,t),ge(Ht,Ht.current),!0}function b_(t,e,n){var r=t.stateNode;if(!r)throw Error(N(169));n?(t=qS(t,e,hs),r.__reactInternalMemoizedMergedChildContext=t,Ie(Ht),Ie(Ct),ge(Ct,t)):Ie(Ht),ge(Ht,n)}var lr=null,Zh=!1,$f=!1;function KS(t){lr===null?lr=[t]:lr.push(t)}function sN(t){Zh=!0,KS(t)}function Pi(){if(!$f&&lr!==null){$f=!0;var t=0,e=de;try{var n=lr;for(de=1;t<n.length;t++){var r=n[t];do r=r(!0);while(r!==null)}lr=null,Zh=!1}catch(i){throw lr!==null&&(lr=lr.slice(t+1)),_S(Jg,Pi),i}finally{de=e,$f=!1}}return null}var Js=[],Zs=0,qc=null,Kc=0,pn=[],mn=0,ds=null,cr=1,hr="";function Ui(t,e){Js[Zs++]=Kc,Js[Zs++]=qc,qc=t,Kc=e}function QS(t,e,n){pn[mn++]=cr,pn[mn++]=hr,pn[mn++]=ds,ds=t;var r=cr;t=hr;var i=32-Pn(r)-1;r&=~(1<<i),n+=1;var s=32-Pn(e)+i;if(30<s){var o=i-i%5;s=(r&(1<<o)-1).toString(32),r>>=o,i-=o,cr=1<<32-Pn(e)+i|n<<i|r,hr=s+t}else cr=1<<s|n<<i|r,hr=t}function ay(t){t.return!==null&&(Ui(t,1),QS(t,1,0))}function ly(t){for(;t===qc;)qc=Js[--Zs],Js[Zs]=null,Kc=Js[--Zs],Js[Zs]=null;for(;t===ds;)ds=pn[--mn],pn[mn]=null,hr=pn[--mn],pn[mn]=null,cr=pn[--mn],pn[mn]=null}var sn=null,Jt=null,Pe=!1,An=null;function XS(t,e){var n=yn(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function R_(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,sn=t,Jt=ni(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,sn=t,Jt=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=ds!==null?{id:cr,overflow:hr}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=yn(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,sn=t,Jt=null,!0):!1;default:return!1}}function dm(t){return(t.mode&1)!==0&&(t.flags&128)===0}function fm(t){if(Pe){var e=Jt;if(e){var n=e;if(!R_(t,e)){if(dm(t))throw Error(N(418));e=ni(n.nextSibling);var r=sn;e&&R_(t,e)?XS(r,n):(t.flags=t.flags&-4097|2,Pe=!1,sn=t)}}else{if(dm(t))throw Error(N(418));t.flags=t.flags&-4097|2,Pe=!1,sn=t}}}function k_(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;sn=t}function $u(t){if(t!==sn)return!1;if(!Pe)return k_(t),Pe=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!lm(t.type,t.memoizedProps)),e&&(e=Jt)){if(dm(t))throw YS(),Error(N(418));for(;e;)XS(t,e),e=ni(e.nextSibling)}if(k_(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(N(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){Jt=ni(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}Jt=null}}else Jt=sn?ni(t.stateNode.nextSibling):null;return!0}function YS(){for(var t=Jt;t;)t=ni(t.nextSibling)}function So(){Jt=sn=null,Pe=!1}function uy(t){An===null?An=[t]:An.push(t)}var oN=Cr.ReactCurrentBatchConfig;function xn(t,e){if(t&&t.defaultProps){e=Ne({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}var Qc=Ai(null),Xc=null,eo=null,cy=null;function hy(){cy=eo=Xc=null}function dy(t){var e=Qc.current;Ie(Qc),t._currentValue=e}function pm(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function po(t,e){Xc=t,cy=eo=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(Wt=!0),t.firstContext=null)}function _n(t){var e=t._currentValue;if(cy!==t)if(t={context:t,memoizedValue:e,next:null},eo===null){if(Xc===null)throw Error(N(308));eo=t,Xc.dependencies={lanes:0,firstContext:t}}else eo=eo.next=t;return e}var Xi=null;function fy(t){Xi===null?Xi=[t]:Xi.push(t)}function JS(t,e,n,r){var i=e.interleaved;return i===null?(n.next=n,fy(e)):(n.next=i.next,i.next=n),e.interleaved=n,Tr(t,r)}function Tr(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var Fr=!1;function py(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function ZS(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function yr(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function ri(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,le&2){var i=r.pending;return i===null?e.next=e:(e.next=i.next,i.next=e),r.pending=e,Tr(t,n)}return i=r.interleaved,i===null?(e.next=e,fy(r)):(e.next=i.next,i.next=e),r.interleaved=e,Tr(t,n)}function vc(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,Zg(t,n)}}function N_(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var i=null,s=null;if(n=n.firstBaseUpdate,n!==null){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};s===null?i=s=o:s=s.next=o,n=n.next}while(n!==null);s===null?i=s=e:s=s.next=e}else i=s=e;n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:s,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function Yc(t,e,n,r){var i=t.updateQueue;Fr=!1;var s=i.firstBaseUpdate,o=i.lastBaseUpdate,a=i.shared.pending;if(a!==null){i.shared.pending=null;var l=a,u=l.next;l.next=null,o===null?s=u:o.next=u,o=l;var c=t.alternate;c!==null&&(c=c.updateQueue,a=c.lastBaseUpdate,a!==o&&(a===null?c.firstBaseUpdate=u:a.next=u,c.lastBaseUpdate=l))}if(s!==null){var h=i.baseState;o=0,c=u=l=null,a=s;do{var d=a.lane,p=a.eventTime;if((r&d)===d){c!==null&&(c=c.next={eventTime:p,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var g=t,_=a;switch(d=e,p=n,_.tag){case 1:if(g=_.payload,typeof g=="function"){h=g.call(p,h,d);break e}h=g;break e;case 3:g.flags=g.flags&-65537|128;case 0:if(g=_.payload,d=typeof g=="function"?g.call(p,h,d):g,d==null)break e;h=Ne({},h,d);break e;case 2:Fr=!0}}a.callback!==null&&a.lane!==0&&(t.flags|=64,d=i.effects,d===null?i.effects=[a]:d.push(a))}else p={eventTime:p,lane:d,tag:a.tag,payload:a.payload,callback:a.callback,next:null},c===null?(u=c=p,l=h):c=c.next=p,o|=d;if(a=a.next,a===null){if(a=i.shared.pending,a===null)break;d=a,a=d.next,d.next=null,i.lastBaseUpdate=d,i.shared.pending=null}}while(!0);if(c===null&&(l=h),i.baseState=l,i.firstBaseUpdate=u,i.lastBaseUpdate=c,e=i.shared.interleaved,e!==null){i=e;do o|=i.lane,i=i.next;while(i!==e)}else s===null&&(i.shared.lanes=0);ps|=o,t.lanes=o,t.memoizedState=h}}function D_(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],i=r.callback;if(i!==null){if(r.callback=null,r=n,typeof i!="function")throw Error(N(191,i));i.call(r)}}}var ex=new JT.Component().refs;function mm(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:Ne({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var ed={isMounted:function(t){return(t=t._reactInternals)?As(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=jt(),i=si(t),s=yr(r,i);s.payload=e,n!=null&&(s.callback=n),e=ri(t,s,i),e!==null&&(Cn(e,t,i,r),vc(e,t,i))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=jt(),i=si(t),s=yr(r,i);s.tag=1,s.payload=e,n!=null&&(s.callback=n),e=ri(t,s,i),e!==null&&(Cn(e,t,i,r),vc(e,t,i))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=jt(),r=si(t),i=yr(n,r);i.tag=2,e!=null&&(i.callback=e),e=ri(t,i,r),e!==null&&(Cn(e,t,r,n),vc(e,t,r))}};function O_(t,e,n,r,i,s,o){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,s,o):e.prototype&&e.prototype.isPureReactComponent?!ol(n,r)||!ol(i,s):!0}function tx(t,e,n){var r=!1,i=gi,s=e.contextType;return typeof s=="object"&&s!==null?s=_n(s):(i=Gt(e)?hs:Ct.current,r=e.contextTypes,s=(r=r!=null)?To(t,i):gi),e=new e(n,s),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=ed,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=i,t.__reactInternalMemoizedMaskedChildContext=s),e}function V_(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&ed.enqueueReplaceState(e,e.state,null)}function gm(t,e,n,r){var i=t.stateNode;i.props=n,i.state=t.memoizedState,i.refs=ex,py(t);var s=e.contextType;typeof s=="object"&&s!==null?i.context=_n(s):(s=Gt(e)?hs:Ct.current,i.context=To(t,s)),i.state=t.memoizedState,s=e.getDerivedStateFromProps,typeof s=="function"&&(mm(t,e,s,n),i.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(e=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),e!==i.state&&ed.enqueueReplaceState(i,i.state,null),Yc(t,n,i,r),i.state=t.memoizedState),typeof i.componentDidMount=="function"&&(t.flags|=4194308)}function aa(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(N(309));var r=n.stateNode}if(!r)throw Error(N(147,t));var i=r,s=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===s?e.ref:(e=function(o){var a=i.refs;a===ex&&(a=i.refs={}),o===null?delete a[s]:a[s]=o},e._stringRef=s,e)}if(typeof t!="string")throw Error(N(284));if(!n._owner)throw Error(N(290,t))}return t}function Uu(t,e){throw t=Object.prototype.toString.call(e),Error(N(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function j_(t){var e=t._init;return e(t._payload)}function nx(t){function e(v,m){if(t){var y=v.deletions;y===null?(v.deletions=[m],v.flags|=16):y.push(m)}}function n(v,m){if(!t)return null;for(;m!==null;)e(v,m),m=m.sibling;return null}function r(v,m){for(v=new Map;m!==null;)m.key!==null?v.set(m.key,m):v.set(m.index,m),m=m.sibling;return v}function i(v,m){return v=oi(v,m),v.index=0,v.sibling=null,v}function s(v,m,y){return v.index=y,t?(y=v.alternate,y!==null?(y=y.index,y<m?(v.flags|=2,m):y):(v.flags|=2,m)):(v.flags|=1048576,m)}function o(v){return t&&v.alternate===null&&(v.flags|=2),v}function a(v,m,y,T){return m===null||m.tag!==6?(m=qf(y,v.mode,T),m.return=v,m):(m=i(m,y),m.return=v,m)}function l(v,m,y,T){var S=y.type;return S===Gs?c(v,m,y.props.children,T,y.key):m!==null&&(m.elementType===S||typeof S=="object"&&S!==null&&S.$$typeof===Lr&&j_(S)===m.type)?(T=i(m,y.props),T.ref=aa(v,m,y),T.return=v,T):(T=xc(y.type,y.key,y.props,null,v.mode,T),T.ref=aa(v,m,y),T.return=v,T)}function u(v,m,y,T){return m===null||m.tag!==4||m.stateNode.containerInfo!==y.containerInfo||m.stateNode.implementation!==y.implementation?(m=Kf(y,v.mode,T),m.return=v,m):(m=i(m,y.children||[]),m.return=v,m)}function c(v,m,y,T,S){return m===null||m.tag!==7?(m=ss(y,v.mode,T,S),m.return=v,m):(m=i(m,y),m.return=v,m)}function h(v,m,y){if(typeof m=="string"&&m!==""||typeof m=="number")return m=qf(""+m,v.mode,y),m.return=v,m;if(typeof m=="object"&&m!==null){switch(m.$$typeof){case Ru:return y=xc(m.type,m.key,m.props,null,v.mode,y),y.ref=aa(v,null,m),y.return=v,y;case Hs:return m=Kf(m,v.mode,y),m.return=v,m;case Lr:var T=m._init;return h(v,T(m._payload),y)}if(_a(m)||na(m))return m=ss(m,v.mode,y,null),m.return=v,m;Uu(v,m)}return null}function d(v,m,y,T){var S=m!==null?m.key:null;if(typeof y=="string"&&y!==""||typeof y=="number")return S!==null?null:a(v,m,""+y,T);if(typeof y=="object"&&y!==null){switch(y.$$typeof){case Ru:return y.key===S?l(v,m,y,T):null;case Hs:return y.key===S?u(v,m,y,T):null;case Lr:return S=y._init,d(v,m,S(y._payload),T)}if(_a(y)||na(y))return S!==null?null:c(v,m,y,T,null);Uu(v,y)}return null}function p(v,m,y,T,S){if(typeof T=="string"&&T!==""||typeof T=="number")return v=v.get(y)||null,a(m,v,""+T,S);if(typeof T=="object"&&T!==null){switch(T.$$typeof){case Ru:return v=v.get(T.key===null?y:T.key)||null,l(m,v,T,S);case Hs:return v=v.get(T.key===null?y:T.key)||null,u(m,v,T,S);case Lr:var x=T._init;return p(v,m,y,x(T._payload),S)}if(_a(T)||na(T))return v=v.get(y)||null,c(m,v,T,S,null);Uu(m,T)}return null}function g(v,m,y,T){for(var S=null,x=null,I=m,A=m=0,C=null;I!==null&&A<y.length;A++){I.index>A?(C=I,I=null):C=I.sibling;var k=d(v,I,y[A],T);if(k===null){I===null&&(I=C);break}t&&I&&k.alternate===null&&e(v,I),m=s(k,m,A),x===null?S=k:x.sibling=k,x=k,I=C}if(A===y.length)return n(v,I),Pe&&Ui(v,A),S;if(I===null){for(;A<y.length;A++)I=h(v,y[A],T),I!==null&&(m=s(I,m,A),x===null?S=I:x.sibling=I,x=I);return Pe&&Ui(v,A),S}for(I=r(v,I);A<y.length;A++)C=p(I,v,A,y[A],T),C!==null&&(t&&C.alternate!==null&&I.delete(C.key===null?A:C.key),m=s(C,m,A),x===null?S=C:x.sibling=C,x=C);return t&&I.forEach(function($){return e(v,$)}),Pe&&Ui(v,A),S}function _(v,m,y,T){var S=na(y);if(typeof S!="function")throw Error(N(150));if(y=S.call(y),y==null)throw Error(N(151));for(var x=S=null,I=m,A=m=0,C=null,k=y.next();I!==null&&!k.done;A++,k=y.next()){I.index>A?(C=I,I=null):C=I.sibling;var $=d(v,I,k.value,T);if($===null){I===null&&(I=C);break}t&&I&&$.alternate===null&&e(v,I),m=s($,m,A),x===null?S=$:x.sibling=$,x=$,I=C}if(k.done)return n(v,I),Pe&&Ui(v,A),S;if(I===null){for(;!k.done;A++,k=y.next())k=h(v,k.value,T),k!==null&&(m=s(k,m,A),x===null?S=k:x.sibling=k,x=k);return Pe&&Ui(v,A),S}for(I=r(v,I);!k.done;A++,k=y.next())k=p(I,v,A,k.value,T),k!==null&&(t&&k.alternate!==null&&I.delete(k.key===null?A:k.key),m=s(k,m,A),x===null?S=k:x.sibling=k,x=k);return t&&I.forEach(function(se){return e(v,se)}),Pe&&Ui(v,A),S}function w(v,m,y,T){if(typeof y=="object"&&y!==null&&y.type===Gs&&y.key===null&&(y=y.props.children),typeof y=="object"&&y!==null){switch(y.$$typeof){case Ru:e:{for(var S=y.key,x=m;x!==null;){if(x.key===S){if(S=y.type,S===Gs){if(x.tag===7){n(v,x.sibling),m=i(x,y.props.children),m.return=v,v=m;break e}}else if(x.elementType===S||typeof S=="object"&&S!==null&&S.$$typeof===Lr&&j_(S)===x.type){n(v,x.sibling),m=i(x,y.props),m.ref=aa(v,x,y),m.return=v,v=m;break e}n(v,x);break}else e(v,x);x=x.sibling}y.type===Gs?(m=ss(y.props.children,v.mode,T,y.key),m.return=v,v=m):(T=xc(y.type,y.key,y.props,null,v.mode,T),T.ref=aa(v,m,y),T.return=v,v=T)}return o(v);case Hs:e:{for(x=y.key;m!==null;){if(m.key===x)if(m.tag===4&&m.stateNode.containerInfo===y.containerInfo&&m.stateNode.implementation===y.implementation){n(v,m.sibling),m=i(m,y.children||[]),m.return=v,v=m;break e}else{n(v,m);break}else e(v,m);m=m.sibling}m=Kf(y,v.mode,T),m.return=v,v=m}return o(v);case Lr:return x=y._init,w(v,m,x(y._payload),T)}if(_a(y))return g(v,m,y,T);if(na(y))return _(v,m,y,T);Uu(v,y)}return typeof y=="string"&&y!==""||typeof y=="number"?(y=""+y,m!==null&&m.tag===6?(n(v,m.sibling),m=i(m,y),m.return=v,v=m):(n(v,m),m=qf(y,v.mode,T),m.return=v,v=m),o(v)):n(v,m)}return w}var xo=nx(!0),rx=nx(!1),Kl={},Wn=Ai(Kl),cl=Ai(Kl),hl=Ai(Kl);function Yi(t){if(t===Kl)throw Error(N(174));return t}function my(t,e){switch(ge(hl,e),ge(cl,t),ge(Wn,Kl),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:Kp(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=Kp(e,t)}Ie(Wn),ge(Wn,e)}function Io(){Ie(Wn),Ie(cl),Ie(hl)}function ix(t){Yi(hl.current);var e=Yi(Wn.current),n=Kp(e,t.type);e!==n&&(ge(cl,t),ge(Wn,n))}function gy(t){cl.current===t&&(Ie(Wn),Ie(cl))}var be=Ai(0);function Jc(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var Uf=[];function yy(){for(var t=0;t<Uf.length;t++)Uf[t]._workInProgressVersionPrimary=null;Uf.length=0}var _c=Cr.ReactCurrentDispatcher,Bf=Cr.ReactCurrentBatchConfig,fs=0,ke=null,Xe=null,tt=null,Zc=!1,Va=!1,dl=0,aN=0;function _t(){throw Error(N(321))}function vy(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!bn(t[n],e[n]))return!1;return!0}function _y(t,e,n,r,i,s){if(fs=s,ke=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,_c.current=t===null||t.memoizedState===null?hN:dN,t=n(r,i),Va){s=0;do{if(Va=!1,dl=0,25<=s)throw Error(N(301));s+=1,tt=Xe=null,e.updateQueue=null,_c.current=fN,t=n(r,i)}while(Va)}if(_c.current=eh,e=Xe!==null&&Xe.next!==null,fs=0,tt=Xe=ke=null,Zc=!1,e)throw Error(N(300));return t}function wy(){var t=dl!==0;return dl=0,t}function Vn(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return tt===null?ke.memoizedState=tt=t:tt=tt.next=t,tt}function wn(){if(Xe===null){var t=ke.alternate;t=t!==null?t.memoizedState:null}else t=Xe.next;var e=tt===null?ke.memoizedState:tt.next;if(e!==null)tt=e,Xe=t;else{if(t===null)throw Error(N(310));Xe=t,t={memoizedState:Xe.memoizedState,baseState:Xe.baseState,baseQueue:Xe.baseQueue,queue:Xe.queue,next:null},tt===null?ke.memoizedState=tt=t:tt=tt.next=t}return tt}function fl(t,e){return typeof e=="function"?e(t):e}function zf(t){var e=wn(),n=e.queue;if(n===null)throw Error(N(311));n.lastRenderedReducer=t;var r=Xe,i=r.baseQueue,s=n.pending;if(s!==null){if(i!==null){var o=i.next;i.next=s.next,s.next=o}r.baseQueue=i=s,n.pending=null}if(i!==null){s=i.next,r=r.baseState;var a=o=null,l=null,u=s;do{var c=u.lane;if((fs&c)===c)l!==null&&(l=l.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),r=u.hasEagerState?u.eagerState:t(r,u.action);else{var h={lane:c,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};l===null?(a=l=h,o=r):l=l.next=h,ke.lanes|=c,ps|=c}u=u.next}while(u!==null&&u!==s);l===null?o=r:l.next=a,bn(r,e.memoizedState)||(Wt=!0),e.memoizedState=r,e.baseState=o,e.baseQueue=l,n.lastRenderedState=r}if(t=n.interleaved,t!==null){i=t;do s=i.lane,ke.lanes|=s,ps|=s,i=i.next;while(i!==t)}else i===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function Wf(t){var e=wn(),n=e.queue;if(n===null)throw Error(N(311));n.lastRenderedReducer=t;var r=n.dispatch,i=n.pending,s=e.memoizedState;if(i!==null){n.pending=null;var o=i=i.next;do s=t(s,o.action),o=o.next;while(o!==i);bn(s,e.memoizedState)||(Wt=!0),e.memoizedState=s,e.baseQueue===null&&(e.baseState=s),n.lastRenderedState=s}return[s,r]}function sx(){}function ox(t,e){var n=ke,r=wn(),i=e(),s=!bn(r.memoizedState,i);if(s&&(r.memoizedState=i,Wt=!0),r=r.queue,Ey(ux.bind(null,n,r,t),[t]),r.getSnapshot!==e||s||tt!==null&&tt.memoizedState.tag&1){if(n.flags|=2048,pl(9,lx.bind(null,n,r,i,e),void 0,null),it===null)throw Error(N(349));fs&30||ax(n,e,i)}return i}function ax(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=ke.updateQueue,e===null?(e={lastEffect:null,stores:null},ke.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function lx(t,e,n,r){e.value=n,e.getSnapshot=r,cx(e)&&hx(t)}function ux(t,e,n){return n(function(){cx(e)&&hx(t)})}function cx(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!bn(t,n)}catch{return!0}}function hx(t){var e=Tr(t,1);e!==null&&Cn(e,t,1,-1)}function M_(t){var e=Vn();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:fl,lastRenderedState:t},e.queue=t,t=t.dispatch=cN.bind(null,ke,t),[e.memoizedState,t]}function pl(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=ke.updateQueue,e===null?(e={lastEffect:null,stores:null},ke.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function dx(){return wn().memoizedState}function wc(t,e,n,r){var i=Vn();ke.flags|=t,i.memoizedState=pl(1|e,n,void 0,r===void 0?null:r)}function td(t,e,n,r){var i=wn();r=r===void 0?null:r;var s=void 0;if(Xe!==null){var o=Xe.memoizedState;if(s=o.destroy,r!==null&&vy(r,o.deps)){i.memoizedState=pl(e,n,s,r);return}}ke.flags|=t,i.memoizedState=pl(1|e,n,s,r)}function L_(t,e){return wc(8390656,8,t,e)}function Ey(t,e){return td(2048,8,t,e)}function fx(t,e){return td(4,2,t,e)}function px(t,e){return td(4,4,t,e)}function mx(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function gx(t,e,n){return n=n!=null?n.concat([t]):null,td(4,4,mx.bind(null,e,t),n)}function Ty(){}function yx(t,e){var n=wn();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&vy(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function vx(t,e){var n=wn();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&vy(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function _x(t,e,n){return fs&21?(bn(n,e)||(n=TS(),ke.lanes|=n,ps|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,Wt=!0),t.memoizedState=n)}function lN(t,e){var n=de;de=n!==0&&4>n?n:4,t(!0);var r=Bf.transition;Bf.transition={};try{t(!1),e()}finally{de=n,Bf.transition=r}}function wx(){return wn().memoizedState}function uN(t,e,n){var r=si(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},Ex(t))Tx(e,n);else if(n=JS(t,e,n,r),n!==null){var i=jt();Cn(n,t,r,i),Sx(n,e,r)}}function cN(t,e,n){var r=si(t),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(Ex(t))Tx(e,i);else{var s=t.alternate;if(t.lanes===0&&(s===null||s.lanes===0)&&(s=e.lastRenderedReducer,s!==null))try{var o=e.lastRenderedState,a=s(o,n);if(i.hasEagerState=!0,i.eagerState=a,bn(a,o)){var l=e.interleaved;l===null?(i.next=i,fy(e)):(i.next=l.next,l.next=i),e.interleaved=i;return}}catch{}finally{}n=JS(t,e,i,r),n!==null&&(i=jt(),Cn(n,t,r,i),Sx(n,e,r))}}function Ex(t){var e=t.alternate;return t===ke||e!==null&&e===ke}function Tx(t,e){Va=Zc=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function Sx(t,e,n){if(n&4194240){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,Zg(t,n)}}var eh={readContext:_n,useCallback:_t,useContext:_t,useEffect:_t,useImperativeHandle:_t,useInsertionEffect:_t,useLayoutEffect:_t,useMemo:_t,useReducer:_t,useRef:_t,useState:_t,useDebugValue:_t,useDeferredValue:_t,useTransition:_t,useMutableSource:_t,useSyncExternalStore:_t,useId:_t,unstable_isNewReconciler:!1},hN={readContext:_n,useCallback:function(t,e){return Vn().memoizedState=[t,e===void 0?null:e],t},useContext:_n,useEffect:L_,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,wc(4194308,4,mx.bind(null,e,t),n)},useLayoutEffect:function(t,e){return wc(4194308,4,t,e)},useInsertionEffect:function(t,e){return wc(4,2,t,e)},useMemo:function(t,e){var n=Vn();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=Vn();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=uN.bind(null,ke,t),[r.memoizedState,t]},useRef:function(t){var e=Vn();return t={current:t},e.memoizedState=t},useState:M_,useDebugValue:Ty,useDeferredValue:function(t){return Vn().memoizedState=t},useTransition:function(){var t=M_(!1),e=t[0];return t=lN.bind(null,t[1]),Vn().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=ke,i=Vn();if(Pe){if(n===void 0)throw Error(N(407));n=n()}else{if(n=e(),it===null)throw Error(N(349));fs&30||ax(r,e,n)}i.memoizedState=n;var s={value:n,getSnapshot:e};return i.queue=s,L_(ux.bind(null,r,s,t),[t]),r.flags|=2048,pl(9,lx.bind(null,r,s,n,e),void 0,null),n},useId:function(){var t=Vn(),e=it.identifierPrefix;if(Pe){var n=hr,r=cr;n=(r&~(1<<32-Pn(r)-1)).toString(32)+n,e=":"+e+"R"+n,n=dl++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=aN++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},dN={readContext:_n,useCallback:yx,useContext:_n,useEffect:Ey,useImperativeHandle:gx,useInsertionEffect:fx,useLayoutEffect:px,useMemo:vx,useReducer:zf,useRef:dx,useState:function(){return zf(fl)},useDebugValue:Ty,useDeferredValue:function(t){var e=wn();return _x(e,Xe.memoizedState,t)},useTransition:function(){var t=zf(fl)[0],e=wn().memoizedState;return[t,e]},useMutableSource:sx,useSyncExternalStore:ox,useId:wx,unstable_isNewReconciler:!1},fN={readContext:_n,useCallback:yx,useContext:_n,useEffect:Ey,useImperativeHandle:gx,useInsertionEffect:fx,useLayoutEffect:px,useMemo:vx,useReducer:Wf,useRef:dx,useState:function(){return Wf(fl)},useDebugValue:Ty,useDeferredValue:function(t){var e=wn();return Xe===null?e.memoizedState=t:_x(e,Xe.memoizedState,t)},useTransition:function(){var t=Wf(fl)[0],e=wn().memoizedState;return[t,e]},useMutableSource:sx,useSyncExternalStore:ox,useId:wx,unstable_isNewReconciler:!1};function Ao(t,e){try{var n="",r=e;do n+=UR(r),r=r.return;while(r);var i=n}catch(s){i=`
Error generating stack: `+s.message+`
`+s.stack}return{value:t,source:e,stack:i,digest:null}}function Hf(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function ym(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var pN=typeof WeakMap=="function"?WeakMap:Map;function xx(t,e,n){n=yr(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){nh||(nh=!0,Pm=r),ym(t,e)},n}function Ix(t,e,n){n=yr(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var i=e.value;n.payload=function(){return r(i)},n.callback=function(){ym(t,e)}}var s=t.stateNode;return s!==null&&typeof s.componentDidCatch=="function"&&(n.callback=function(){ym(t,e),typeof r!="function"&&(ii===null?ii=new Set([this]):ii.add(this));var o=e.stack;this.componentDidCatch(e.value,{componentStack:o!==null?o:""})}),n}function F_(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new pN;var i=new Set;r.set(e,i)}else i=r.get(e),i===void 0&&(i=new Set,r.set(e,i));i.has(n)||(i.add(n),t=CN.bind(null,t,e,n),e.then(t,t))}function $_(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function U_(t,e,n,r,i){return t.mode&1?(t.flags|=65536,t.lanes=i,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=yr(-1,1),e.tag=2,ri(n,e,1))),n.lanes|=1),t)}var mN=Cr.ReactCurrentOwner,Wt=!1;function Ot(t,e,n,r){e.child=t===null?rx(e,null,n,r):xo(e,t.child,n,r)}function B_(t,e,n,r,i){n=n.render;var s=e.ref;return po(e,i),r=_y(t,e,n,r,s,i),n=wy(),t!==null&&!Wt?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,Sr(t,e,i)):(Pe&&n&&ay(e),e.flags|=1,Ot(t,e,r,i),e.child)}function z_(t,e,n,r,i){if(t===null){var s=n.type;return typeof s=="function"&&!Ry(s)&&s.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=s,Ax(t,e,s,r,i)):(t=xc(n.type,null,r,e,e.mode,i),t.ref=e.ref,t.return=e,e.child=t)}if(s=t.child,!(t.lanes&i)){var o=s.memoizedProps;if(n=n.compare,n=n!==null?n:ol,n(o,r)&&t.ref===e.ref)return Sr(t,e,i)}return e.flags|=1,t=oi(s,r),t.ref=e.ref,t.return=e,e.child=t}function Ax(t,e,n,r,i){if(t!==null){var s=t.memoizedProps;if(ol(s,r)&&t.ref===e.ref)if(Wt=!1,e.pendingProps=r=s,(t.lanes&i)!==0)t.flags&131072&&(Wt=!0);else return e.lanes=t.lanes,Sr(t,e,i)}return vm(t,e,n,r,i)}function Px(t,e,n){var r=e.pendingProps,i=r.children,s=t!==null?t.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},ge(no,Yt),Yt|=n;else{if(!(n&1073741824))return t=s!==null?s.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,ge(no,Yt),Yt|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=s!==null?s.baseLanes:n,ge(no,Yt),Yt|=r}else s!==null?(r=s.baseLanes|n,e.memoizedState=null):r=n,ge(no,Yt),Yt|=r;return Ot(t,e,i,n),e.child}function Cx(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function vm(t,e,n,r,i){var s=Gt(n)?hs:Ct.current;return s=To(e,s),po(e,i),n=_y(t,e,n,r,s,i),r=wy(),t!==null&&!Wt?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,Sr(t,e,i)):(Pe&&r&&ay(e),e.flags|=1,Ot(t,e,n,i),e.child)}function W_(t,e,n,r,i){if(Gt(n)){var s=!0;Gc(e)}else s=!1;if(po(e,i),e.stateNode===null)Ec(t,e),tx(e,n,r),gm(e,n,r,i),r=!0;else if(t===null){var o=e.stateNode,a=e.memoizedProps;o.props=a;var l=o.context,u=n.contextType;typeof u=="object"&&u!==null?u=_n(u):(u=Gt(n)?hs:Ct.current,u=To(e,u));var c=n.getDerivedStateFromProps,h=typeof c=="function"||typeof o.getSnapshotBeforeUpdate=="function";h||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==r||l!==u)&&V_(e,o,r,u),Fr=!1;var d=e.memoizedState;o.state=d,Yc(e,r,o,i),l=e.memoizedState,a!==r||d!==l||Ht.current||Fr?(typeof c=="function"&&(mm(e,n,c,r),l=e.memoizedState),(a=Fr||O_(e,n,a,r,d,l,u))?(h||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(e.flags|=4194308)):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=l),o.props=r,o.state=l,o.context=u,r=a):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{o=e.stateNode,ZS(t,e),a=e.memoizedProps,u=e.type===e.elementType?a:xn(e.type,a),o.props=u,h=e.pendingProps,d=o.context,l=n.contextType,typeof l=="object"&&l!==null?l=_n(l):(l=Gt(n)?hs:Ct.current,l=To(e,l));var p=n.getDerivedStateFromProps;(c=typeof p=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==h||d!==l)&&V_(e,o,r,l),Fr=!1,d=e.memoizedState,o.state=d,Yc(e,r,o,i);var g=e.memoizedState;a!==h||d!==g||Ht.current||Fr?(typeof p=="function"&&(mm(e,n,p,r),g=e.memoizedState),(u=Fr||O_(e,n,u,r,d,g,l)||!1)?(c||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(r,g,l),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(r,g,l)),typeof o.componentDidUpdate=="function"&&(e.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&d===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&d===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=g),o.props=r,o.state=g,o.context=l,r=u):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&d===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&d===t.memoizedState||(e.flags|=1024),r=!1)}return _m(t,e,n,r,s,i)}function _m(t,e,n,r,i,s){Cx(t,e);var o=(e.flags&128)!==0;if(!r&&!o)return i&&b_(e,n,!1),Sr(t,e,s);r=e.stateNode,mN.current=e;var a=o&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&o?(e.child=xo(e,t.child,null,s),e.child=xo(e,null,a,s)):Ot(t,e,a,s),e.memoizedState=r.state,i&&b_(e,n,!0),e.child}function bx(t){var e=t.stateNode;e.pendingContext?C_(t,e.pendingContext,e.pendingContext!==e.context):e.context&&C_(t,e.context,!1),my(t,e.containerInfo)}function H_(t,e,n,r,i){return So(),uy(i),e.flags|=256,Ot(t,e,n,r),e.child}var wm={dehydrated:null,treeContext:null,retryLane:0};function Em(t){return{baseLanes:t,cachePool:null,transitions:null}}function Rx(t,e,n){var r=e.pendingProps,i=be.current,s=!1,o=(e.flags&128)!==0,a;if((a=o)||(a=t!==null&&t.memoizedState===null?!1:(i&2)!==0),a?(s=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(i|=1),ge(be,i&1),t===null)return fm(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(o=r.children,t=r.fallback,s?(r=e.mode,s=e.child,o={mode:"hidden",children:o},!(r&1)&&s!==null?(s.childLanes=0,s.pendingProps=o):s=id(o,r,0,null),t=ss(t,r,n,null),s.return=e,t.return=e,s.sibling=t,e.child=s,e.child.memoizedState=Em(n),e.memoizedState=wm,t):Sy(e,o));if(i=t.memoizedState,i!==null&&(a=i.dehydrated,a!==null))return gN(t,e,o,r,a,i,n);if(s){s=r.fallback,o=e.mode,i=t.child,a=i.sibling;var l={mode:"hidden",children:r.children};return!(o&1)&&e.child!==i?(r=e.child,r.childLanes=0,r.pendingProps=l,e.deletions=null):(r=oi(i,l),r.subtreeFlags=i.subtreeFlags&14680064),a!==null?s=oi(a,s):(s=ss(s,o,n,null),s.flags|=2),s.return=e,r.return=e,r.sibling=s,e.child=r,r=s,s=e.child,o=t.child.memoizedState,o=o===null?Em(n):{baseLanes:o.baseLanes|n,cachePool:null,transitions:o.transitions},s.memoizedState=o,s.childLanes=t.childLanes&~n,e.memoizedState=wm,r}return s=t.child,t=s.sibling,r=oi(s,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=r,e.memoizedState=null,r}function Sy(t,e){return e=id({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function Bu(t,e,n,r){return r!==null&&uy(r),xo(e,t.child,null,n),t=Sy(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function gN(t,e,n,r,i,s,o){if(n)return e.flags&256?(e.flags&=-257,r=Hf(Error(N(422))),Bu(t,e,o,r)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(s=r.fallback,i=e.mode,r=id({mode:"visible",children:r.children},i,0,null),s=ss(s,i,o,null),s.flags|=2,r.return=e,s.return=e,r.sibling=s,e.child=r,e.mode&1&&xo(e,t.child,null,o),e.child.memoizedState=Em(o),e.memoizedState=wm,s);if(!(e.mode&1))return Bu(t,e,o,null);if(i.data==="$!"){if(r=i.nextSibling&&i.nextSibling.dataset,r)var a=r.dgst;return r=a,s=Error(N(419)),r=Hf(s,r,void 0),Bu(t,e,o,r)}if(a=(o&t.childLanes)!==0,Wt||a){if(r=it,r!==null){switch(o&-o){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(r.suspendedLanes|o)?0:i,i!==0&&i!==s.retryLane&&(s.retryLane=i,Tr(t,i),Cn(r,t,i,-1))}return by(),r=Hf(Error(N(421))),Bu(t,e,o,r)}return i.data==="$?"?(e.flags|=128,e.child=t.child,e=bN.bind(null,t),i._reactRetry=e,null):(t=s.treeContext,Jt=ni(i.nextSibling),sn=e,Pe=!0,An=null,t!==null&&(pn[mn++]=cr,pn[mn++]=hr,pn[mn++]=ds,cr=t.id,hr=t.overflow,ds=e),e=Sy(e,r.children),e.flags|=4096,e)}function G_(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),pm(t.return,e,n)}function Gf(t,e,n,r,i){var s=t.memoizedState;s===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(s.isBackwards=e,s.rendering=null,s.renderingStartTime=0,s.last=r,s.tail=n,s.tailMode=i)}function kx(t,e,n){var r=e.pendingProps,i=r.revealOrder,s=r.tail;if(Ot(t,e,r.children,n),r=be.current,r&2)r=r&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&G_(t,n,e);else if(t.tag===19)G_(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(ge(be,r),!(e.mode&1))e.memoizedState=null;else switch(i){case"forwards":for(n=e.child,i=null;n!==null;)t=n.alternate,t!==null&&Jc(t)===null&&(i=n),n=n.sibling;n=i,n===null?(i=e.child,e.child=null):(i=n.sibling,n.sibling=null),Gf(e,!1,i,n,s);break;case"backwards":for(n=null,i=e.child,e.child=null;i!==null;){if(t=i.alternate,t!==null&&Jc(t)===null){e.child=i;break}t=i.sibling,i.sibling=n,n=i,i=t}Gf(e,!0,n,null,s);break;case"together":Gf(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function Ec(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function Sr(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),ps|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(N(153));if(e.child!==null){for(t=e.child,n=oi(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=oi(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function yN(t,e,n){switch(e.tag){case 3:bx(e),So();break;case 5:ix(e);break;case 1:Gt(e.type)&&Gc(e);break;case 4:my(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,i=e.memoizedProps.value;ge(Qc,r._currentValue),r._currentValue=i;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(ge(be,be.current&1),e.flags|=128,null):n&e.child.childLanes?Rx(t,e,n):(ge(be,be.current&1),t=Sr(t,e,n),t!==null?t.sibling:null);ge(be,be.current&1);break;case 19:if(r=(n&e.childLanes)!==0,t.flags&128){if(r)return kx(t,e,n);e.flags|=128}if(i=e.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),ge(be,be.current),r)break;return null;case 22:case 23:return e.lanes=0,Px(t,e,n)}return Sr(t,e,n)}var Nx,Tm,Dx,Ox;Nx=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};Tm=function(){};Dx=function(t,e,n,r){var i=t.memoizedProps;if(i!==r){t=e.stateNode,Yi(Wn.current);var s=null;switch(n){case"input":i=Wp(t,i),r=Wp(t,r),s=[];break;case"select":i=Ne({},i,{value:void 0}),r=Ne({},r,{value:void 0}),s=[];break;case"textarea":i=qp(t,i),r=qp(t,r),s=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=Wc)}Qp(n,r);var o;n=null;for(u in i)if(!r.hasOwnProperty(u)&&i.hasOwnProperty(u)&&i[u]!=null)if(u==="style"){var a=i[u];for(o in a)a.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(Za.hasOwnProperty(u)?s||(s=[]):(s=s||[]).push(u,null));for(u in r){var l=r[u];if(a=i!=null?i[u]:void 0,r.hasOwnProperty(u)&&l!==a&&(l!=null||a!=null))if(u==="style")if(a){for(o in a)!a.hasOwnProperty(o)||l&&l.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in l)l.hasOwnProperty(o)&&a[o]!==l[o]&&(n||(n={}),n[o]=l[o])}else n||(s||(s=[]),s.push(u,n)),n=l;else u==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,a=a?a.__html:void 0,l!=null&&a!==l&&(s=s||[]).push(u,l)):u==="children"?typeof l!="string"&&typeof l!="number"||(s=s||[]).push(u,""+l):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(Za.hasOwnProperty(u)?(l!=null&&u==="onScroll"&&we("scroll",t),s||a===l||(s=[])):(s=s||[]).push(u,l))}n&&(s=s||[]).push("style",n);var u=s;(e.updateQueue=u)&&(e.flags|=4)}};Ox=function(t,e,n,r){n!==r&&(e.flags|=4)};function la(t,e){if(!Pe)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function wt(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags&14680064,r|=i.flags&14680064,i.return=t,i=i.sibling;else for(i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=t,i=i.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function vN(t,e,n){var r=e.pendingProps;switch(ly(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return wt(e),null;case 1:return Gt(e.type)&&Hc(),wt(e),null;case 3:return r=e.stateNode,Io(),Ie(Ht),Ie(Ct),yy(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&($u(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,An!==null&&(Rm(An),An=null))),Tm(t,e),wt(e),null;case 5:gy(e);var i=Yi(hl.current);if(n=e.type,t!==null&&e.stateNode!=null)Dx(t,e,n,r,i),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(N(166));return wt(e),null}if(t=Yi(Wn.current),$u(e)){r=e.stateNode,n=e.type;var s=e.memoizedProps;switch(r[Ln]=e,r[ul]=s,t=(e.mode&1)!==0,n){case"dialog":we("cancel",r),we("close",r);break;case"iframe":case"object":case"embed":we("load",r);break;case"video":case"audio":for(i=0;i<Ea.length;i++)we(Ea[i],r);break;case"source":we("error",r);break;case"img":case"image":case"link":we("error",r),we("load",r);break;case"details":we("toggle",r);break;case"input":t_(r,s),we("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!s.multiple},we("invalid",r);break;case"textarea":r_(r,s),we("invalid",r)}Qp(n,s),i=null;for(var o in s)if(s.hasOwnProperty(o)){var a=s[o];o==="children"?typeof a=="string"?r.textContent!==a&&(s.suppressHydrationWarning!==!0&&Fu(r.textContent,a,t),i=["children",a]):typeof a=="number"&&r.textContent!==""+a&&(s.suppressHydrationWarning!==!0&&Fu(r.textContent,a,t),i=["children",""+a]):Za.hasOwnProperty(o)&&a!=null&&o==="onScroll"&&we("scroll",r)}switch(n){case"input":ku(r),n_(r,s,!0);break;case"textarea":ku(r),i_(r);break;case"select":case"option":break;default:typeof s.onClick=="function"&&(r.onclick=Wc)}r=i,e.updateQueue=r,r!==null&&(e.flags|=4)}else{o=i.nodeType===9?i:i.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=aS(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=o.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=o.createElement(n,{is:r.is}):(t=o.createElement(n),n==="select"&&(o=t,r.multiple?o.multiple=!0:r.size&&(o.size=r.size))):t=o.createElementNS(t,n),t[Ln]=e,t[ul]=r,Nx(t,e,!1,!1),e.stateNode=t;e:{switch(o=Xp(n,r),n){case"dialog":we("cancel",t),we("close",t),i=r;break;case"iframe":case"object":case"embed":we("load",t),i=r;break;case"video":case"audio":for(i=0;i<Ea.length;i++)we(Ea[i],t);i=r;break;case"source":we("error",t),i=r;break;case"img":case"image":case"link":we("error",t),we("load",t),i=r;break;case"details":we("toggle",t),i=r;break;case"input":t_(t,r),i=Wp(t,r),we("invalid",t);break;case"option":i=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},i=Ne({},r,{value:void 0}),we("invalid",t);break;case"textarea":r_(t,r),i=qp(t,r),we("invalid",t);break;default:i=r}Qp(n,i),a=i;for(s in a)if(a.hasOwnProperty(s)){var l=a[s];s==="style"?cS(t,l):s==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&lS(t,l)):s==="children"?typeof l=="string"?(n!=="textarea"||l!=="")&&el(t,l):typeof l=="number"&&el(t,""+l):s!=="suppressContentEditableWarning"&&s!=="suppressHydrationWarning"&&s!=="autoFocus"&&(Za.hasOwnProperty(s)?l!=null&&s==="onScroll"&&we("scroll",t):l!=null&&qg(t,s,l,o))}switch(n){case"input":ku(t),n_(t,r,!1);break;case"textarea":ku(t),i_(t);break;case"option":r.value!=null&&t.setAttribute("value",""+mi(r.value));break;case"select":t.multiple=!!r.multiple,s=r.value,s!=null?uo(t,!!r.multiple,s,!1):r.defaultValue!=null&&uo(t,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(t.onclick=Wc)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return wt(e),null;case 6:if(t&&e.stateNode!=null)Ox(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(N(166));if(n=Yi(hl.current),Yi(Wn.current),$u(e)){if(r=e.stateNode,n=e.memoizedProps,r[Ln]=e,(s=r.nodeValue!==n)&&(t=sn,t!==null))switch(t.tag){case 3:Fu(r.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&Fu(r.nodeValue,n,(t.mode&1)!==0)}s&&(e.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[Ln]=e,e.stateNode=r}return wt(e),null;case 13:if(Ie(be),r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(Pe&&Jt!==null&&e.mode&1&&!(e.flags&128))YS(),So(),e.flags|=98560,s=!1;else if(s=$u(e),r!==null&&r.dehydrated!==null){if(t===null){if(!s)throw Error(N(318));if(s=e.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(N(317));s[Ln]=e}else So(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;wt(e),s=!1}else An!==null&&(Rm(An),An=null),s=!0;if(!s)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(r=r!==null,r!==(t!==null&&t.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(t===null||be.current&1?Ye===0&&(Ye=3):by())),e.updateQueue!==null&&(e.flags|=4),wt(e),null);case 4:return Io(),Tm(t,e),t===null&&al(e.stateNode.containerInfo),wt(e),null;case 10:return dy(e.type._context),wt(e),null;case 17:return Gt(e.type)&&Hc(),wt(e),null;case 19:if(Ie(be),s=e.memoizedState,s===null)return wt(e),null;if(r=(e.flags&128)!==0,o=s.rendering,o===null)if(r)la(s,!1);else{if(Ye!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(o=Jc(t),o!==null){for(e.flags|=128,la(s,!1),r=o.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;n!==null;)s=n,t=r,s.flags&=14680066,o=s.alternate,o===null?(s.childLanes=0,s.lanes=t,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=o.childLanes,s.lanes=o.lanes,s.child=o.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=o.memoizedProps,s.memoizedState=o.memoizedState,s.updateQueue=o.updateQueue,s.type=o.type,t=o.dependencies,s.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return ge(be,be.current&1|2),e.child}t=t.sibling}s.tail!==null&&$e()>Po&&(e.flags|=128,r=!0,la(s,!1),e.lanes=4194304)}else{if(!r)if(t=Jc(o),t!==null){if(e.flags|=128,r=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),la(s,!0),s.tail===null&&s.tailMode==="hidden"&&!o.alternate&&!Pe)return wt(e),null}else 2*$e()-s.renderingStartTime>Po&&n!==1073741824&&(e.flags|=128,r=!0,la(s,!1),e.lanes=4194304);s.isBackwards?(o.sibling=e.child,e.child=o):(n=s.last,n!==null?n.sibling=o:e.child=o,s.last=o)}return s.tail!==null?(e=s.tail,s.rendering=e,s.tail=e.sibling,s.renderingStartTime=$e(),e.sibling=null,n=be.current,ge(be,r?n&1|2:n&1),e):(wt(e),null);case 22:case 23:return Cy(),r=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?Yt&1073741824&&(wt(e),e.subtreeFlags&6&&(e.flags|=8192)):wt(e),null;case 24:return null;case 25:return null}throw Error(N(156,e.tag))}function _N(t,e){switch(ly(e),e.tag){case 1:return Gt(e.type)&&Hc(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return Io(),Ie(Ht),Ie(Ct),yy(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return gy(e),null;case 13:if(Ie(be),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(N(340));So()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return Ie(be),null;case 4:return Io(),null;case 10:return dy(e.type._context),null;case 22:case 23:return Cy(),null;case 24:return null;default:return null}}var zu=!1,xt=!1,wN=typeof WeakSet=="function"?WeakSet:Set,M=null;function to(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){Oe(t,e,r)}else n.current=null}function Sm(t,e,n){try{n()}catch(r){Oe(t,e,r)}}var q_=!1;function EN(t,e){if(om=Uc,t=LS(),oy(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var i=r.anchorOffset,s=r.focusNode;r=r.focusOffset;try{n.nodeType,s.nodeType}catch{n=null;break e}var o=0,a=-1,l=-1,u=0,c=0,h=t,d=null;t:for(;;){for(var p;h!==n||i!==0&&h.nodeType!==3||(a=o+i),h!==s||r!==0&&h.nodeType!==3||(l=o+r),h.nodeType===3&&(o+=h.nodeValue.length),(p=h.firstChild)!==null;)d=h,h=p;for(;;){if(h===t)break t;if(d===n&&++u===i&&(a=o),d===s&&++c===r&&(l=o),(p=h.nextSibling)!==null)break;h=d,d=h.parentNode}h=p}n=a===-1||l===-1?null:{start:a,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for(am={focusedElem:t,selectionRange:n},Uc=!1,M=e;M!==null;)if(e=M,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,M=t;else for(;M!==null;){e=M;try{var g=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(g!==null){var _=g.memoizedProps,w=g.memoizedState,v=e.stateNode,m=v.getSnapshotBeforeUpdate(e.elementType===e.type?_:xn(e.type,_),w);v.__reactInternalSnapshotBeforeUpdate=m}break;case 3:var y=e.stateNode.containerInfo;y.nodeType===1?y.textContent="":y.nodeType===9&&y.documentElement&&y.removeChild(y.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(N(163))}}catch(T){Oe(e,e.return,T)}if(t=e.sibling,t!==null){t.return=e.return,M=t;break}M=e.return}return g=q_,q_=!1,g}function ja(t,e,n){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var i=r=r.next;do{if((i.tag&t)===t){var s=i.destroy;i.destroy=void 0,s!==void 0&&Sm(e,n,s)}i=i.next}while(i!==r)}}function nd(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function xm(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function Vx(t){var e=t.alternate;e!==null&&(t.alternate=null,Vx(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[Ln],delete e[ul],delete e[cm],delete e[rN],delete e[iN])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function jx(t){return t.tag===5||t.tag===3||t.tag===4}function K_(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||jx(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Im(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=Wc));else if(r!==4&&(t=t.child,t!==null))for(Im(t,e,n),t=t.sibling;t!==null;)Im(t,e,n),t=t.sibling}function Am(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(Am(t,e,n),t=t.sibling;t!==null;)Am(t,e,n),t=t.sibling}var ut=null,In=!1;function Or(t,e,n){for(n=n.child;n!==null;)Mx(t,e,n),n=n.sibling}function Mx(t,e,n){if(zn&&typeof zn.onCommitFiberUnmount=="function")try{zn.onCommitFiberUnmount(Kh,n)}catch{}switch(n.tag){case 5:xt||to(n,e);case 6:var r=ut,i=In;ut=null,Or(t,e,n),ut=r,In=i,ut!==null&&(In?(t=ut,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):ut.removeChild(n.stateNode));break;case 18:ut!==null&&(In?(t=ut,n=n.stateNode,t.nodeType===8?Ff(t.parentNode,n):t.nodeType===1&&Ff(t,n),il(t)):Ff(ut,n.stateNode));break;case 4:r=ut,i=In,ut=n.stateNode.containerInfo,In=!0,Or(t,e,n),ut=r,In=i;break;case 0:case 11:case 14:case 15:if(!xt&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){i=r=r.next;do{var s=i,o=s.destroy;s=s.tag,o!==void 0&&(s&2||s&4)&&Sm(n,e,o),i=i.next}while(i!==r)}Or(t,e,n);break;case 1:if(!xt&&(to(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(a){Oe(n,e,a)}Or(t,e,n);break;case 21:Or(t,e,n);break;case 22:n.mode&1?(xt=(r=xt)||n.memoizedState!==null,Or(t,e,n),xt=r):Or(t,e,n);break;default:Or(t,e,n)}}function Q_(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new wN),e.forEach(function(r){var i=RN.bind(null,t,r);n.has(r)||(n.add(r),r.then(i,i))})}}function Tn(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var i=n[r];try{var s=t,o=e,a=o;e:for(;a!==null;){switch(a.tag){case 5:ut=a.stateNode,In=!1;break e;case 3:ut=a.stateNode.containerInfo,In=!0;break e;case 4:ut=a.stateNode.containerInfo,In=!0;break e}a=a.return}if(ut===null)throw Error(N(160));Mx(s,o,i),ut=null,In=!1;var l=i.alternate;l!==null&&(l.return=null),i.return=null}catch(u){Oe(i,e,u)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)Lx(e,t),e=e.sibling}function Lx(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(Tn(e,t),On(t),r&4){try{ja(3,t,t.return),nd(3,t)}catch(_){Oe(t,t.return,_)}try{ja(5,t,t.return)}catch(_){Oe(t,t.return,_)}}break;case 1:Tn(e,t),On(t),r&512&&n!==null&&to(n,n.return);break;case 5:if(Tn(e,t),On(t),r&512&&n!==null&&to(n,n.return),t.flags&32){var i=t.stateNode;try{el(i,"")}catch(_){Oe(t,t.return,_)}}if(r&4&&(i=t.stateNode,i!=null)){var s=t.memoizedProps,o=n!==null?n.memoizedProps:s,a=t.type,l=t.updateQueue;if(t.updateQueue=null,l!==null)try{a==="input"&&s.type==="radio"&&s.name!=null&&sS(i,s),Xp(a,o);var u=Xp(a,s);for(o=0;o<l.length;o+=2){var c=l[o],h=l[o+1];c==="style"?cS(i,h):c==="dangerouslySetInnerHTML"?lS(i,h):c==="children"?el(i,h):qg(i,c,h,u)}switch(a){case"input":Hp(i,s);break;case"textarea":oS(i,s);break;case"select":var d=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!s.multiple;var p=s.value;p!=null?uo(i,!!s.multiple,p,!1):d!==!!s.multiple&&(s.defaultValue!=null?uo(i,!!s.multiple,s.defaultValue,!0):uo(i,!!s.multiple,s.multiple?[]:"",!1))}i[ul]=s}catch(_){Oe(t,t.return,_)}}break;case 6:if(Tn(e,t),On(t),r&4){if(t.stateNode===null)throw Error(N(162));i=t.stateNode,s=t.memoizedProps;try{i.nodeValue=s}catch(_){Oe(t,t.return,_)}}break;case 3:if(Tn(e,t),On(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{il(e.containerInfo)}catch(_){Oe(t,t.return,_)}break;case 4:Tn(e,t),On(t);break;case 13:Tn(e,t),On(t),i=t.child,i.flags&8192&&(s=i.memoizedState!==null,i.stateNode.isHidden=s,!s||i.alternate!==null&&i.alternate.memoizedState!==null||(Ay=$e())),r&4&&Q_(t);break;case 22:if(c=n!==null&&n.memoizedState!==null,t.mode&1?(xt=(u=xt)||c,Tn(e,t),xt=u):Tn(e,t),On(t),r&8192){if(u=t.memoizedState!==null,(t.stateNode.isHidden=u)&&!c&&t.mode&1)for(M=t,c=t.child;c!==null;){for(h=M=c;M!==null;){switch(d=M,p=d.child,d.tag){case 0:case 11:case 14:case 15:ja(4,d,d.return);break;case 1:to(d,d.return);var g=d.stateNode;if(typeof g.componentWillUnmount=="function"){r=d,n=d.return;try{e=r,g.props=e.memoizedProps,g.state=e.memoizedState,g.componentWillUnmount()}catch(_){Oe(r,n,_)}}break;case 5:to(d,d.return);break;case 22:if(d.memoizedState!==null){Y_(h);continue}}p!==null?(p.return=d,M=p):Y_(h)}c=c.sibling}e:for(c=null,h=t;;){if(h.tag===5){if(c===null){c=h;try{i=h.stateNode,u?(s=i.style,typeof s.setProperty=="function"?s.setProperty("display","none","important"):s.display="none"):(a=h.stateNode,l=h.memoizedProps.style,o=l!=null&&l.hasOwnProperty("display")?l.display:null,a.style.display=uS("display",o))}catch(_){Oe(t,t.return,_)}}}else if(h.tag===6){if(c===null)try{h.stateNode.nodeValue=u?"":h.memoizedProps}catch(_){Oe(t,t.return,_)}}else if((h.tag!==22&&h.tag!==23||h.memoizedState===null||h===t)&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===t)break e;for(;h.sibling===null;){if(h.return===null||h.return===t)break e;c===h&&(c=null),h=h.return}c===h&&(c=null),h.sibling.return=h.return,h=h.sibling}}break;case 19:Tn(e,t),On(t),r&4&&Q_(t);break;case 21:break;default:Tn(e,t),On(t)}}function On(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(jx(n)){var r=n;break e}n=n.return}throw Error(N(160))}switch(r.tag){case 5:var i=r.stateNode;r.flags&32&&(el(i,""),r.flags&=-33);var s=K_(t);Am(t,s,i);break;case 3:case 4:var o=r.stateNode.containerInfo,a=K_(t);Im(t,a,o);break;default:throw Error(N(161))}}catch(l){Oe(t,t.return,l)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function TN(t,e,n){M=t,Fx(t)}function Fx(t,e,n){for(var r=(t.mode&1)!==0;M!==null;){var i=M,s=i.child;if(i.tag===22&&r){var o=i.memoizedState!==null||zu;if(!o){var a=i.alternate,l=a!==null&&a.memoizedState!==null||xt;a=zu;var u=xt;if(zu=o,(xt=l)&&!u)for(M=i;M!==null;)o=M,l=o.child,o.tag===22&&o.memoizedState!==null?J_(i):l!==null?(l.return=o,M=l):J_(i);for(;s!==null;)M=s,Fx(s),s=s.sibling;M=i,zu=a,xt=u}X_(t)}else i.subtreeFlags&8772&&s!==null?(s.return=i,M=s):X_(t)}}function X_(t){for(;M!==null;){var e=M;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:xt||nd(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!xt)if(n===null)r.componentDidMount();else{var i=e.elementType===e.type?n.memoizedProps:xn(e.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var s=e.updateQueue;s!==null&&D_(e,s,r);break;case 3:var o=e.updateQueue;if(o!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}D_(e,o,n)}break;case 5:var a=e.stateNode;if(n===null&&e.flags&4){n=a;var l=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&n.focus();break;case"img":l.src&&(n.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var u=e.alternate;if(u!==null){var c=u.memoizedState;if(c!==null){var h=c.dehydrated;h!==null&&il(h)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(N(163))}xt||e.flags&512&&xm(e)}catch(d){Oe(e,e.return,d)}}if(e===t){M=null;break}if(n=e.sibling,n!==null){n.return=e.return,M=n;break}M=e.return}}function Y_(t){for(;M!==null;){var e=M;if(e===t){M=null;break}var n=e.sibling;if(n!==null){n.return=e.return,M=n;break}M=e.return}}function J_(t){for(;M!==null;){var e=M;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{nd(4,e)}catch(l){Oe(e,n,l)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var i=e.return;try{r.componentDidMount()}catch(l){Oe(e,i,l)}}var s=e.return;try{xm(e)}catch(l){Oe(e,s,l)}break;case 5:var o=e.return;try{xm(e)}catch(l){Oe(e,o,l)}}}catch(l){Oe(e,e.return,l)}if(e===t){M=null;break}var a=e.sibling;if(a!==null){a.return=e.return,M=a;break}M=e.return}}var SN=Math.ceil,th=Cr.ReactCurrentDispatcher,xy=Cr.ReactCurrentOwner,vn=Cr.ReactCurrentBatchConfig,le=0,it=null,Ge=null,pt=0,Yt=0,no=Ai(0),Ye=0,ml=null,ps=0,rd=0,Iy=0,Ma=null,Ut=null,Ay=0,Po=1/0,ar=null,nh=!1,Pm=null,ii=null,Wu=!1,Qr=null,rh=0,La=0,Cm=null,Tc=-1,Sc=0;function jt(){return le&6?$e():Tc!==-1?Tc:Tc=$e()}function si(t){return t.mode&1?le&2&&pt!==0?pt&-pt:oN.transition!==null?(Sc===0&&(Sc=TS()),Sc):(t=de,t!==0||(t=window.event,t=t===void 0?16:bS(t.type)),t):1}function Cn(t,e,n,r){if(50<La)throw La=0,Cm=null,Error(N(185));Hl(t,n,r),(!(le&2)||t!==it)&&(t===it&&(!(le&2)&&(rd|=n),Ye===4&&zr(t,pt)),qt(t,r),n===1&&le===0&&!(e.mode&1)&&(Po=$e()+500,Zh&&Pi()))}function qt(t,e){var n=t.callbackNode;ok(t,e);var r=$c(t,t===it?pt:0);if(r===0)n!==null&&a_(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(n!=null&&a_(n),e===1)t.tag===0?sN(Z_.bind(null,t)):KS(Z_.bind(null,t)),tN(function(){!(le&6)&&Pi()}),n=null;else{switch(SS(r)){case 1:n=Jg;break;case 4:n=wS;break;case 16:n=Fc;break;case 536870912:n=ES;break;default:n=Fc}n=qx(n,$x.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function $x(t,e){if(Tc=-1,Sc=0,le&6)throw Error(N(327));var n=t.callbackNode;if(mo()&&t.callbackNode!==n)return null;var r=$c(t,t===it?pt:0);if(r===0)return null;if(r&30||r&t.expiredLanes||e)e=ih(t,r);else{e=r;var i=le;le|=2;var s=Bx();(it!==t||pt!==e)&&(ar=null,Po=$e()+500,is(t,e));do try{AN();break}catch(a){Ux(t,a)}while(!0);hy(),th.current=s,le=i,Ge!==null?e=0:(it=null,pt=0,e=Ye)}if(e!==0){if(e===2&&(i=tm(t),i!==0&&(r=i,e=bm(t,i))),e===1)throw n=ml,is(t,0),zr(t,r),qt(t,$e()),n;if(e===6)zr(t,r);else{if(i=t.current.alternate,!(r&30)&&!xN(i)&&(e=ih(t,r),e===2&&(s=tm(t),s!==0&&(r=s,e=bm(t,s))),e===1))throw n=ml,is(t,0),zr(t,r),qt(t,$e()),n;switch(t.finishedWork=i,t.finishedLanes=r,e){case 0:case 1:throw Error(N(345));case 2:Bi(t,Ut,ar);break;case 3:if(zr(t,r),(r&130023424)===r&&(e=Ay+500-$e(),10<e)){if($c(t,0)!==0)break;if(i=t.suspendedLanes,(i&r)!==r){jt(),t.pingedLanes|=t.suspendedLanes&i;break}t.timeoutHandle=um(Bi.bind(null,t,Ut,ar),e);break}Bi(t,Ut,ar);break;case 4:if(zr(t,r),(r&4194240)===r)break;for(e=t.eventTimes,i=-1;0<r;){var o=31-Pn(r);s=1<<o,o=e[o],o>i&&(i=o),r&=~s}if(r=i,r=$e()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*SN(r/1960))-r,10<r){t.timeoutHandle=um(Bi.bind(null,t,Ut,ar),r);break}Bi(t,Ut,ar);break;case 5:Bi(t,Ut,ar);break;default:throw Error(N(329))}}}return qt(t,$e()),t.callbackNode===n?$x.bind(null,t):null}function bm(t,e){var n=Ma;return t.current.memoizedState.isDehydrated&&(is(t,e).flags|=256),t=ih(t,e),t!==2&&(e=Ut,Ut=n,e!==null&&Rm(e)),t}function Rm(t){Ut===null?Ut=t:Ut.push.apply(Ut,t)}function xN(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var i=n[r],s=i.getSnapshot;i=i.value;try{if(!bn(s(),i))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function zr(t,e){for(e&=~Iy,e&=~rd,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-Pn(e),r=1<<n;t[n]=-1,e&=~r}}function Z_(t){if(le&6)throw Error(N(327));mo();var e=$c(t,0);if(!(e&1))return qt(t,$e()),null;var n=ih(t,e);if(t.tag!==0&&n===2){var r=tm(t);r!==0&&(e=r,n=bm(t,r))}if(n===1)throw n=ml,is(t,0),zr(t,e),qt(t,$e()),n;if(n===6)throw Error(N(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,Bi(t,Ut,ar),qt(t,$e()),null}function Py(t,e){var n=le;le|=1;try{return t(e)}finally{le=n,le===0&&(Po=$e()+500,Zh&&Pi())}}function ms(t){Qr!==null&&Qr.tag===0&&!(le&6)&&mo();var e=le;le|=1;var n=vn.transition,r=de;try{if(vn.transition=null,de=1,t)return t()}finally{de=r,vn.transition=n,le=e,!(le&6)&&Pi()}}function Cy(){Yt=no.current,Ie(no)}function is(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,eN(n)),Ge!==null)for(n=Ge.return;n!==null;){var r=n;switch(ly(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&Hc();break;case 3:Io(),Ie(Ht),Ie(Ct),yy();break;case 5:gy(r);break;case 4:Io();break;case 13:Ie(be);break;case 19:Ie(be);break;case 10:dy(r.type._context);break;case 22:case 23:Cy()}n=n.return}if(it=t,Ge=t=oi(t.current,null),pt=Yt=e,Ye=0,ml=null,Iy=rd=ps=0,Ut=Ma=null,Xi!==null){for(e=0;e<Xi.length;e++)if(n=Xi[e],r=n.interleaved,r!==null){n.interleaved=null;var i=r.next,s=n.pending;if(s!==null){var o=s.next;s.next=i,r.next=o}n.pending=r}Xi=null}return t}function Ux(t,e){do{var n=Ge;try{if(hy(),_c.current=eh,Zc){for(var r=ke.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}Zc=!1}if(fs=0,tt=Xe=ke=null,Va=!1,dl=0,xy.current=null,n===null||n.return===null){Ye=1,ml=e,Ge=null;break}e:{var s=t,o=n.return,a=n,l=e;if(e=pt,a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var u=l,c=a,h=c.tag;if(!(c.mode&1)&&(h===0||h===11||h===15)){var d=c.alternate;d?(c.updateQueue=d.updateQueue,c.memoizedState=d.memoizedState,c.lanes=d.lanes):(c.updateQueue=null,c.memoizedState=null)}var p=$_(o);if(p!==null){p.flags&=-257,U_(p,o,a,s,e),p.mode&1&&F_(s,u,e),e=p,l=u;var g=e.updateQueue;if(g===null){var _=new Set;_.add(l),e.updateQueue=_}else g.add(l);break e}else{if(!(e&1)){F_(s,u,e),by();break e}l=Error(N(426))}}else if(Pe&&a.mode&1){var w=$_(o);if(w!==null){!(w.flags&65536)&&(w.flags|=256),U_(w,o,a,s,e),uy(Ao(l,a));break e}}s=l=Ao(l,a),Ye!==4&&(Ye=2),Ma===null?Ma=[s]:Ma.push(s),s=o;do{switch(s.tag){case 3:s.flags|=65536,e&=-e,s.lanes|=e;var v=xx(s,l,e);N_(s,v);break e;case 1:a=l;var m=s.type,y=s.stateNode;if(!(s.flags&128)&&(typeof m.getDerivedStateFromError=="function"||y!==null&&typeof y.componentDidCatch=="function"&&(ii===null||!ii.has(y)))){s.flags|=65536,e&=-e,s.lanes|=e;var T=Ix(s,a,e);N_(s,T);break e}}s=s.return}while(s!==null)}Wx(n)}catch(S){e=S,Ge===n&&n!==null&&(Ge=n=n.return);continue}break}while(!0)}function Bx(){var t=th.current;return th.current=eh,t===null?eh:t}function by(){(Ye===0||Ye===3||Ye===2)&&(Ye=4),it===null||!(ps&268435455)&&!(rd&268435455)||zr(it,pt)}function ih(t,e){var n=le;le|=2;var r=Bx();(it!==t||pt!==e)&&(ar=null,is(t,e));do try{IN();break}catch(i){Ux(t,i)}while(!0);if(hy(),le=n,th.current=r,Ge!==null)throw Error(N(261));return it=null,pt=0,Ye}function IN(){for(;Ge!==null;)zx(Ge)}function AN(){for(;Ge!==null&&!YR();)zx(Ge)}function zx(t){var e=Gx(t.alternate,t,Yt);t.memoizedProps=t.pendingProps,e===null?Wx(t):Ge=e,xy.current=null}function Wx(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=_N(n,e),n!==null){n.flags&=32767,Ge=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{Ye=6,Ge=null;return}}else if(n=vN(n,e,Yt),n!==null){Ge=n;return}if(e=e.sibling,e!==null){Ge=e;return}Ge=e=t}while(e!==null);Ye===0&&(Ye=5)}function Bi(t,e,n){var r=de,i=vn.transition;try{vn.transition=null,de=1,PN(t,e,n,r)}finally{vn.transition=i,de=r}return null}function PN(t,e,n,r){do mo();while(Qr!==null);if(le&6)throw Error(N(327));n=t.finishedWork;var i=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(N(177));t.callbackNode=null,t.callbackPriority=0;var s=n.lanes|n.childLanes;if(ak(t,s),t===it&&(Ge=it=null,pt=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||Wu||(Wu=!0,qx(Fc,function(){return mo(),null})),s=(n.flags&15990)!==0,n.subtreeFlags&15990||s){s=vn.transition,vn.transition=null;var o=de;de=1;var a=le;le|=4,xy.current=null,EN(t,n),Lx(n,t),qk(am),Uc=!!om,am=om=null,t.current=n,TN(n),JR(),le=a,de=o,vn.transition=s}else t.current=n;if(Wu&&(Wu=!1,Qr=t,rh=i),s=t.pendingLanes,s===0&&(ii=null),tk(n.stateNode),qt(t,$e()),e!==null)for(r=t.onRecoverableError,n=0;n<e.length;n++)i=e[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(nh)throw nh=!1,t=Pm,Pm=null,t;return rh&1&&t.tag!==0&&mo(),s=t.pendingLanes,s&1?t===Cm?La++:(La=0,Cm=t):La=0,Pi(),null}function mo(){if(Qr!==null){var t=SS(rh),e=vn.transition,n=de;try{if(vn.transition=null,de=16>t?16:t,Qr===null)var r=!1;else{if(t=Qr,Qr=null,rh=0,le&6)throw Error(N(331));var i=le;for(le|=4,M=t.current;M!==null;){var s=M,o=s.child;if(M.flags&16){var a=s.deletions;if(a!==null){for(var l=0;l<a.length;l++){var u=a[l];for(M=u;M!==null;){var c=M;switch(c.tag){case 0:case 11:case 15:ja(8,c,s)}var h=c.child;if(h!==null)h.return=c,M=h;else for(;M!==null;){c=M;var d=c.sibling,p=c.return;if(Vx(c),c===u){M=null;break}if(d!==null){d.return=p,M=d;break}M=p}}}var g=s.alternate;if(g!==null){var _=g.child;if(_!==null){g.child=null;do{var w=_.sibling;_.sibling=null,_=w}while(_!==null)}}M=s}}if(s.subtreeFlags&2064&&o!==null)o.return=s,M=o;else e:for(;M!==null;){if(s=M,s.flags&2048)switch(s.tag){case 0:case 11:case 15:ja(9,s,s.return)}var v=s.sibling;if(v!==null){v.return=s.return,M=v;break e}M=s.return}}var m=t.current;for(M=m;M!==null;){o=M;var y=o.child;if(o.subtreeFlags&2064&&y!==null)y.return=o,M=y;else e:for(o=m;M!==null;){if(a=M,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:nd(9,a)}}catch(S){Oe(a,a.return,S)}if(a===o){M=null;break e}var T=a.sibling;if(T!==null){T.return=a.return,M=T;break e}M=a.return}}if(le=i,Pi(),zn&&typeof zn.onPostCommitFiberRoot=="function")try{zn.onPostCommitFiberRoot(Kh,t)}catch{}r=!0}return r}finally{de=n,vn.transition=e}}return!1}function ew(t,e,n){e=Ao(n,e),e=xx(t,e,1),t=ri(t,e,1),e=jt(),t!==null&&(Hl(t,1,e),qt(t,e))}function Oe(t,e,n){if(t.tag===3)ew(t,t,n);else for(;e!==null;){if(e.tag===3){ew(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(ii===null||!ii.has(r))){t=Ao(n,t),t=Ix(e,t,1),e=ri(e,t,1),t=jt(),e!==null&&(Hl(e,1,t),qt(e,t));break}}e=e.return}}function CN(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=jt(),t.pingedLanes|=t.suspendedLanes&n,it===t&&(pt&n)===n&&(Ye===4||Ye===3&&(pt&130023424)===pt&&500>$e()-Ay?is(t,0):Iy|=n),qt(t,e)}function Hx(t,e){e===0&&(t.mode&1?(e=Ou,Ou<<=1,!(Ou&130023424)&&(Ou=4194304)):e=1);var n=jt();t=Tr(t,e),t!==null&&(Hl(t,e,n),qt(t,n))}function bN(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),Hx(t,n)}function RN(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,i=t.memoizedState;i!==null&&(n=i.retryLane);break;case 19:r=t.stateNode;break;default:throw Error(N(314))}r!==null&&r.delete(e),Hx(t,n)}var Gx;Gx=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||Ht.current)Wt=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return Wt=!1,yN(t,e,n);Wt=!!(t.flags&131072)}else Wt=!1,Pe&&e.flags&1048576&&QS(e,Kc,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;Ec(t,e),t=e.pendingProps;var i=To(e,Ct.current);po(e,n),i=_y(null,e,r,t,i,n);var s=wy();return e.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,Gt(r)?(s=!0,Gc(e)):s=!1,e.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,py(e),i.updater=ed,e.stateNode=i,i._reactInternals=e,gm(e,r,t,n),e=_m(null,e,r,!0,s,n)):(e.tag=0,Pe&&s&&ay(e),Ot(null,e,i,n),e=e.child),e;case 16:r=e.elementType;e:{switch(Ec(t,e),t=e.pendingProps,i=r._init,r=i(r._payload),e.type=r,i=e.tag=NN(r),t=xn(r,t),i){case 0:e=vm(null,e,r,t,n);break e;case 1:e=W_(null,e,r,t,n);break e;case 11:e=B_(null,e,r,t,n);break e;case 14:e=z_(null,e,r,xn(r.type,t),n);break e}throw Error(N(306,r,""))}return e;case 0:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:xn(r,i),vm(t,e,r,i,n);case 1:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:xn(r,i),W_(t,e,r,i,n);case 3:e:{if(bx(e),t===null)throw Error(N(387));r=e.pendingProps,s=e.memoizedState,i=s.element,ZS(t,e),Yc(e,r,null,n);var o=e.memoizedState;if(r=o.element,s.isDehydrated)if(s={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},e.updateQueue.baseState=s,e.memoizedState=s,e.flags&256){i=Ao(Error(N(423)),e),e=H_(t,e,r,n,i);break e}else if(r!==i){i=Ao(Error(N(424)),e),e=H_(t,e,r,n,i);break e}else for(Jt=ni(e.stateNode.containerInfo.firstChild),sn=e,Pe=!0,An=null,n=rx(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(So(),r===i){e=Sr(t,e,n);break e}Ot(t,e,r,n)}e=e.child}return e;case 5:return ix(e),t===null&&fm(e),r=e.type,i=e.pendingProps,s=t!==null?t.memoizedProps:null,o=i.children,lm(r,i)?o=null:s!==null&&lm(r,s)&&(e.flags|=32),Cx(t,e),Ot(t,e,o,n),e.child;case 6:return t===null&&fm(e),null;case 13:return Rx(t,e,n);case 4:return my(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=xo(e,null,r,n):Ot(t,e,r,n),e.child;case 11:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:xn(r,i),B_(t,e,r,i,n);case 7:return Ot(t,e,e.pendingProps,n),e.child;case 8:return Ot(t,e,e.pendingProps.children,n),e.child;case 12:return Ot(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(r=e.type._context,i=e.pendingProps,s=e.memoizedProps,o=i.value,ge(Qc,r._currentValue),r._currentValue=o,s!==null)if(bn(s.value,o)){if(s.children===i.children&&!Ht.current){e=Sr(t,e,n);break e}}else for(s=e.child,s!==null&&(s.return=e);s!==null;){var a=s.dependencies;if(a!==null){o=s.child;for(var l=a.firstContext;l!==null;){if(l.context===r){if(s.tag===1){l=yr(-1,n&-n),l.tag=2;var u=s.updateQueue;if(u!==null){u=u.shared;var c=u.pending;c===null?l.next=l:(l.next=c.next,c.next=l),u.pending=l}}s.lanes|=n,l=s.alternate,l!==null&&(l.lanes|=n),pm(s.return,n,e),a.lanes|=n;break}l=l.next}}else if(s.tag===10)o=s.type===e.type?null:s.child;else if(s.tag===18){if(o=s.return,o===null)throw Error(N(341));o.lanes|=n,a=o.alternate,a!==null&&(a.lanes|=n),pm(o,n,e),o=s.sibling}else o=s.child;if(o!==null)o.return=s;else for(o=s;o!==null;){if(o===e){o=null;break}if(s=o.sibling,s!==null){s.return=o.return,o=s;break}o=o.return}s=o}Ot(t,e,i.children,n),e=e.child}return e;case 9:return i=e.type,r=e.pendingProps.children,po(e,n),i=_n(i),r=r(i),e.flags|=1,Ot(t,e,r,n),e.child;case 14:return r=e.type,i=xn(r,e.pendingProps),i=xn(r.type,i),z_(t,e,r,i,n);case 15:return Ax(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:xn(r,i),Ec(t,e),e.tag=1,Gt(r)?(t=!0,Gc(e)):t=!1,po(e,n),tx(e,r,i),gm(e,r,i,n),_m(null,e,r,!0,t,n);case 19:return kx(t,e,n);case 22:return Px(t,e,n)}throw Error(N(156,e.tag))};function qx(t,e){return _S(t,e)}function kN(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function yn(t,e,n,r){return new kN(t,e,n,r)}function Ry(t){return t=t.prototype,!(!t||!t.isReactComponent)}function NN(t){if(typeof t=="function")return Ry(t)?1:0;if(t!=null){if(t=t.$$typeof,t===Qg)return 11;if(t===Xg)return 14}return 2}function oi(t,e){var n=t.alternate;return n===null?(n=yn(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function xc(t,e,n,r,i,s){var o=2;if(r=t,typeof t=="function")Ry(t)&&(o=1);else if(typeof t=="string")o=5;else e:switch(t){case Gs:return ss(n.children,i,s,e);case Kg:o=8,i|=8;break;case $p:return t=yn(12,n,e,i|2),t.elementType=$p,t.lanes=s,t;case Up:return t=yn(13,n,e,i),t.elementType=Up,t.lanes=s,t;case Bp:return t=yn(19,n,e,i),t.elementType=Bp,t.lanes=s,t;case nS:return id(n,i,s,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case eS:o=10;break e;case tS:o=9;break e;case Qg:o=11;break e;case Xg:o=14;break e;case Lr:o=16,r=null;break e}throw Error(N(130,t==null?t:typeof t,""))}return e=yn(o,n,e,i),e.elementType=t,e.type=r,e.lanes=s,e}function ss(t,e,n,r){return t=yn(7,t,r,e),t.lanes=n,t}function id(t,e,n,r){return t=yn(22,t,r,e),t.elementType=nS,t.lanes=n,t.stateNode={isHidden:!1},t}function qf(t,e,n){return t=yn(6,t,null,e),t.lanes=n,t}function Kf(t,e,n){return e=yn(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function DN(t,e,n,r,i){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Cf(0),this.expirationTimes=Cf(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Cf(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function ky(t,e,n,r,i,s,o,a,l){return t=new DN(t,e,n,a,l),e===1?(e=1,s===!0&&(e|=8)):e=0,s=yn(3,null,null,e),t.current=s,s.stateNode=t,s.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},py(s),t}function ON(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Hs,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function Kx(t){if(!t)return gi;t=t._reactInternals;e:{if(As(t)!==t||t.tag!==1)throw Error(N(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(Gt(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(N(171))}if(t.tag===1){var n=t.type;if(Gt(n))return qS(t,n,e)}return e}function Qx(t,e,n,r,i,s,o,a,l){return t=ky(n,r,!0,t,i,s,o,a,l),t.context=Kx(null),n=t.current,r=jt(),i=si(n),s=yr(r,i),s.callback=e??null,ri(n,s,i),t.current.lanes=i,Hl(t,i,r),qt(t,r),t}function sd(t,e,n,r){var i=e.current,s=jt(),o=si(i);return n=Kx(n),e.context===null?e.context=n:e.pendingContext=n,e=yr(s,o),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),t=ri(i,e,o),t!==null&&(Cn(t,i,o,s),vc(t,i,o)),o}function sh(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function tw(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function Ny(t,e){tw(t,e),(t=t.alternate)&&tw(t,e)}function VN(){return null}var Xx=typeof reportError=="function"?reportError:function(t){console.error(t)};function Dy(t){this._internalRoot=t}od.prototype.render=Dy.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(N(409));sd(t,e,null,null)};od.prototype.unmount=Dy.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;ms(function(){sd(null,t,null,null)}),e[Er]=null}};function od(t){this._internalRoot=t}od.prototype.unstable_scheduleHydration=function(t){if(t){var e=AS();t={blockedOn:null,target:t,priority:e};for(var n=0;n<Br.length&&e!==0&&e<Br[n].priority;n++);Br.splice(n,0,t),n===0&&CS(t)}};function Oy(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function ad(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function nw(){}function jN(t,e,n,r,i){if(i){if(typeof r=="function"){var s=r;r=function(){var u=sh(o);s.call(u)}}var o=Qx(e,r,t,0,null,!1,!1,"",nw);return t._reactRootContainer=o,t[Er]=o.current,al(t.nodeType===8?t.parentNode:t),ms(),o}for(;i=t.lastChild;)t.removeChild(i);if(typeof r=="function"){var a=r;r=function(){var u=sh(l);a.call(u)}}var l=ky(t,0,!1,null,null,!1,!1,"",nw);return t._reactRootContainer=l,t[Er]=l.current,al(t.nodeType===8?t.parentNode:t),ms(function(){sd(e,l,n,r)}),l}function ld(t,e,n,r,i){var s=n._reactRootContainer;if(s){var o=s;if(typeof i=="function"){var a=i;i=function(){var l=sh(o);a.call(l)}}sd(e,o,t,i)}else o=jN(n,e,t,i,r);return sh(o)}xS=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=wa(e.pendingLanes);n!==0&&(Zg(e,n|1),qt(e,$e()),!(le&6)&&(Po=$e()+500,Pi()))}break;case 13:ms(function(){var r=Tr(t,1);if(r!==null){var i=jt();Cn(r,t,1,i)}}),Ny(t,1)}};ey=function(t){if(t.tag===13){var e=Tr(t,134217728);if(e!==null){var n=jt();Cn(e,t,134217728,n)}Ny(t,134217728)}};IS=function(t){if(t.tag===13){var e=si(t),n=Tr(t,e);if(n!==null){var r=jt();Cn(n,t,e,r)}Ny(t,e)}};AS=function(){return de};PS=function(t,e){var n=de;try{return de=t,e()}finally{de=n}};Jp=function(t,e,n){switch(e){case"input":if(Hp(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var i=Jh(r);if(!i)throw Error(N(90));iS(r),Hp(r,i)}}}break;case"textarea":oS(t,n);break;case"select":e=n.value,e!=null&&uo(t,!!n.multiple,e,!1)}};fS=Py;pS=ms;var MN={usingClientEntryPoint:!1,Events:[ql,Xs,Jh,hS,dS,Py]},ua={findFiberByHostInstance:Qi,bundleType:0,version:"18.2.0",rendererPackageName:"react-dom"},LN={bundleType:ua.bundleType,version:ua.version,rendererPackageName:ua.rendererPackageName,rendererConfig:ua.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Cr.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=yS(t),t===null?null:t.stateNode},findFiberByHostInstance:ua.findFiberByHostInstance||VN,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0-next-9e3b772b8-20220608"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Hu=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Hu.isDisabled&&Hu.supportsFiber)try{Kh=Hu.inject(LN),zn=Hu}catch{}}un.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=MN;un.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Oy(e))throw Error(N(200));return ON(t,e,null,n)};un.createRoot=function(t,e){if(!Oy(t))throw Error(N(299));var n=!1,r="",i=Xx;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(i=e.onRecoverableError)),e=ky(t,1,!1,null,null,n,!1,r,i),t[Er]=e.current,al(t.nodeType===8?t.parentNode:t),new Dy(e)};un.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(N(188)):(t=Object.keys(t).join(","),Error(N(268,t)));return t=yS(e),t=t===null?null:t.stateNode,t};un.flushSync=function(t){return ms(t)};un.hydrate=function(t,e,n){if(!ad(e))throw Error(N(200));return ld(null,t,e,!0,n)};un.hydrateRoot=function(t,e,n){if(!Oy(t))throw Error(N(405));var r=n!=null&&n.hydratedSources||null,i=!1,s="",o=Xx;if(n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(s=n.identifierPrefix),n.onRecoverableError!==void 0&&(o=n.onRecoverableError)),e=Qx(e,null,t,1,n??null,i,!1,s,o),t[Er]=e.current,al(t),r)for(t=0;t<r.length;t++)n=r[t],i=n._getVersion,i=i(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,i]:e.mutableSourceEagerHydrationData.push(n,i);return new od(e)};un.render=function(t,e,n){if(!ad(e))throw Error(N(200));return ld(null,t,e,!1,n)};un.unmountComponentAtNode=function(t){if(!ad(t))throw Error(N(40));return t._reactRootContainer?(ms(function(){ld(null,null,t,!1,function(){t._reactRootContainer=null,t[Er]=null})}),!0):!1};un.unstable_batchedUpdates=Py;un.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!ad(n))throw Error(N(200));if(t==null||t._reactInternals===void 0)throw Error(N(38));return ld(t,e,n,!1,r)};un.version="18.2.0-next-9e3b772b8-20220608";function Yx(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(Yx)}catch(t){console.error(t)}}Yx(),QT.exports=un;var FN=QT.exports,rw=FN;Lp.createRoot=rw.createRoot,Lp.hydrateRoot=rw.hydrateRoot;/**
 * @remix-run/router v1.13.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function gl(){return gl=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},gl.apply(this,arguments)}var Xr;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(Xr||(Xr={}));const iw="popstate";function $N(t){t===void 0&&(t={});function e(r,i){let{pathname:s,search:o,hash:a}=r.location;return km("",{pathname:s,search:o,hash:a},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function n(r,i){return typeof i=="string"?i:oh(i)}return BN(e,n,null,t)}function Ke(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function Vy(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function UN(){return Math.random().toString(36).substr(2,8)}function sw(t,e){return{usr:t.state,key:t.key,idx:e}}function km(t,e,n,r){return n===void 0&&(n=null),gl({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof e=="string"?Ho(e):e,{state:n,key:e&&e.key||r||UN()})}function oh(t){let{pathname:e="/",search:n="",hash:r=""}=t;return n&&n!=="?"&&(e+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(e+=r.charAt(0)==="#"?r:"#"+r),e}function Ho(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substr(n),t=t.substr(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substr(r),t=t.substr(0,r)),t&&(e.pathname=t)}return e}function BN(t,e,n,r){r===void 0&&(r={});let{window:i=document.defaultView,v5Compat:s=!1}=r,o=i.history,a=Xr.Pop,l=null,u=c();u==null&&(u=0,o.replaceState(gl({},o.state,{idx:u}),""));function c(){return(o.state||{idx:null}).idx}function h(){a=Xr.Pop;let w=c(),v=w==null?null:w-u;u=w,l&&l({action:a,location:_.location,delta:v})}function d(w,v){a=Xr.Push;let m=km(_.location,w,v);n&&n(m,w),u=c()+1;let y=sw(m,u),T=_.createHref(m);try{o.pushState(y,"",T)}catch(S){if(S instanceof DOMException&&S.name==="DataCloneError")throw S;i.location.assign(T)}s&&l&&l({action:a,location:_.location,delta:1})}function p(w,v){a=Xr.Replace;let m=km(_.location,w,v);n&&n(m,w),u=c();let y=sw(m,u),T=_.createHref(m);o.replaceState(y,"",T),s&&l&&l({action:a,location:_.location,delta:0})}function g(w){let v=i.location.origin!=="null"?i.location.origin:i.location.href,m=typeof w=="string"?w:oh(w);return Ke(v,"No window.location.(origin|href) available to create URL for href: "+m),new URL(m,v)}let _={get action(){return a},get location(){return t(i,o)},listen(w){if(l)throw new Error("A history only accepts one active listener");return i.addEventListener(iw,h),l=w,()=>{i.removeEventListener(iw,h),l=null}},createHref(w){return e(i,w)},createURL:g,encodeLocation(w){let v=g(w);return{pathname:v.pathname,search:v.search,hash:v.hash}},push:d,replace:p,go(w){return o.go(w)}};return _}var ow;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(ow||(ow={}));function zN(t,e,n){n===void 0&&(n="/");let r=typeof e=="string"?Ho(e):e,i=jy(r.pathname||"/",n);if(i==null)return null;let s=Jx(t);WN(s);let o=null;for(let a=0;o==null&&a<s.length;++a)o=ZN(s[a],nD(i));return o}function Jx(t,e,n,r){e===void 0&&(e=[]),n===void 0&&(n=[]),r===void 0&&(r="");let i=(s,o,a)=>{let l={relativePath:a===void 0?s.path||"":a,caseSensitive:s.caseSensitive===!0,childrenIndex:o,route:s};l.relativePath.startsWith("/")&&(Ke(l.relativePath.startsWith(r),'Absolute route path "'+l.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),l.relativePath=l.relativePath.slice(r.length));let u=ai([r,l.relativePath]),c=n.concat(l);s.children&&s.children.length>0&&(Ke(s.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+u+'".')),Jx(s.children,e,c,u)),!(s.path==null&&!s.index)&&e.push({path:u,score:YN(u,s.index),routesMeta:c})};return t.forEach((s,o)=>{var a;if(s.path===""||!((a=s.path)!=null&&a.includes("?")))i(s,o);else for(let l of Zx(s.path))i(s,o,l)}),e}function Zx(t){let e=t.split("/");if(e.length===0)return[];let[n,...r]=e,i=n.endsWith("?"),s=n.replace(/\?$/,"");if(r.length===0)return i?[s,""]:[s];let o=Zx(r.join("/")),a=[];return a.push(...o.map(l=>l===""?s:[s,l].join("/"))),i&&a.push(...o),a.map(l=>t.startsWith("/")&&l===""?"/":l)}function WN(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:JN(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const HN=/^:\w+$/,GN=3,qN=2,KN=1,QN=10,XN=-2,aw=t=>t==="*";function YN(t,e){let n=t.split("/"),r=n.length;return n.some(aw)&&(r+=XN),e&&(r+=qN),n.filter(i=>!aw(i)).reduce((i,s)=>i+(HN.test(s)?GN:s===""?KN:QN),r)}function JN(t,e){return t.length===e.length&&t.slice(0,-1).every((r,i)=>r===e[i])?t[t.length-1]-e[e.length-1]:0}function ZN(t,e){let{routesMeta:n}=t,r={},i="/",s=[];for(let o=0;o<n.length;++o){let a=n[o],l=o===n.length-1,u=i==="/"?e:e.slice(i.length)||"/",c=eD({path:a.relativePath,caseSensitive:a.caseSensitive,end:l},u);if(!c)return null;Object.assign(r,c.params);let h=a.route;s.push({params:r,pathname:ai([i,c.pathname]),pathnameBase:aD(ai([i,c.pathnameBase])),route:h}),c.pathnameBase!=="/"&&(i=ai([i,c.pathnameBase]))}return s}function eD(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=tD(t.path,t.caseSensitive,t.end),i=e.match(n);if(!i)return null;let s=i[0],o=s.replace(/(.)\/+$/,"$1"),a=i.slice(1);return{params:r.reduce((u,c,h)=>{let{paramName:d,isOptional:p}=c;if(d==="*"){let _=a[h]||"";o=s.slice(0,s.length-_.length).replace(/(.)\/+$/,"$1")}const g=a[h];return p&&!g?u[d]=void 0:u[d]=rD(g||"",d),u},{}),pathname:s,pathnameBase:o,pattern:t}}function tD(t,e,n){e===void 0&&(e=!1),n===void 0&&(n=!0),Vy(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let r=[],i="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:(\w+)(\?)?/g,(o,a,l)=>(r.push({paramName:a,isOptional:l!=null}),l?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(r.push({paramName:"*"}),i+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":t!==""&&t!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,e?void 0:"i"),r]}function nD(t){try{return decodeURI(t)}catch(e){return Vy(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),t}}function rD(t,e){try{return decodeURIComponent(t)}catch(n){return Vy(!1,'The value for the URL param "'+e+'" will not be decoded because'+(' the string "'+t+'" is a malformed URL segment. This is probably')+(" due to a bad percent encoding ("+n+").")),t}}function jy(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}function iD(t,e){e===void 0&&(e="/");let{pathname:n,search:r="",hash:i=""}=typeof t=="string"?Ho(t):t;return{pathname:n?n.startsWith("/")?n:sD(n,e):e,search:lD(r),hash:uD(i)}}function sD(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(i=>{i===".."?n.length>1&&n.pop():i!=="."&&n.push(i)}),n.length>1?n.join("/"):"/"}function Qf(t,e,n,r){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function oD(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function eI(t){return oD(t).map((e,n)=>n===t.length-1?e.pathname:e.pathnameBase)}function tI(t,e,n,r){r===void 0&&(r=!1);let i;typeof t=="string"?i=Ho(t):(i=gl({},t),Ke(!i.pathname||!i.pathname.includes("?"),Qf("?","pathname","search",i)),Ke(!i.pathname||!i.pathname.includes("#"),Qf("#","pathname","hash",i)),Ke(!i.search||!i.search.includes("#"),Qf("#","search","hash",i)));let s=t===""||i.pathname==="",o=s?"/":i.pathname,a;if(o==null)a=n;else if(r){let h=e[e.length-1].replace(/^\//,"").split("/");if(o.startsWith("..")){let d=o.split("/");for(;d[0]==="..";)d.shift(),h.pop();i.pathname=d.join("/")}a="/"+h.join("/")}else{let h=e.length-1;if(o.startsWith("..")){let d=o.split("/");for(;d[0]==="..";)d.shift(),h-=1;i.pathname=d.join("/")}a=h>=0?e[h]:"/"}let l=iD(i,a),u=o&&o!=="/"&&o.endsWith("/"),c=(s||o===".")&&n.endsWith("/");return!l.pathname.endsWith("/")&&(u||c)&&(l.pathname+="/"),l}const ai=t=>t.join("/").replace(/\/\/+/g,"/"),aD=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),lD=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,uD=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function cD(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}const nI=["post","put","patch","delete"];new Set(nI);const hD=["get",...nI];new Set(hD);/**
 * React Router v6.20.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function ah(){return ah=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},ah.apply(this,arguments)}const My=E.createContext(null),dD=E.createContext(null),Go=E.createContext(null),ud=E.createContext(null),Ci=E.createContext({outlet:null,matches:[],isDataRoute:!1}),rI=E.createContext(null);function fD(t,e){let{relative:n}=e===void 0?{}:e;Ql()||Ke(!1);let{basename:r,navigator:i}=E.useContext(Go),{hash:s,pathname:o,search:a}=sI(t,{relative:n}),l=o;return r!=="/"&&(l=o==="/"?r:ai([r,o])),i.createHref({pathname:l,search:a,hash:s})}function Ql(){return E.useContext(ud)!=null}function cd(){return Ql()||Ke(!1),E.useContext(ud).location}function iI(t){E.useContext(Go).static||E.useLayoutEffect(t)}function Xl(){let{isDataRoute:t}=E.useContext(Ci);return t?PD():pD()}function pD(){Ql()||Ke(!1);let t=E.useContext(My),{basename:e,navigator:n}=E.useContext(Go),{matches:r}=E.useContext(Ci),{pathname:i}=cd(),s=JSON.stringify(eI(r)),o=E.useRef(!1);return iI(()=>{o.current=!0}),E.useCallback(function(l,u){if(u===void 0&&(u={}),!o.current)return;if(typeof l=="number"){n.go(l);return}let c=tI(l,JSON.parse(s),i,u.relative==="path");t==null&&e!=="/"&&(c.pathname=c.pathname==="/"?e:ai([e,c.pathname])),(u.replace?n.replace:n.push)(c,u.state,u)},[e,n,s,i,t])}function mD(){let{matches:t}=E.useContext(Ci),e=t[t.length-1];return e?e.params:{}}function sI(t,e){let{relative:n}=e===void 0?{}:e,{matches:r}=E.useContext(Ci),{pathname:i}=cd(),s=JSON.stringify(eI(r));return E.useMemo(()=>tI(t,JSON.parse(s),i,n==="path"),[t,s,i,n])}function gD(t,e){return yD(t,e)}function yD(t,e,n){Ql()||Ke(!1);let{navigator:r}=E.useContext(Go),{matches:i}=E.useContext(Ci),s=i[i.length-1],o=s?s.params:{};s&&s.pathname;let a=s?s.pathnameBase:"/";s&&s.route;let l=cd(),u;if(e){var c;let _=typeof e=="string"?Ho(e):e;a==="/"||(c=_.pathname)!=null&&c.startsWith(a)||Ke(!1),u=_}else u=l;let h=u.pathname||"/",d=a==="/"?h:h.slice(a.length)||"/",p=zN(t,{pathname:d}),g=TD(p&&p.map(_=>Object.assign({},_,{params:Object.assign({},o,_.params),pathname:ai([a,r.encodeLocation?r.encodeLocation(_.pathname).pathname:_.pathname]),pathnameBase:_.pathnameBase==="/"?a:ai([a,r.encodeLocation?r.encodeLocation(_.pathnameBase).pathname:_.pathnameBase])})),i,n);return e&&g?E.createElement(ud.Provider,{value:{location:ah({pathname:"/",search:"",hash:"",state:null,key:"default"},u),navigationType:Xr.Pop}},g):g}function vD(){let t=AD(),e=cD(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,i={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"},s=null;return E.createElement(E.Fragment,null,E.createElement("h2",null,"Unexpected Application Error!"),E.createElement("h3",{style:{fontStyle:"italic"}},e),n?E.createElement("pre",{style:i},n):null,s)}const _D=E.createElement(vD,null);class wD extends E.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,n){return n.location!==e.location||n.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error||n.error,location:n.location,revalidation:e.revalidation||n.revalidation}}componentDidCatch(e,n){console.error("React Router caught the following error during render",e,n)}render(){return this.state.error?E.createElement(Ci.Provider,{value:this.props.routeContext},E.createElement(rI.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function ED(t){let{routeContext:e,match:n,children:r}=t,i=E.useContext(My);return i&&i.static&&i.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=n.route.id),E.createElement(Ci.Provider,{value:e},r)}function TD(t,e,n){var r;if(e===void 0&&(e=[]),n===void 0&&(n=null),t==null){var i;if((i=n)!=null&&i.errors)t=n.matches;else return null}let s=t,o=(r=n)==null?void 0:r.errors;if(o!=null){let a=s.findIndex(l=>l.route.id&&(o==null?void 0:o[l.route.id]));a>=0||Ke(!1),s=s.slice(0,Math.min(s.length,a+1))}return s.reduceRight((a,l,u)=>{let c=l.route.id?o==null?void 0:o[l.route.id]:null,h=null;n&&(h=l.route.errorElement||_D);let d=e.concat(s.slice(0,u+1)),p=()=>{let g;return c?g=h:l.route.Component?g=E.createElement(l.route.Component,null):l.route.element?g=l.route.element:g=a,E.createElement(ED,{match:l,routeContext:{outlet:a,matches:d,isDataRoute:n!=null},children:g})};return n&&(l.route.ErrorBoundary||l.route.errorElement||u===0)?E.createElement(wD,{location:n.location,revalidation:n.revalidation,component:h,error:c,children:p(),routeContext:{outlet:null,matches:d,isDataRoute:!0}}):p()},null)}var oI=function(t){return t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t}(oI||{}),lh=function(t){return t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t.UseRouteId="useRouteId",t}(lh||{});function SD(t){let e=E.useContext(My);return e||Ke(!1),e}function xD(t){let e=E.useContext(dD);return e||Ke(!1),e}function ID(t){let e=E.useContext(Ci);return e||Ke(!1),e}function aI(t){let e=ID(),n=e.matches[e.matches.length-1];return n.route.id||Ke(!1),n.route.id}function AD(){var t;let e=E.useContext(rI),n=xD(lh.UseRouteError),r=aI(lh.UseRouteError);return e||((t=n.errors)==null?void 0:t[r])}function PD(){let{router:t}=SD(oI.UseNavigateStable),e=aI(lh.UseNavigateStable),n=E.useRef(!1);return iI(()=>{n.current=!0}),E.useCallback(function(i,s){s===void 0&&(s={}),n.current&&(typeof i=="number"?t.navigate(i):t.navigate(i,ah({fromRouteId:e},s)))},[t,e])}function Xt(t){Ke(!1)}function CD(t){let{basename:e="/",children:n=null,location:r,navigationType:i=Xr.Pop,navigator:s,static:o=!1}=t;Ql()&&Ke(!1);let a=e.replace(/^\/*/,"/"),l=E.useMemo(()=>({basename:a,navigator:s,static:o}),[a,s,o]);typeof r=="string"&&(r=Ho(r));let{pathname:u="/",search:c="",hash:h="",state:d=null,key:p="default"}=r,g=E.useMemo(()=>{let _=jy(u,a);return _==null?null:{location:{pathname:_,search:c,hash:h,state:d,key:p},navigationType:i}},[a,u,c,h,d,p,i]);return g==null?null:E.createElement(Go.Provider,{value:l},E.createElement(ud.Provider,{children:n,value:g}))}function bD(t){let{children:e,location:n}=t;return gD(Nm(e),n)}new Promise(()=>{});function Nm(t,e){e===void 0&&(e=[]);let n=[];return E.Children.forEach(t,(r,i)=>{if(!E.isValidElement(r))return;let s=[...e,i];if(r.type===E.Fragment){n.push.apply(n,Nm(r.props.children,s));return}r.type!==Xt&&Ke(!1),!r.props.index||!r.props.children||Ke(!1);let o={id:r.props.id||s.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(o.children=Nm(r.props.children,s)),n.push(o)}),n}/**
 * React Router DOM v6.20.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Dm(){return Dm=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Dm.apply(this,arguments)}function RD(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,s;for(s=0;s<r.length;s++)i=r[s],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}function kD(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function ND(t,e){return t.button===0&&(!e||e==="_self")&&!kD(t)}const DD=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","unstable_viewTransition"],OD="startTransition",lw=bR[OD];function VD(t){let{basename:e,children:n,future:r,window:i}=t,s=E.useRef();s.current==null&&(s.current=$N({window:i,v5Compat:!0}));let o=s.current,[a,l]=E.useState({action:o.action,location:o.location}),{v7_startTransition:u}=r||{},c=E.useCallback(h=>{u&&lw?lw(()=>l(h)):l(h)},[l,u]);return E.useLayoutEffect(()=>o.listen(c),[o,c]),E.createElement(CD,{basename:e,children:n,location:a.location,navigationType:a.action,navigator:o})}const jD=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",MD=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,nt=E.forwardRef(function(e,n){let{onClick:r,relative:i,reloadDocument:s,replace:o,state:a,target:l,to:u,preventScrollReset:c,unstable_viewTransition:h}=e,d=RD(e,DD),{basename:p}=E.useContext(Go),g,_=!1;if(typeof u=="string"&&MD.test(u)&&(g=u,jD))try{let y=new URL(window.location.href),T=u.startsWith("//")?new URL(y.protocol+u):new URL(u),S=jy(T.pathname,p);T.origin===y.origin&&S!=null?u=S+T.search+T.hash:_=!0}catch{}let w=fD(u,{relative:i}),v=LD(u,{replace:o,state:a,target:l,preventScrollReset:c,relative:i,unstable_viewTransition:h});function m(y){r&&r(y),y.defaultPrevented||v(y)}return E.createElement("a",Dm({},d,{href:g||w,onClick:_||s?r:m,ref:n,target:l}))});var uw;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmit="useSubmit",t.UseSubmitFetcher="useSubmitFetcher",t.UseFetcher="useFetcher",t.useViewTransitionState="useViewTransitionState"})(uw||(uw={}));var cw;(function(t){t.UseFetcher="useFetcher",t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(cw||(cw={}));function LD(t,e){let{target:n,replace:r,state:i,preventScrollReset:s,relative:o,unstable_viewTransition:a}=e===void 0?{}:e,l=Xl(),u=cd(),c=sI(t,{relative:o});return E.useCallback(h=>{if(ND(h,n)){h.preventDefault();let d=r!==void 0?r:oh(u)===oh(c);l(t,{replace:d,state:i,preventScrollReset:s,relative:o,unstable_viewTransition:a})}},[u,l,c,r,i,n,t,s,o,a])}var hw={ALLUSERSPROFILE:"C:\\ProgramData",APPDATA:"C:\\Users\\Samadhi Gunasinghe\\AppData\\Roaming",ChocolateyInstall:"C:\\ProgramData\\chocolatey",ChocolateyLastPathUpdate:"133346409399214972",CHROME_CRASHPAD_PIPE_NAME:"\\\\.\\pipe\\crashpad_13516_JNRTETJJTGKGOUIK",COLOR:"1",COLORTERM:"truecolor",CommonProgramFiles:"C:\\Program Files\\Common Files","CommonProgramFiles(x86)":"C:\\Program Files (x86)\\Common Files",CommonProgramW6432:"C:\\Program Files\\Common Files",COMPUTERNAME:"LAPTOP-9C5GKEE5",ComSpec:"C:\\WINDOWS\\system32\\cmd.exe",C_EM64T_REDIST11:"C:\\Program Files (x86)\\Common Files\\Intel\\Shared Files\\cpp\\",DriverData:"C:\\Windows\\System32\\Drivers\\DriverData",EDITOR:"C:\\WINDOWS\\notepad.exe",EFC_17068:"1",FPS_BROWSER_APP_PROFILE_STRING:"Internet Explorer",FPS_BROWSER_USER_PROFILE_STRING:"Default",GIT_ASKPASS:"c:\\Program Files\\Microsoft VS Code\\resources\\app\\extensions\\git\\dist\\askpass.sh",HOME:"C:\\Users\\Samadhi Gunasinghe",HOMEDRIVE:"C:",HOMEPATH:"\\Users\\Samadhi Gunasinghe",IGCCSVC_DB:"AQAAANCMnd8BFdERjHoAwE/Cl+sBAAAA+r0SIQn0MEiV8J3kRMyL2wQAAAACAAAAAAAQZgAAAAEAACAAAACFTw/57rngBsWMz8wvz8ZGC+5Sf9JYqekIQBJ5aGbK9wAAAAAOgAAAAAIAACAAAABrUFXOjMfqD4FY6Z350NFNIBV1/Lc5OQNMzl/E8SRBRWAAAABdJbx0QdQvdtBLWk4thTlki00ouN5E8ps0kJ6JTKHC8Zoz1tEb7u59761tBtjWWAwNwqnNQHWf3bPjmMNdB8BY+TfXQr6fKJ76Rg9TWnZcvnKJwZa/nPbj/0g+73pFH4xAAAAAdKp6/cqFcUxootI6524BNP+kVam/HPJyR05NGEOesbBQU06genlk1XJfhVPbzgi1CTwQyziyA8ni/R7+BeCttQ==",INIT_CWD:"C:\\Personal Data\\Codings\\u 'n i\\PetPals",LANG:"en_US.UTF-8",LOCALAPPDATA:"C:\\Users\\Samadhi Gunasinghe\\AppData\\Local",LOGONSERVER:"\\\\LAPTOP-9C5GKEE5",NODE:"C:\\Program Files\\nodejs\\node.exe",NODE_ENV:"production",NODE_EXE:"C:\\Program Files\\nodejs\\\\node.exe",NPM_CLI_JS:"C:\\Program Files\\nodejs\\\\node_modules\\npm\\bin\\npm-cli.js",npm_command:"run-script",npm_config_cache:"C:\\Users\\Samadhi Gunasinghe\\AppData\\Local\\npm-cache",npm_config_globalconfig:"C:\\Users\\Samadhi Gunasinghe\\AppData\\Roaming\\npm\\etc\\npmrc",npm_config_global_prefix:"C:\\Users\\Samadhi Gunasinghe\\AppData\\Roaming\\npm",npm_config_init_module:"C:\\Users\\Samadhi Gunasinghe\\.npm-init.js",npm_config_local_prefix:"C:\\Personal Data\\Codings\\u 'n i\\PetPals",npm_config_node_gyp:"C:\\Program Files\\nodejs\\node_modules\\npm\\node_modules\\node-gyp\\bin\\node-gyp.js",npm_config_noproxy:"",npm_config_npm_version:"10.2.3",npm_config_prefix:"C:\\Users\\Samadhi Gunasinghe\\AppData\\Roaming\\npm",npm_config_userconfig:"C:\\Users\\Samadhi Gunasinghe\\.npmrc",npm_config_user_agent:"npm/10.2.3 node/v20.10.0 win32 x64 workspaces/false",npm_execpath:"C:\\Program Files\\nodejs\\node_modules\\npm\\bin\\npm-cli.js",npm_lifecycle_event:"build",npm_lifecycle_script:"vite build",npm_node_execpath:"C:\\Program Files\\nodejs\\node.exe",npm_package_json:"C:\\Personal Data\\Codings\\u 'n i\\PetPals\\package.json",npm_package_name:"petpals",npm_package_version:"0.0.1",NPM_PREFIX_NPM_CLI_JS:"C:\\Users\\Samadhi Gunasinghe\\AppData\\Roaming\\npm\\node_modules\\npm\\bin\\npm-cli.js",NUMBER_OF_PROCESSORS:"8",NVM_HOME:"C:\\Users\\Samadhi Gunasinghe\\AppData\\Roaming\\nvm",NVM_SYMLINK:"C:\\Program Files\\nodejs",OANOCACHE:"1",OneDrive:"C:\\Users\\Samadhi Gunasinghe\\OneDrive",OneDriveConsumer:"C:\\Users\\Samadhi Gunasinghe\\OneDrive",ORIGINAL_XDG_CURRENT_DESKTOP:"undefined",OS:"Windows_NT",Path:"C:\\Personal Data\\Codings\\u 'n i\\PetPals\\node_modules\\.bin;C:\\Personal Data\\Codings\\u 'n i\\node_modules\\.bin;C:\\Personal Data\\Codings\\node_modules\\.bin;C:\\Personal Data\\node_modules\\.bin;C:\\node_modules\\.bin;C:\\Program Files\\nodejs\\node_modules\\npm\\node_modules\\@npmcli\\run-script\\lib\\node-gyp-bin;C:\\Personal Data\\Codings\\u 'n i\\PetPals\\node_modules\\.bin;C:\\Personal Data\\Codings\\u 'n i\\node_modules\\.bin;C:\\Personal Data\\Codings\\node_modules\\.bin;C:\\Personal Data\\node_modules\\.bin;C:\\node_modules\\.bin;C:\\Program Files\\nodejs\\node_modules\\npm\\node_modules\\@npmcli\\run-script\\lib\\node-gyp-bin;C:\\Program Files (x86)\\Common Files\\Oracle\\Java\\javapath;C:\\Python312\\Scripts\\;C:\\Python312\\;C:\\Python311\\Scripts\\;C:\\Python311\\;C:\\Program Files (x86)\\Common Files\\Intel\\Shared Files\\cpp\\bin\\Intel64;C:\\WINDOWS\\system32;C:\\WINDOWS;C:\\WINDOWS\\System32\\Wbem;C:\\WINDOWS\\System32\\WindowsPowerShell\\v1.0\\;C:\\Program Files\\dotnet\\;C:\\Users\\Samadhi Gunasinghe\\AppData\\Roaming\\nvm;C:\\Program Files\\nodejs;C:\\Program Files\\Microsoft VS Code\\bin;C:\\ProgramData\\chocolatey\\bin;C:\\Program Files\\Git\\cmd;C:\\Program Files\\swipl\\bin;C:\\Program Files\\Polyspace\\R2021a\\runtime\\win64;C:\\Program Files\\Polyspace\\R2021a\\bin;C:\\Program Files\\nodejs\\;C:\\Program Files\\Cloudflare\\Cloudflare WARP\\;C:\\Users\\Samadhi Gunasinghe\\AppData\\Local\\Microsoft\\WindowsApps;C:\\Users\\Samadhi Gunasinghe\\AppData\\Roaming\\nvm;C:\\Program Files\\nodejs;C:\\Users\\Samadhi Gunasinghe\\.babun;C:\\Program Files\\MongoDB\\Server\\6.0\\bin;C:\\ProgramData\\chocolatey\\lib\\mingw\\tools\\install\\mingw64\\bin;C:\\Users\\Samadhi Gunasinghe\\AppData\\Local\\GitHubDesktop\\bin;C:\\Users\\Samadhi Gunasinghe\\AppData\\Roaming\\npm",PATHEXT:".COM;.EXE;.BAT;.CMD;.VBS;.VBE;.JS;.JSE;.WSF;.WSH;.MSC;.PY;.PYW;.CPL",PROCESSOR_ARCHITECTURE:"AMD64",PROCESSOR_IDENTIFIER:"Intel64 Family 6 Model 140 Stepping 1, GenuineIntel",PROCESSOR_LEVEL:"6",PROCESSOR_REVISION:"8c01",ProgramData:"C:\\ProgramData",ProgramFiles:"C:\\Program Files","ProgramFiles(x86)":"C:\\Program Files (x86)",ProgramW6432:"C:\\Program Files",PROMPT:"$P$G",PSModulePath:"C:\\Users\\Samadhi Gunasinghe\\Documents\\WindowsPowerShell\\Modules;C:\\Program Files\\WindowsPowerShell\\Modules;C:\\WINDOWS\\system32\\WindowsPowerShell\\v1.0\\Modules",PT8HOME:"C:\\Program Files\\Cisco Packet Tracer 8.2.1",PUBLIC:"C:\\Users\\Public",SESSIONNAME:"Console",SystemDrive:"C:",SystemRoot:"C:\\WINDOWS",TEMP:"C:\\Users\\SAMADH~1\\AppData\\Local\\Temp",TERM_PROGRAM:"vscode",TERM_PROGRAM_VERSION:"1.86.2",TMP:"C:\\Users\\SAMADH~1\\AppData\\Local\\Temp",USERDOMAIN:"LAPTOP-9C5GKEE5",USERDOMAIN_ROAMINGPROFILE:"LAPTOP-9C5GKEE5",USERNAME:"Samadhi Gunasinghe",USERPROFILE:"C:\\Users\\Samadhi Gunasinghe",VSCODE_GIT_ASKPASS_EXTRA_ARGS:"",VSCODE_GIT_ASKPASS_MAIN:"c:\\Program Files\\Microsoft VS Code\\resources\\app\\extensions\\git\\dist\\askpass-main.js",VSCODE_GIT_ASKPASS_NODE:"C:\\Program Files\\Microsoft VS Code\\Code.exe",VSCODE_GIT_IPC_HANDLE:"\\\\.\\pipe\\vscode-git-f0ac33f5d6-sock",VSCODE_INJECTION:"1",windir:"C:\\WINDOWS",ZES_ENABLE_SYSMAN:"1"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lI=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):(i&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},FD=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const s=t[n++];e[r++]=String.fromCharCode((i&31)<<6|s&63)}else if(i>239&&i<365){const s=t[n++],o=t[n++],a=t[n++],l=((i&7)<<18|(s&63)<<12|(o&63)<<6|a&63)-65536;e[r++]=String.fromCharCode(55296+(l>>10)),e[r++]=String.fromCharCode(56320+(l&1023))}else{const s=t[n++],o=t[n++];e[r++]=String.fromCharCode((i&15)<<12|(s&63)<<6|o&63)}}return e.join("")},uI={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){const s=t[i],o=i+1<t.length,a=o?t[i+1]:0,l=i+2<t.length,u=l?t[i+2]:0,c=s>>2,h=(s&3)<<4|a>>4;let d=(a&15)<<2|u>>6,p=u&63;l||(p=64,o||(d=64)),r.push(n[c],n[h],n[d],n[p])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(lI(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):FD(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){const s=n[t.charAt(i++)],a=i<t.length?n[t.charAt(i)]:0;++i;const u=i<t.length?n[t.charAt(i)]:64;++i;const h=i<t.length?n[t.charAt(i)]:64;if(++i,s==null||a==null||u==null||h==null)throw new $D;const d=s<<2|a>>4;if(r.push(d),u!==64){const p=a<<4&240|u>>2;if(r.push(p),h!==64){const g=u<<6&192|h;r.push(g)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class $D extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const UD=function(t){const e=lI(t);return uI.encodeByteArray(e,!0)},uh=function(t){return UD(t).replace(/\./g,"")},cI=function(t){try{return uI.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function BD(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zD=()=>BD().__FIREBASE_DEFAULTS__,WD=()=>{if(typeof process>"u"||typeof hw>"u")return;const t=hw.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},HD=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&cI(t[1]);return e&&JSON.parse(e)},hd=()=>{try{return zD()||WD()||HD()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},hI=t=>{var e,n;return(n=(e=hd())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},dI=t=>{const e=hI(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},fI=()=>{var t;return(t=hd())===null||t===void 0?void 0:t.config},pI=t=>{var e;return(e=hd())===null||e===void 0?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GD{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mI(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",i=t.iat||0,s=t.sub||t.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}}},t),a="";return[uh(JSON.stringify(n)),uh(JSON.stringify(o)),a].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qe(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function qD(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Qe())}function KD(){var t;const e=(t=hd())===null||t===void 0?void 0:t.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function QD(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function XD(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function YD(){const t=Qe();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function JD(){return!KD()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function gI(){try{return typeof indexedDB=="object"}catch{return!1}}function ZD(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var s;e(((s=i.error)===null||s===void 0?void 0:s.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eO="FirebaseError";class tr extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=eO,Object.setPrototypeOf(this,tr.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Yl.prototype.create)}}class Yl{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},i=`${this.service}/${e}`,s=this.errors[e],o=s?tO(s,r):"Error",a=`${this.serviceName}: ${o} (${i}).`;return new tr(i,a,r)}}function tO(t,e){return t.replace(nO,(n,r)=>{const i=e[r];return i!=null?String(i):`<${r}?>`})}const nO=/\{\$([^}]+)}/g;function rO(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function ch(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const i of n){if(!r.includes(i))return!1;const s=t[i],o=e[i];if(dw(s)&&dw(o)){if(!ch(s,o))return!1}else if(s!==o)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function dw(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Jl(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function Ta(t){const e={};return t.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[i,s]=r.split("=");e[decodeURIComponent(i)]=decodeURIComponent(s)}}),e}function Sa(t){const e=t.indexOf("?");if(!e)return"";const n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}function iO(t,e){const n=new sO(t,e);return n.subscribe.bind(n)}class sO{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let i;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");oO(e,["next","error","complete"])?i=e:i={next:e,error:n,complete:r},i.next===void 0&&(i.next=Xf),i.error===void 0&&(i.error=Xf),i.complete===void 0&&(i.complete=Xf);const s=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),s}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function oO(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function Xf(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function je(t){return t&&t._delegate?t._delegate:t}class yi{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zi="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aO{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new GD;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const r=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),i=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(s){if(i)return null;throw s}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(uO(e))try{this.getOrInitializeService({instanceIdentifier:zi})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(n);try{const s=this.getOrInitializeService({instanceIdentifier:i});r.resolve(s)}catch{}}}}clearInstance(e=zi){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=zi){return this.instances.has(e)}getOptions(e=zi){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[s,o]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(s);r===a&&o.resolve(i)}return i}onInit(e,n){var r;const i=this.normalizeInstanceIdentifier(n),s=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;s.add(e),this.onInitCallbacks.set(i,s);const o=this.instances.get(i);return o&&e(o,i),()=>{s.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:lO(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=zi){return this.component?this.component.multipleInstances?e:zi:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function lO(t){return t===zi?void 0:t}function uO(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cO{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new aO(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ie;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(ie||(ie={}));const hO={debug:ie.DEBUG,verbose:ie.VERBOSE,info:ie.INFO,warn:ie.WARN,error:ie.ERROR,silent:ie.SILENT},dO=ie.INFO,fO={[ie.DEBUG]:"log",[ie.VERBOSE]:"log",[ie.INFO]:"info",[ie.WARN]:"warn",[ie.ERROR]:"error"},pO=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),i=fO[e];if(i)console[i](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Ly{constructor(e){this.name=e,this._logLevel=dO,this._logHandler=pO,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in ie))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?hO[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,ie.DEBUG,...e),this._logHandler(this,ie.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,ie.VERBOSE,...e),this._logHandler(this,ie.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,ie.INFO,...e),this._logHandler(this,ie.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,ie.WARN,...e),this._logHandler(this,ie.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,ie.ERROR,...e),this._logHandler(this,ie.ERROR,...e)}}const mO=(t,e)=>e.some(n=>t instanceof n);let fw,pw;function gO(){return fw||(fw=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function yO(){return pw||(pw=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const yI=new WeakMap,Om=new WeakMap,vI=new WeakMap,Yf=new WeakMap,Fy=new WeakMap;function vO(t){const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("success",s),t.removeEventListener("error",o)},s=()=>{n(li(t.result)),i()},o=()=>{r(t.error),i()};t.addEventListener("success",s),t.addEventListener("error",o)});return e.then(n=>{n instanceof IDBCursor&&yI.set(n,t)}).catch(()=>{}),Fy.set(e,t),e}function _O(t){if(Om.has(t))return;const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("complete",s),t.removeEventListener("error",o),t.removeEventListener("abort",o)},s=()=>{n(),i()},o=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",s),t.addEventListener("error",o),t.addEventListener("abort",o)});Om.set(t,e)}let Vm={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return Om.get(t);if(e==="objectStoreNames")return t.objectStoreNames||vI.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return li(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function wO(t){Vm=t(Vm)}function EO(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(Jf(this),e,...n);return vI.set(r,e.sort?e.sort():[e]),li(r)}:yO().includes(t)?function(...e){return t.apply(Jf(this),e),li(yI.get(this))}:function(...e){return li(t.apply(Jf(this),e))}}function TO(t){return typeof t=="function"?EO(t):(t instanceof IDBTransaction&&_O(t),mO(t,gO())?new Proxy(t,Vm):t)}function li(t){if(t instanceof IDBRequest)return vO(t);if(Yf.has(t))return Yf.get(t);const e=TO(t);return e!==t&&(Yf.set(t,e),Fy.set(e,t)),e}const Jf=t=>Fy.get(t);function SO(t,e,{blocked:n,upgrade:r,blocking:i,terminated:s}={}){const o=indexedDB.open(t,e),a=li(o);return r&&o.addEventListener("upgradeneeded",l=>{r(li(o.result),l.oldVersion,l.newVersion,li(o.transaction),l)}),n&&o.addEventListener("blocked",l=>n(l.oldVersion,l.newVersion,l)),a.then(l=>{s&&l.addEventListener("close",()=>s()),i&&l.addEventListener("versionchange",u=>i(u.oldVersion,u.newVersion,u))}).catch(()=>{}),a}const xO=["get","getKey","getAll","getAllKeys","count"],IO=["put","add","delete","clear"],Zf=new Map;function mw(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(Zf.get(e))return Zf.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,i=IO.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||xO.includes(n)))return;const s=async function(o,...a){const l=this.transaction(o,i?"readwrite":"readonly");let u=l.store;return r&&(u=u.index(a.shift())),(await Promise.all([u[n](...a),i&&l.done]))[0]};return Zf.set(e,s),s}wO(t=>({...t,get:(e,n,r)=>mw(e,n)||t.get(e,n,r),has:(e,n)=>!!mw(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AO{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(PO(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function PO(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const jm="@firebase/app",gw="0.9.27";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gs=new Ly("@firebase/app"),CO="@firebase/app-compat",bO="@firebase/analytics-compat",RO="@firebase/analytics",kO="@firebase/app-check-compat",NO="@firebase/app-check",DO="@firebase/auth",OO="@firebase/auth-compat",VO="@firebase/database",jO="@firebase/database-compat",MO="@firebase/functions",LO="@firebase/functions-compat",FO="@firebase/installations",$O="@firebase/installations-compat",UO="@firebase/messaging",BO="@firebase/messaging-compat",zO="@firebase/performance",WO="@firebase/performance-compat",HO="@firebase/remote-config",GO="@firebase/remote-config-compat",qO="@firebase/storage",KO="@firebase/storage-compat",QO="@firebase/firestore",XO="@firebase/firestore-compat",YO="firebase",JO="10.8.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Mm="[DEFAULT]",ZO={[jm]:"fire-core",[CO]:"fire-core-compat",[RO]:"fire-analytics",[bO]:"fire-analytics-compat",[NO]:"fire-app-check",[kO]:"fire-app-check-compat",[DO]:"fire-auth",[OO]:"fire-auth-compat",[VO]:"fire-rtdb",[jO]:"fire-rtdb-compat",[MO]:"fire-fn",[LO]:"fire-fn-compat",[FO]:"fire-iid",[$O]:"fire-iid-compat",[UO]:"fire-fcm",[BO]:"fire-fcm-compat",[zO]:"fire-perf",[WO]:"fire-perf-compat",[HO]:"fire-rc",[GO]:"fire-rc-compat",[qO]:"fire-gcs",[KO]:"fire-gcs-compat",[QO]:"fire-fst",[XO]:"fire-fst-compat","fire-js":"fire-js",[YO]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hh=new Map,Lm=new Map;function eV(t,e){try{t.container.addComponent(e)}catch(n){gs.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function ys(t){const e=t.name;if(Lm.has(e))return gs.debug(`There were multiple attempts to register component ${e}.`),!1;Lm.set(e,t);for(const n of hh.values())eV(n,t);return!0}function dd(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tV={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."},ui=new Yl("app","Firebase",tV);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nV{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new yi("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw ui.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ps=JO;function _I(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r=Object.assign({name:Mm,automaticDataCollectionEnabled:!1},e),i=r.name;if(typeof i!="string"||!i)throw ui.create("bad-app-name",{appName:String(i)});if(n||(n=fI()),!n)throw ui.create("no-options");const s=hh.get(i);if(s){if(ch(n,s.options)&&ch(r,s.config))return s;throw ui.create("duplicate-app",{appName:i})}const o=new cO(i);for(const l of Lm.values())o.addComponent(l);const a=new nV(n,r,o);return hh.set(i,a),a}function $y(t=Mm){const e=hh.get(t);if(!e&&t===Mm&&fI())return _I();if(!e)throw ui.create("no-app",{appName:t});return e}function Hn(t,e,n){var r;let i=(r=ZO[t])!==null&&r!==void 0?r:t;n&&(i+=`-${n}`);const s=i.match(/\s|\//),o=e.match(/\s|\//);if(s||o){const a=[`Unable to register library "${i}" with version "${e}":`];s&&a.push(`library name "${i}" contains illegal characters (whitespace or "/")`),s&&o&&a.push("and"),o&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),gs.warn(a.join(" "));return}ys(new yi(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rV="firebase-heartbeat-database",iV=1,yl="firebase-heartbeat-store";let ep=null;function wI(){return ep||(ep=SO(rV,iV,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(yl)}catch(n){console.warn(n)}}}}).catch(t=>{throw ui.create("idb-open",{originalErrorMessage:t.message})})),ep}async function sV(t){try{const n=(await wI()).transaction(yl),r=await n.objectStore(yl).get(EI(t));return await n.done,r}catch(e){if(e instanceof tr)gs.warn(e.message);else{const n=ui.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});gs.warn(n.message)}}}async function yw(t,e){try{const r=(await wI()).transaction(yl,"readwrite");await r.objectStore(yl).put(e,EI(t)),await r.done}catch(n){if(n instanceof tr)gs.warn(n.message);else{const r=ui.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});gs.warn(r.message)}}}function EI(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oV=1024,aV=30*24*60*60*1e3;class lV{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new cV(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,n;const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=vw();if(!(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null))&&!(this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(o=>o.date===s)))return this._heartbeatsCache.heartbeats.push({date:s,agent:i}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(o=>{const a=new Date(o.date).valueOf();return Date.now()-a<=aV}),this._storage.overwrite(this._heartbeatsCache)}async getHeartbeatsHeader(){var e;if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=vw(),{heartbeatsToSend:r,unsentEntries:i}=uV(this._heartbeatsCache.heartbeats),s=uh(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),s}}function vw(){return new Date().toISOString().substring(0,10)}function uV(t,e=oV){const n=[];let r=t.slice();for(const i of t){const s=n.find(o=>o.agent===i.agent);if(s){if(s.dates.push(i.date),_w(n)>e){s.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),_w(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class cV{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return gI()?ZD().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await sV(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return yw(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return yw(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return}}function _w(t){return uh(JSON.stringify({version:2,heartbeats:t})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hV(t){ys(new yi("platform-logger",e=>new AO(e),"PRIVATE")),ys(new yi("heartbeat",e=>new lV(e),"PRIVATE")),Hn(jm,gw,t),Hn(jm,gw,"esm2017"),Hn("fire-js","")}hV("");var dV="firebase",fV="10.8.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Hn(dV,fV,"app");var pV=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},O,Uy=Uy||{},J=pV||self;function fd(t){var e=typeof t;return e=e!="object"?e:t?Array.isArray(t)?"array":e:"null",e=="array"||e=="object"&&typeof t.length=="number"}function Zl(t){var e=typeof t;return e=="object"&&t!=null||e=="function"}function mV(t){return Object.prototype.hasOwnProperty.call(t,tp)&&t[tp]||(t[tp]=++gV)}var tp="closure_uid_"+(1e9*Math.random()>>>0),gV=0;function yV(t,e,n){return t.call.apply(t.bind,arguments)}function vV(t,e,n){if(!t)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var i=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(i,r),t.apply(e,i)}}return function(){return t.apply(e,arguments)}}function At(t,e,n){return Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?At=yV:At=vV,At.apply(null,arguments)}function Gu(t,e){var n=Array.prototype.slice.call(arguments,1);return function(){var r=n.slice();return r.push.apply(r,arguments),t.apply(this,r)}}function ot(t,e){function n(){}n.prototype=e.prototype,t.$=e.prototype,t.prototype=new n,t.prototype.constructor=t,t.ac=function(r,i,s){for(var o=Array(arguments.length-2),a=2;a<arguments.length;a++)o[a-2]=arguments[a];return e.prototype[i].apply(r,o)}}function bi(){this.s=this.s,this.o=this.o}var _V=0;bi.prototype.s=!1;bi.prototype.sa=function(){!this.s&&(this.s=!0,this.N(),_V!=0)&&mV(this)};bi.prototype.N=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const TI=Array.prototype.indexOf?function(t,e){return Array.prototype.indexOf.call(t,e,void 0)}:function(t,e){if(typeof t=="string")return typeof e!="string"||e.length!=1?-1:t.indexOf(e,0);for(let n=0;n<t.length;n++)if(n in t&&t[n]===e)return n;return-1};function By(t){const e=t.length;if(0<e){const n=Array(e);for(let r=0;r<e;r++)n[r]=t[r];return n}return[]}function ww(t,e){for(let n=1;n<arguments.length;n++){const r=arguments[n];if(fd(r)){const i=t.length||0,s=r.length||0;t.length=i+s;for(let o=0;o<s;o++)t[i+o]=r[o]}else t.push(r)}}function Pt(t,e){this.type=t,this.g=this.target=e,this.defaultPrevented=!1}Pt.prototype.h=function(){this.defaultPrevented=!0};var wV=function(){if(!J.addEventListener||!Object.defineProperty)return!1;var t=!1,e=Object.defineProperty({},"passive",{get:function(){t=!0}});try{const n=()=>{};J.addEventListener("test",n,e),J.removeEventListener("test",n,e)}catch{}return t}();function vl(t){return/^[\s\xa0]*$/.test(t)}function pd(){var t=J.navigator;return t&&(t=t.userAgent)?t:""}function Fn(t){return pd().indexOf(t)!=-1}function zy(t){return zy[" "](t),t}zy[" "]=function(){};function EV(t,e){var n=fj;return Object.prototype.hasOwnProperty.call(n,t)?n[t]:n[t]=e(t)}var TV=Fn("Opera"),Co=Fn("Trident")||Fn("MSIE"),SI=Fn("Edge"),Fm=SI||Co,xI=Fn("Gecko")&&!(pd().toLowerCase().indexOf("webkit")!=-1&&!Fn("Edge"))&&!(Fn("Trident")||Fn("MSIE"))&&!Fn("Edge"),SV=pd().toLowerCase().indexOf("webkit")!=-1&&!Fn("Edge");function II(){var t=J.document;return t?t.documentMode:void 0}var $m;e:{var np="",rp=function(){var t=pd();if(xI)return/rv:([^\);]+)(\)|;)/.exec(t);if(SI)return/Edge\/([\d\.]+)/.exec(t);if(Co)return/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(t);if(SV)return/WebKit\/(\S+)/.exec(t);if(TV)return/(?:Version)[ \/]?(\S+)/.exec(t)}();if(rp&&(np=rp?rp[1]:""),Co){var ip=II();if(ip!=null&&ip>parseFloat(np)){$m=String(ip);break e}}$m=np}var Um;if(J.document&&Co){var Ew=II();Um=Ew||parseInt($m,10)||void 0}else Um=void 0;var xV=Um;function _l(t,e){if(Pt.call(this,t?t.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,t){var n=this.type=t.type,r=t.changedTouches&&t.changedTouches.length?t.changedTouches[0]:null;if(this.target=t.target||t.srcElement,this.g=e,e=t.relatedTarget){if(xI){e:{try{zy(e.nodeName);var i=!0;break e}catch{}i=!1}i||(e=null)}}else n=="mouseover"?e=t.fromElement:n=="mouseout"&&(e=t.toElement);this.relatedTarget=e,r?(this.clientX=r.clientX!==void 0?r.clientX:r.pageX,this.clientY=r.clientY!==void 0?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=t.clientX!==void 0?t.clientX:t.pageX,this.clientY=t.clientY!==void 0?t.clientY:t.pageY,this.screenX=t.screenX||0,this.screenY=t.screenY||0),this.button=t.button,this.key=t.key||"",this.ctrlKey=t.ctrlKey,this.altKey=t.altKey,this.shiftKey=t.shiftKey,this.metaKey=t.metaKey,this.pointerId=t.pointerId||0,this.pointerType=typeof t.pointerType=="string"?t.pointerType:IV[t.pointerType]||"",this.state=t.state,this.i=t,t.defaultPrevented&&_l.$.h.call(this)}}ot(_l,Pt);var IV={2:"touch",3:"pen",4:"mouse"};_l.prototype.h=function(){_l.$.h.call(this);var t=this.i;t.preventDefault?t.preventDefault():t.returnValue=!1};var eu="closure_listenable_"+(1e6*Math.random()|0),AV=0;function PV(t,e,n,r,i){this.listener=t,this.proxy=null,this.src=e,this.type=n,this.capture=!!r,this.la=i,this.key=++AV,this.fa=this.ia=!1}function md(t){t.fa=!0,t.listener=null,t.proxy=null,t.src=null,t.la=null}function Wy(t,e,n){for(const r in t)e.call(n,t[r],r,t)}function CV(t,e){for(const n in t)e.call(void 0,t[n],n,t)}function AI(t){const e={};for(const n in t)e[n]=t[n];return e}const Tw="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function PI(t,e){let n,r;for(let i=1;i<arguments.length;i++){r=arguments[i];for(n in r)t[n]=r[n];for(let s=0;s<Tw.length;s++)n=Tw[s],Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}}function gd(t){this.src=t,this.g={},this.h=0}gd.prototype.add=function(t,e,n,r,i){var s=t.toString();t=this.g[s],t||(t=this.g[s]=[],this.h++);var o=zm(t,e,r,i);return-1<o?(e=t[o],n||(e.ia=!1)):(e=new PV(e,this.src,s,!!r,i),e.ia=n,t.push(e)),e};function Bm(t,e){var n=e.type;if(n in t.g){var r=t.g[n],i=TI(r,e),s;(s=0<=i)&&Array.prototype.splice.call(r,i,1),s&&(md(e),t.g[n].length==0&&(delete t.g[n],t.h--))}}function zm(t,e,n,r){for(var i=0;i<t.length;++i){var s=t[i];if(!s.fa&&s.listener==e&&s.capture==!!n&&s.la==r)return i}return-1}var Hy="closure_lm_"+(1e6*Math.random()|0),sp={};function CI(t,e,n,r,i){if(r&&r.once)return RI(t,e,n,r,i);if(Array.isArray(e)){for(var s=0;s<e.length;s++)CI(t,e[s],n,r,i);return null}return n=Ky(n),t&&t[eu]?t.O(e,n,Zl(r)?!!r.capture:!!r,i):bI(t,e,n,!1,r,i)}function bI(t,e,n,r,i,s){if(!e)throw Error("Invalid event type");var o=Zl(i)?!!i.capture:!!i,a=qy(t);if(a||(t[Hy]=a=new gd(t)),n=a.add(e,n,r,o,s),n.proxy)return n;if(r=bV(),n.proxy=r,r.src=t,r.listener=n,t.addEventListener)wV||(i=o),i===void 0&&(i=!1),t.addEventListener(e.toString(),r,i);else if(t.attachEvent)t.attachEvent(NI(e.toString()),r);else if(t.addListener&&t.removeListener)t.addListener(r);else throw Error("addEventListener and attachEvent are unavailable.");return n}function bV(){function t(n){return e.call(t.src,t.listener,n)}const e=RV;return t}function RI(t,e,n,r,i){if(Array.isArray(e)){for(var s=0;s<e.length;s++)RI(t,e[s],n,r,i);return null}return n=Ky(n),t&&t[eu]?t.P(e,n,Zl(r)?!!r.capture:!!r,i):bI(t,e,n,!0,r,i)}function kI(t,e,n,r,i){if(Array.isArray(e))for(var s=0;s<e.length;s++)kI(t,e[s],n,r,i);else r=Zl(r)?!!r.capture:!!r,n=Ky(n),t&&t[eu]?(t=t.i,e=String(e).toString(),e in t.g&&(s=t.g[e],n=zm(s,n,r,i),-1<n&&(md(s[n]),Array.prototype.splice.call(s,n,1),s.length==0&&(delete t.g[e],t.h--)))):t&&(t=qy(t))&&(e=t.g[e.toString()],t=-1,e&&(t=zm(e,n,r,i)),(n=-1<t?e[t]:null)&&Gy(n))}function Gy(t){if(typeof t!="number"&&t&&!t.fa){var e=t.src;if(e&&e[eu])Bm(e.i,t);else{var n=t.type,r=t.proxy;e.removeEventListener?e.removeEventListener(n,r,t.capture):e.detachEvent?e.detachEvent(NI(n),r):e.addListener&&e.removeListener&&e.removeListener(r),(n=qy(e))?(Bm(n,t),n.h==0&&(n.src=null,e[Hy]=null)):md(t)}}}function NI(t){return t in sp?sp[t]:sp[t]="on"+t}function RV(t,e){if(t.fa)t=!0;else{e=new _l(e,this);var n=t.listener,r=t.la||t.src;t.ia&&Gy(t),t=n.call(r,e)}return t}function qy(t){return t=t[Hy],t instanceof gd?t:null}var op="__closure_events_fn_"+(1e9*Math.random()>>>0);function Ky(t){return typeof t=="function"?t:(t[op]||(t[op]=function(e){return t.handleEvent(e)}),t[op])}function st(){bi.call(this),this.i=new gd(this),this.S=this,this.J=null}ot(st,bi);st.prototype[eu]=!0;st.prototype.removeEventListener=function(t,e,n,r){kI(this,t,e,n,r)};function mt(t,e){var n,r=t.J;if(r)for(n=[];r;r=r.J)n.push(r);if(t=t.S,r=e.type||e,typeof e=="string")e=new Pt(e,t);else if(e instanceof Pt)e.target=e.target||t;else{var i=e;e=new Pt(r,t),PI(e,i)}if(i=!0,n)for(var s=n.length-1;0<=s;s--){var o=e.g=n[s];i=qu(o,r,!0,e)&&i}if(o=e.g=t,i=qu(o,r,!0,e)&&i,i=qu(o,r,!1,e)&&i,n)for(s=0;s<n.length;s++)o=e.g=n[s],i=qu(o,r,!1,e)&&i}st.prototype.N=function(){if(st.$.N.call(this),this.i){var t=this.i,e;for(e in t.g){for(var n=t.g[e],r=0;r<n.length;r++)md(n[r]);delete t.g[e],t.h--}}this.J=null};st.prototype.O=function(t,e,n,r){return this.i.add(String(t),e,!1,n,r)};st.prototype.P=function(t,e,n,r){return this.i.add(String(t),e,!0,n,r)};function qu(t,e,n,r){if(e=t.i.g[String(e)],!e)return!0;e=e.concat();for(var i=!0,s=0;s<e.length;++s){var o=e[s];if(o&&!o.fa&&o.capture==n){var a=o.listener,l=o.la||o.src;o.ia&&Bm(t.i,o),i=a.call(l,r)!==!1&&i}}return i&&!r.defaultPrevented}var Qy=J.JSON.stringify;class kV{constructor(e,n){this.i=e,this.j=n,this.h=0,this.g=null}get(){let e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}}function NV(){var t=Xy;let e=null;return t.g&&(e=t.g,t.g=t.g.next,t.g||(t.h=null),e.next=null),e}class DV{constructor(){this.h=this.g=null}add(e,n){const r=DI.get();r.set(e,n),this.h?this.h.next=r:this.g=r,this.h=r}}var DI=new kV(()=>new OV,t=>t.reset());class OV{constructor(){this.next=this.g=this.h=null}set(e,n){this.h=e,this.g=n,this.next=null}reset(){this.next=this.g=this.h=null}}function VV(t){var e=1;t=t.split(":");const n=[];for(;0<e&&t.length;)n.push(t.shift()),e--;return t.length&&n.push(t.join(":")),n}function jV(t){J.setTimeout(()=>{throw t},0)}let wl,El=!1,Xy=new DV,OI=()=>{const t=J.Promise.resolve(void 0);wl=()=>{t.then(MV)}};var MV=()=>{for(var t;t=NV();){try{t.h.call(t.g)}catch(n){jV(n)}var e=DI;e.j(t),100>e.h&&(e.h++,t.next=e.g,e.g=t)}El=!1};function yd(t,e){st.call(this),this.h=t||1,this.g=e||J,this.j=At(this.qb,this),this.l=Date.now()}ot(yd,st);O=yd.prototype;O.ga=!1;O.T=null;O.qb=function(){if(this.ga){var t=Date.now()-this.l;0<t&&t<.8*this.h?this.T=this.g.setTimeout(this.j,this.h-t):(this.T&&(this.g.clearTimeout(this.T),this.T=null),mt(this,"tick"),this.ga&&(Yy(this),this.start()))}};O.start=function(){this.ga=!0,this.T||(this.T=this.g.setTimeout(this.j,this.h),this.l=Date.now())};function Yy(t){t.ga=!1,t.T&&(t.g.clearTimeout(t.T),t.T=null)}O.N=function(){yd.$.N.call(this),Yy(this),delete this.g};function Jy(t,e,n){if(typeof t=="function")n&&(t=At(t,n));else if(t&&typeof t.handleEvent=="function")t=At(t.handleEvent,t);else throw Error("Invalid listener argument");return 2147483647<Number(e)?-1:J.setTimeout(t,e||0)}function VI(t){t.g=Jy(()=>{t.g=null,t.i&&(t.i=!1,VI(t))},t.j);const e=t.h;t.h=null,t.m.apply(null,e)}class LV extends bi{constructor(e,n){super(),this.m=e,this.j=n,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:VI(this)}N(){super.N(),this.g&&(J.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Tl(t){bi.call(this),this.h=t,this.g={}}ot(Tl,bi);var Sw=[];function jI(t,e,n,r){Array.isArray(n)||(n&&(Sw[0]=n.toString()),n=Sw);for(var i=0;i<n.length;i++){var s=CI(e,n[i],r||t.handleEvent,!1,t.h||t);if(!s)break;t.g[s.key]=s}}function MI(t){Wy(t.g,function(e,n){this.g.hasOwnProperty(n)&&Gy(e)},t),t.g={}}Tl.prototype.N=function(){Tl.$.N.call(this),MI(this)};Tl.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};function vd(){this.g=!0}vd.prototype.Ea=function(){this.g=!1};function FV(t,e,n,r,i,s){t.info(function(){if(t.g)if(s)for(var o="",a=s.split("&"),l=0;l<a.length;l++){var u=a[l].split("=");if(1<u.length){var c=u[0];u=u[1];var h=c.split("_");o=2<=h.length&&h[1]=="type"?o+(c+"="+u+"&"):o+(c+"=redacted&")}}else o=null;else o=s;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+e+`
`+n+`
`+o})}function $V(t,e,n,r,i,s,o){t.info(function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+e+`
`+n+`
`+s+" "+o})}function ro(t,e,n,r){t.info(function(){return"XMLHTTP TEXT ("+e+"): "+BV(t,n)+(r?" "+r:"")})}function UV(t,e){t.info(function(){return"TIMEOUT: "+e})}vd.prototype.info=function(){};function BV(t,e){if(!t.g)return e;if(!e)return null;try{var n=JSON.parse(e);if(n){for(t=0;t<n.length;t++)if(Array.isArray(n[t])){var r=n[t];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var s=i[0];if(s!="noop"&&s!="stop"&&s!="close")for(var o=1;o<i.length;o++)i[o]=""}}}}return Qy(n)}catch{return e}}var Cs={},xw=null;function _d(){return xw=xw||new st}Cs.Ta="serverreachability";function LI(t){Pt.call(this,Cs.Ta,t)}ot(LI,Pt);function Sl(t){const e=_d();mt(e,new LI(e))}Cs.STAT_EVENT="statevent";function FI(t,e){Pt.call(this,Cs.STAT_EVENT,t),this.stat=e}ot(FI,Pt);function Vt(t){const e=_d();mt(e,new FI(e,t))}Cs.Ua="timingevent";function $I(t,e){Pt.call(this,Cs.Ua,t),this.size=e}ot($I,Pt);function tu(t,e){if(typeof t!="function")throw Error("Fn must not be null and must be a function");return J.setTimeout(function(){t()},e)}var wd={NO_ERROR:0,rb:1,Eb:2,Db:3,yb:4,Cb:5,Fb:6,Qa:7,TIMEOUT:8,Ib:9},UI={wb:"complete",Sb:"success",Ra:"error",Qa:"abort",Kb:"ready",Lb:"readystatechange",TIMEOUT:"timeout",Gb:"incrementaldata",Jb:"progress",zb:"downloadprogress",$b:"uploadprogress"};function Zy(){}Zy.prototype.h=null;function Iw(t){return t.h||(t.h=t.i())}function BI(){}var nu={OPEN:"a",vb:"b",Ra:"c",Hb:"d"};function ev(){Pt.call(this,"d")}ot(ev,Pt);function tv(){Pt.call(this,"c")}ot(tv,Pt);var Wm;function Ed(){}ot(Ed,Zy);Ed.prototype.g=function(){return new XMLHttpRequest};Ed.prototype.i=function(){return{}};Wm=new Ed;function ru(t,e,n,r){this.l=t,this.j=e,this.m=n,this.W=r||1,this.U=new Tl(this),this.P=zV,t=Fm?125:void 0,this.V=new yd(t),this.I=null,this.i=!1,this.u=this.B=this.A=this.L=this.G=this.Y=this.C=null,this.F=[],this.g=null,this.o=0,this.s=this.v=null,this.ca=-1,this.J=!1,this.O=0,this.M=null,this.ba=this.K=this.aa=this.S=!1,this.h=new zI}function zI(){this.i=null,this.g="",this.h=!1}var zV=45e3,WI={},Hm={};O=ru.prototype;O.setTimeout=function(t){this.P=t};function Gm(t,e,n){t.L=1,t.A=Sd(xr(e)),t.u=n,t.S=!0,HI(t,null)}function HI(t,e){t.G=Date.now(),iu(t),t.B=xr(t.A);var n=t.B,r=t.W;Array.isArray(r)||(r=[String(r)]),ZI(n.i,"t",r),t.o=0,n=t.l.J,t.h=new zI,t.g=wA(t.l,n?e:null,!t.u),0<t.O&&(t.M=new LV(At(t.Pa,t,t.g),t.O)),jI(t.U,t.g,"readystatechange",t.nb),e=t.I?AI(t.I):{},t.u?(t.v||(t.v="POST"),e["Content-Type"]="application/x-www-form-urlencoded",t.g.ha(t.B,t.v,t.u,e)):(t.v="GET",t.g.ha(t.B,t.v,null,e)),Sl(),FV(t.j,t.v,t.B,t.m,t.W,t.u)}O.nb=function(t){t=t.target;const e=this.M;e&&$n(t)==3?e.l():this.Pa(t)};O.Pa=function(t){try{if(t==this.g)e:{const c=$n(this.g);var e=this.g.Ia();const h=this.g.da();if(!(3>c)&&(c!=3||Fm||this.g&&(this.h.h||this.g.ja()||bw(this.g)))){this.J||c!=4||e==7||(e==8||0>=h?Sl(3):Sl(2)),Td(this);var n=this.g.da();this.ca=n;t:if(GI(this)){var r=bw(this.g);t="";var i=r.length,s=$n(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Ji(this),Fa(this);var o="";break t}this.h.i=new J.TextDecoder}for(e=0;e<i;e++)this.h.h=!0,t+=this.h.i.decode(r[e],{stream:s&&e==i-1});r.length=0,this.h.g+=t,this.o=0,o=this.h.g}else o=this.g.ja();if(this.i=n==200,$V(this.j,this.v,this.B,this.m,this.W,c,n),this.i){if(this.aa&&!this.K){t:{if(this.g){var a,l=this.g;if((a=l.g?l.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!vl(a)){var u=a;break t}}u=null}if(n=u)ro(this.j,this.m,n,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,qm(this,n);else{this.i=!1,this.s=3,Vt(12),Ji(this),Fa(this);break e}}this.S?(qI(this,c,o),Fm&&this.i&&c==3&&(jI(this.U,this.V,"tick",this.mb),this.V.start())):(ro(this.j,this.m,o,null),qm(this,o)),c==4&&Ji(this),this.i&&!this.J&&(c==4?gA(this.l,this):(this.i=!1,iu(this)))}else cj(this.g),n==400&&0<o.indexOf("Unknown SID")?(this.s=3,Vt(12)):(this.s=0,Vt(13)),Ji(this),Fa(this)}}}catch{}finally{}};function GI(t){return t.g?t.v=="GET"&&t.L!=2&&t.l.Ha:!1}function qI(t,e,n){let r=!0,i;for(;!t.J&&t.o<n.length;)if(i=WV(t,n),i==Hm){e==4&&(t.s=4,Vt(14),r=!1),ro(t.j,t.m,null,"[Incomplete Response]");break}else if(i==WI){t.s=4,Vt(15),ro(t.j,t.m,n,"[Invalid Chunk]"),r=!1;break}else ro(t.j,t.m,i,null),qm(t,i);GI(t)&&t.o!=0&&(t.h.g=t.h.g.slice(t.o),t.o=0),e!=4||n.length!=0||t.h.h||(t.s=1,Vt(16),r=!1),t.i=t.i&&r,r?0<n.length&&!t.ba&&(t.ba=!0,e=t.l,e.g==t&&e.ca&&!e.M&&(e.l.info("Great, no buffering proxy detected. Bytes received: "+n.length),av(e),e.M=!0,Vt(11))):(ro(t.j,t.m,n,"[Invalid Chunked Response]"),Ji(t),Fa(t))}O.mb=function(){if(this.g){var t=$n(this.g),e=this.g.ja();this.o<e.length&&(Td(this),qI(this,t,e),this.i&&t!=4&&iu(this))}};function WV(t,e){var n=t.o,r=e.indexOf(`
`,n);return r==-1?Hm:(n=Number(e.substring(n,r)),isNaN(n)?WI:(r+=1,r+n>e.length?Hm:(e=e.slice(r,r+n),t.o=r+n,e)))}O.cancel=function(){this.J=!0,Ji(this)};function iu(t){t.Y=Date.now()+t.P,KI(t,t.P)}function KI(t,e){if(t.C!=null)throw Error("WatchDog timer not null");t.C=tu(At(t.lb,t),e)}function Td(t){t.C&&(J.clearTimeout(t.C),t.C=null)}O.lb=function(){this.C=null;const t=Date.now();0<=t-this.Y?(UV(this.j,this.B),this.L!=2&&(Sl(),Vt(17)),Ji(this),this.s=2,Fa(this)):KI(this,this.Y-t)};function Fa(t){t.l.H==0||t.J||gA(t.l,t)}function Ji(t){Td(t);var e=t.M;e&&typeof e.sa=="function"&&e.sa(),t.M=null,Yy(t.V),MI(t.U),t.g&&(e=t.g,t.g=null,e.abort(),e.sa())}function qm(t,e){try{var n=t.l;if(n.H!=0&&(n.g==t||Km(n.i,t))){if(!t.K&&Km(n.i,t)&&n.H==3){try{var r=n.Ja.g.parse(e)}catch{r=null}if(Array.isArray(r)&&r.length==3){var i=r;if(i[0]==0){e:if(!n.u){if(n.g)if(n.g.G+3e3<t.G)ph(n),Pd(n);else break e;ov(n),Vt(18)}}else n.Fa=i[1],0<n.Fa-n.V&&37500>i[2]&&n.G&&n.A==0&&!n.v&&(n.v=tu(At(n.ib,n),6e3));if(1>=nA(n.i)&&n.oa){try{n.oa()}catch{}n.oa=void 0}}else Zi(n,11)}else if((t.K||n.g==t)&&ph(n),!vl(e))for(i=n.Ja.g.parse(e),e=0;e<i.length;e++){let u=i[e];if(n.V=u[0],u=u[1],n.H==2)if(u[0]=="c"){n.K=u[1],n.pa=u[2];const c=u[3];c!=null&&(n.ra=c,n.l.info("VER="+n.ra));const h=u[4];h!=null&&(n.Ga=h,n.l.info("SVER="+n.Ga));const d=u[5];d!=null&&typeof d=="number"&&0<d&&(r=1.5*d,n.L=r,n.l.info("backChannelRequestTimeoutMs_="+r)),r=n;const p=t.g;if(p){const g=p.g?p.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(g){var s=r.i;s.g||g.indexOf("spdy")==-1&&g.indexOf("quic")==-1&&g.indexOf("h2")==-1||(s.j=s.l,s.g=new Set,s.h&&(nv(s,s.h),s.h=null))}if(r.F){const _=p.g?p.g.getResponseHeader("X-HTTP-Session-Id"):null;_&&(r.Da=_,Se(r.I,r.F,_))}}n.H=3,n.h&&n.h.Ba(),n.ca&&(n.S=Date.now()-t.G,n.l.info("Handshake RTT: "+n.S+"ms")),r=n;var o=t;if(r.wa=_A(r,r.J?r.pa:null,r.Y),o.K){rA(r.i,o);var a=o,l=r.L;l&&a.setTimeout(l),a.C&&(Td(a),iu(a)),r.g=o}else pA(r);0<n.j.length&&Cd(n)}else u[0]!="stop"&&u[0]!="close"||Zi(n,7);else n.H==3&&(u[0]=="stop"||u[0]=="close"?u[0]=="stop"?Zi(n,7):sv(n):u[0]!="noop"&&n.h&&n.h.Aa(u),n.A=0)}}Sl(4)}catch{}}function HV(t){if(t.Z&&typeof t.Z=="function")return t.Z();if(typeof Map<"u"&&t instanceof Map||typeof Set<"u"&&t instanceof Set)return Array.from(t.values());if(typeof t=="string")return t.split("");if(fd(t)){for(var e=[],n=t.length,r=0;r<n;r++)e.push(t[r]);return e}e=[],n=0;for(r in t)e[n++]=t[r];return e}function GV(t){if(t.ta&&typeof t.ta=="function")return t.ta();if(!t.Z||typeof t.Z!="function"){if(typeof Map<"u"&&t instanceof Map)return Array.from(t.keys());if(!(typeof Set<"u"&&t instanceof Set)){if(fd(t)||typeof t=="string"){var e=[];t=t.length;for(var n=0;n<t;n++)e.push(n);return e}e=[],n=0;for(const r in t)e[n++]=r;return e}}}function QI(t,e){if(t.forEach&&typeof t.forEach=="function")t.forEach(e,void 0);else if(fd(t)||typeof t=="string")Array.prototype.forEach.call(t,e,void 0);else for(var n=GV(t),r=HV(t),i=r.length,s=0;s<i;s++)e.call(void 0,r[s],n&&n[s],t)}var XI=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function qV(t,e){if(t){t=t.split("&");for(var n=0;n<t.length;n++){var r=t[n].indexOf("="),i=null;if(0<=r){var s=t[n].substring(0,r);i=t[n].substring(r+1)}else s=t[n];e(s,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}function os(t){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,t instanceof os){this.h=t.h,dh(this,t.j),this.s=t.s,this.g=t.g,fh(this,t.m),this.l=t.l;var e=t.i,n=new xl;n.i=e.i,e.g&&(n.g=new Map(e.g),n.h=e.h),Aw(this,n),this.o=t.o}else t&&(e=String(t).match(XI))?(this.h=!1,dh(this,e[1]||"",!0),this.s=xa(e[2]||""),this.g=xa(e[3]||"",!0),fh(this,e[4]),this.l=xa(e[5]||"",!0),Aw(this,e[6]||"",!0),this.o=xa(e[7]||"")):(this.h=!1,this.i=new xl(null,this.h))}os.prototype.toString=function(){var t=[],e=this.j;e&&t.push(Ia(e,Pw,!0),":");var n=this.g;return(n||e=="file")&&(t.push("//"),(e=this.s)&&t.push(Ia(e,Pw,!0),"@"),t.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),n=this.m,n!=null&&t.push(":",String(n))),(n=this.l)&&(this.g&&n.charAt(0)!="/"&&t.push("/"),t.push(Ia(n,n.charAt(0)=="/"?XV:QV,!0))),(n=this.i.toString())&&t.push("?",n),(n=this.o)&&t.push("#",Ia(n,JV)),t.join("")};function xr(t){return new os(t)}function dh(t,e,n){t.j=n?xa(e,!0):e,t.j&&(t.j=t.j.replace(/:$/,""))}function fh(t,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);t.m=e}else t.m=null}function Aw(t,e,n){e instanceof xl?(t.i=e,ZV(t.i,t.h)):(n||(e=Ia(e,YV)),t.i=new xl(e,t.h))}function Se(t,e,n){t.i.set(e,n)}function Sd(t){return Se(t,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),t}function xa(t,e){return t?e?decodeURI(t.replace(/%25/g,"%2525")):decodeURIComponent(t):""}function Ia(t,e,n){return typeof t=="string"?(t=encodeURI(t).replace(e,KV),n&&(t=t.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),t):null}function KV(t){return t=t.charCodeAt(0),"%"+(t>>4&15).toString(16)+(t&15).toString(16)}var Pw=/[#\/\?@]/g,QV=/[#\?:]/g,XV=/[#\?]/g,YV=/[#\?@]/g,JV=/#/g;function xl(t,e){this.h=this.g=null,this.i=t||null,this.j=!!e}function Ri(t){t.g||(t.g=new Map,t.h=0,t.i&&qV(t.i,function(e,n){t.add(decodeURIComponent(e.replace(/\+/g," ")),n)}))}O=xl.prototype;O.add=function(t,e){Ri(this),this.i=null,t=qo(this,t);var n=this.g.get(t);return n||this.g.set(t,n=[]),n.push(e),this.h+=1,this};function YI(t,e){Ri(t),e=qo(t,e),t.g.has(e)&&(t.i=null,t.h-=t.g.get(e).length,t.g.delete(e))}function JI(t,e){return Ri(t),e=qo(t,e),t.g.has(e)}O.forEach=function(t,e){Ri(this),this.g.forEach(function(n,r){n.forEach(function(i){t.call(e,i,r,this)},this)},this)};O.ta=function(){Ri(this);const t=Array.from(this.g.values()),e=Array.from(this.g.keys()),n=[];for(let r=0;r<e.length;r++){const i=t[r];for(let s=0;s<i.length;s++)n.push(e[r])}return n};O.Z=function(t){Ri(this);let e=[];if(typeof t=="string")JI(this,t)&&(e=e.concat(this.g.get(qo(this,t))));else{t=Array.from(this.g.values());for(let n=0;n<t.length;n++)e=e.concat(t[n])}return e};O.set=function(t,e){return Ri(this),this.i=null,t=qo(this,t),JI(this,t)&&(this.h-=this.g.get(t).length),this.g.set(t,[e]),this.h+=1,this};O.get=function(t,e){return t?(t=this.Z(t),0<t.length?String(t[0]):e):e};function ZI(t,e,n){YI(t,e),0<n.length&&(t.i=null,t.g.set(qo(t,e),By(n)),t.h+=n.length)}O.toString=function(){if(this.i)return this.i;if(!this.g)return"";const t=[],e=Array.from(this.g.keys());for(var n=0;n<e.length;n++){var r=e[n];const s=encodeURIComponent(String(r)),o=this.Z(r);for(r=0;r<o.length;r++){var i=s;o[r]!==""&&(i+="="+encodeURIComponent(String(o[r]))),t.push(i)}}return this.i=t.join("&")};function qo(t,e){return e=String(e),t.j&&(e=e.toLowerCase()),e}function ZV(t,e){e&&!t.j&&(Ri(t),t.i=null,t.g.forEach(function(n,r){var i=r.toLowerCase();r!=i&&(YI(this,r),ZI(this,i,n))},t)),t.j=e}var ej=class{constructor(t,e){this.g=t,this.map=e}};function eA(t){this.l=t||tj,J.PerformanceNavigationTiming?(t=J.performance.getEntriesByType("navigation"),t=0<t.length&&(t[0].nextHopProtocol=="hq"||t[0].nextHopProtocol=="h2")):t=!!(J.g&&J.g.Ka&&J.g.Ka()&&J.g.Ka().dc),this.j=t?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}var tj=10;function tA(t){return t.h?!0:t.g?t.g.size>=t.j:!1}function nA(t){return t.h?1:t.g?t.g.size:0}function Km(t,e){return t.h?t.h==e:t.g?t.g.has(e):!1}function nv(t,e){t.g?t.g.add(e):t.h=e}function rA(t,e){t.h&&t.h==e?t.h=null:t.g&&t.g.has(e)&&t.g.delete(e)}eA.prototype.cancel=function(){if(this.i=iA(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const t of this.g.values())t.cancel();this.g.clear()}};function iA(t){if(t.h!=null)return t.i.concat(t.h.F);if(t.g!=null&&t.g.size!==0){let e=t.i;for(const n of t.g.values())e=e.concat(n.F);return e}return By(t.i)}var nj=class{stringify(t){return J.JSON.stringify(t,void 0)}parse(t){return J.JSON.parse(t,void 0)}};function rj(){this.g=new nj}function ij(t,e,n){const r=n||"";try{QI(t,function(i,s){let o=i;Zl(i)&&(o=Qy(i)),e.push(r+s+"="+encodeURIComponent(o))})}catch(i){throw e.push(r+"type="+encodeURIComponent("_badmap")),i}}function sj(t,e){const n=new vd;if(J.Image){const r=new Image;r.onload=Gu(Ku,n,r,"TestLoadImage: loaded",!0,e),r.onerror=Gu(Ku,n,r,"TestLoadImage: error",!1,e),r.onabort=Gu(Ku,n,r,"TestLoadImage: abort",!1,e),r.ontimeout=Gu(Ku,n,r,"TestLoadImage: timeout",!1,e),J.setTimeout(function(){r.ontimeout&&r.ontimeout()},1e4),r.src=t}else e(!1)}function Ku(t,e,n,r,i){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,i(r)}catch{}}function xd(t){this.l=t.ec||null,this.j=t.ob||!1}ot(xd,Zy);xd.prototype.g=function(){return new Id(this.l,this.j)};xd.prototype.i=function(t){return function(){return t}}({});function Id(t,e){st.call(this),this.F=t,this.u=e,this.m=void 0,this.readyState=rv,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}ot(Id,st);var rv=0;O=Id.prototype;O.open=function(t,e){if(this.readyState!=rv)throw this.abort(),Error("Error reopening a connection");this.C=t,this.B=e,this.readyState=1,Il(this)};O.send=function(t){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};t&&(e.body=t),(this.F||J).fetch(new Request(this.B,e)).then(this.$a.bind(this),this.ka.bind(this))};O.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,su(this)),this.readyState=rv};O.$a=function(t){if(this.g&&(this.l=t,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=t.headers,this.readyState=2,Il(this)),this.g&&(this.readyState=3,Il(this),this.g)))if(this.responseType==="arraybuffer")t.arrayBuffer().then(this.Ya.bind(this),this.ka.bind(this));else if(typeof J.ReadableStream<"u"&&"body"in t){if(this.j=t.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;sA(this)}else t.text().then(this.Za.bind(this),this.ka.bind(this))};function sA(t){t.j.read().then(t.Xa.bind(t)).catch(t.ka.bind(t))}O.Xa=function(t){if(this.g){if(this.u&&t.value)this.response.push(t.value);else if(!this.u){var e=t.value?t.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!t.done}))&&(this.response=this.responseText+=e)}t.done?su(this):Il(this),this.readyState==3&&sA(this)}};O.Za=function(t){this.g&&(this.response=this.responseText=t,su(this))};O.Ya=function(t){this.g&&(this.response=t,su(this))};O.ka=function(){this.g&&su(this)};function su(t){t.readyState=4,t.l=null,t.j=null,t.A=null,Il(t)}O.setRequestHeader=function(t,e){this.v.append(t,e)};O.getResponseHeader=function(t){return this.h&&this.h.get(t.toLowerCase())||""};O.getAllResponseHeaders=function(){if(!this.h)return"";const t=[],e=this.h.entries();for(var n=e.next();!n.done;)n=n.value,t.push(n[0]+": "+n[1]),n=e.next();return t.join(`\r
`)};function Il(t){t.onreadystatechange&&t.onreadystatechange.call(t)}Object.defineProperty(Id.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(t){this.m=t?"include":"same-origin"}});var oj=J.JSON.parse;function Me(t){st.call(this),this.headers=new Map,this.u=t||null,this.h=!1,this.C=this.g=null,this.I="",this.m=0,this.j="",this.l=this.G=this.v=this.F=!1,this.B=0,this.A=null,this.K=oA,this.L=this.M=!1}ot(Me,st);var oA="",aj=/^https?$/i,lj=["POST","PUT"];O=Me.prototype;O.Oa=function(t){this.M=t};O.ha=function(t,e,n,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.I+"; newUri="+t);e=e?e.toUpperCase():"GET",this.I=t,this.j="",this.m=0,this.F=!1,this.h=!0,this.g=this.u?this.u.g():Wm.g(),this.C=this.u?Iw(this.u):Iw(Wm),this.g.onreadystatechange=At(this.La,this);try{this.G=!0,this.g.open(e,String(t),!0),this.G=!1}catch(s){Cw(this,s);return}if(t=n||"",n=new Map(this.headers),r)if(Object.getPrototypeOf(r)===Object.prototype)for(var i in r)n.set(i,r[i]);else if(typeof r.keys=="function"&&typeof r.get=="function")for(const s of r.keys())n.set(s,r.get(s));else throw Error("Unknown input type for opt_headers: "+String(r));r=Array.from(n.keys()).find(s=>s.toLowerCase()=="content-type"),i=J.FormData&&t instanceof J.FormData,!(0<=TI(lj,e))||r||i||n.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[s,o]of n)this.g.setRequestHeader(s,o);this.K&&(this.g.responseType=this.K),"withCredentials"in this.g&&this.g.withCredentials!==this.M&&(this.g.withCredentials=this.M);try{uA(this),0<this.B&&((this.L=uj(this.g))?(this.g.timeout=this.B,this.g.ontimeout=At(this.ua,this)):this.A=Jy(this.ua,this.B,this)),this.v=!0,this.g.send(t),this.v=!1}catch(s){Cw(this,s)}};function uj(t){return Co&&typeof t.timeout=="number"&&t.ontimeout!==void 0}O.ua=function(){typeof Uy<"u"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,mt(this,"timeout"),this.abort(8))};function Cw(t,e){t.h=!1,t.g&&(t.l=!0,t.g.abort(),t.l=!1),t.j=e,t.m=5,aA(t),Ad(t)}function aA(t){t.F||(t.F=!0,mt(t,"complete"),mt(t,"error"))}O.abort=function(t){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=t||7,mt(this,"complete"),mt(this,"abort"),Ad(this))};O.N=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),Ad(this,!0)),Me.$.N.call(this)};O.La=function(){this.s||(this.G||this.v||this.l?lA(this):this.kb())};O.kb=function(){lA(this)};function lA(t){if(t.h&&typeof Uy<"u"&&(!t.C[1]||$n(t)!=4||t.da()!=2)){if(t.v&&$n(t)==4)Jy(t.La,0,t);else if(mt(t,"readystatechange"),$n(t)==4){t.h=!1;try{const o=t.da();e:switch(o){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break e;default:e=!1}var n;if(!(n=e)){var r;if(r=o===0){var i=String(t.I).match(XI)[1]||null;!i&&J.self&&J.self.location&&(i=J.self.location.protocol.slice(0,-1)),r=!aj.test(i?i.toLowerCase():"")}n=r}if(n)mt(t,"complete"),mt(t,"success");else{t.m=6;try{var s=2<$n(t)?t.g.statusText:""}catch{s=""}t.j=s+" ["+t.da()+"]",aA(t)}}finally{Ad(t)}}}}function Ad(t,e){if(t.g){uA(t);const n=t.g,r=t.C[0]?()=>{}:null;t.g=null,t.C=null,e||mt(t,"ready");try{n.onreadystatechange=r}catch{}}}function uA(t){t.g&&t.L&&(t.g.ontimeout=null),t.A&&(J.clearTimeout(t.A),t.A=null)}O.isActive=function(){return!!this.g};function $n(t){return t.g?t.g.readyState:0}O.da=function(){try{return 2<$n(this)?this.g.status:-1}catch{return-1}};O.ja=function(){try{return this.g?this.g.responseText:""}catch{return""}};O.Wa=function(t){if(this.g){var e=this.g.responseText;return t&&e.indexOf(t)==0&&(e=e.substring(t.length)),oj(e)}};function bw(t){try{if(!t.g)return null;if("response"in t.g)return t.g.response;switch(t.K){case oA:case"text":return t.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in t.g)return t.g.mozResponseArrayBuffer}return null}catch{return null}}function cj(t){const e={};t=(t.g&&2<=$n(t)&&t.g.getAllResponseHeaders()||"").split(`\r
`);for(let r=0;r<t.length;r++){if(vl(t[r]))continue;var n=VV(t[r]);const i=n[0];if(n=n[1],typeof n!="string")continue;n=n.trim();const s=e[i]||[];e[i]=s,s.push(n)}CV(e,function(r){return r.join(", ")})}O.Ia=function(){return this.m};O.Sa=function(){return typeof this.j=="string"?this.j:String(this.j)};function cA(t){let e="";return Wy(t,function(n,r){e+=r,e+=":",e+=n,e+=`\r
`}),e}function iv(t,e,n){e:{for(r in n){var r=!1;break e}r=!0}r||(n=cA(n),typeof t=="string"?n!=null&&encodeURIComponent(String(n)):Se(t,e,n))}function ca(t,e,n){return n&&n.internalChannelParams&&n.internalChannelParams[t]||e}function hA(t){this.Ga=0,this.j=[],this.l=new vd,this.pa=this.wa=this.I=this.Y=this.g=this.Da=this.F=this.na=this.o=this.U=this.s=null,this.fb=this.W=0,this.cb=ca("failFast",!1,t),this.G=this.v=this.u=this.m=this.h=null,this.aa=!0,this.Fa=this.V=-1,this.ba=this.A=this.C=0,this.ab=ca("baseRetryDelayMs",5e3,t),this.hb=ca("retryDelaySeedMs",1e4,t),this.eb=ca("forwardChannelMaxRetries",2,t),this.xa=ca("forwardChannelRequestTimeoutMs",2e4,t),this.va=t&&t.xmlHttpFactory||void 0,this.Ha=t&&t.useFetchStreams||!1,this.L=void 0,this.J=t&&t.supportsCrossDomainXhr||!1,this.K="",this.i=new eA(t&&t.concurrentRequestLimit),this.Ja=new rj,this.P=t&&t.fastHandshake||!1,this.O=t&&t.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.bb=t&&t.bc||!1,t&&t.Ea&&this.l.Ea(),t&&t.forceLongPolling&&(this.aa=!1),this.ca=!this.P&&this.aa&&t&&t.detectBufferingProxy||!1,this.qa=void 0,t&&t.longPollingTimeout&&0<t.longPollingTimeout&&(this.qa=t.longPollingTimeout),this.oa=void 0,this.S=0,this.M=!1,this.ma=this.B=null}O=hA.prototype;O.ra=8;O.H=1;function sv(t){if(dA(t),t.H==3){var e=t.W++,n=xr(t.I);if(Se(n,"SID",t.K),Se(n,"RID",e),Se(n,"TYPE","terminate"),ou(t,n),e=new ru(t,t.l,e),e.L=2,e.A=Sd(xr(n)),n=!1,J.navigator&&J.navigator.sendBeacon)try{n=J.navigator.sendBeacon(e.A.toString(),"")}catch{}!n&&J.Image&&(new Image().src=e.A,n=!0),n||(e.g=wA(e.l,null),e.g.ha(e.A)),e.G=Date.now(),iu(e)}vA(t)}function Pd(t){t.g&&(av(t),t.g.cancel(),t.g=null)}function dA(t){Pd(t),t.u&&(J.clearTimeout(t.u),t.u=null),ph(t),t.i.cancel(),t.m&&(typeof t.m=="number"&&J.clearTimeout(t.m),t.m=null)}function Cd(t){if(!tA(t.i)&&!t.m){t.m=!0;var e=t.Na;wl||OI(),El||(wl(),El=!0),Xy.add(e,t),t.C=0}}function hj(t,e){return nA(t.i)>=t.i.j-(t.m?1:0)?!1:t.m?(t.j=e.F.concat(t.j),!0):t.H==1||t.H==2||t.C>=(t.cb?0:t.eb)?!1:(t.m=tu(At(t.Na,t,e),yA(t,t.C)),t.C++,!0)}O.Na=function(t){if(this.m)if(this.m=null,this.H==1){if(!t){this.W=Math.floor(1e5*Math.random()),t=this.W++;const i=new ru(this,this.l,t);let s=this.s;if(this.U&&(s?(s=AI(s),PI(s,this.U)):s=this.U),this.o!==null||this.O||(i.I=s,s=null),this.P)e:{for(var e=0,n=0;n<this.j.length;n++){t:{var r=this.j[n];if("__data__"in r.map&&(r=r.map.__data__,typeof r=="string")){r=r.length;break t}r=void 0}if(r===void 0)break;if(e+=r,4096<e){e=n;break e}if(e===4096||n===this.j.length-1){e=n+1;break e}}e=1e3}else e=1e3;e=fA(this,i,e),n=xr(this.I),Se(n,"RID",t),Se(n,"CVER",22),this.F&&Se(n,"X-HTTP-Session-Id",this.F),ou(this,n),s&&(this.O?e="headers="+encodeURIComponent(String(cA(s)))+"&"+e:this.o&&iv(n,this.o,s)),nv(this.i,i),this.bb&&Se(n,"TYPE","init"),this.P?(Se(n,"$req",e),Se(n,"SID","null"),i.aa=!0,Gm(i,n,null)):Gm(i,n,e),this.H=2}}else this.H==3&&(t?Rw(this,t):this.j.length==0||tA(this.i)||Rw(this))};function Rw(t,e){var n;e?n=e.m:n=t.W++;const r=xr(t.I);Se(r,"SID",t.K),Se(r,"RID",n),Se(r,"AID",t.V),ou(t,r),t.o&&t.s&&iv(r,t.o,t.s),n=new ru(t,t.l,n,t.C+1),t.o===null&&(n.I=t.s),e&&(t.j=e.F.concat(t.j)),e=fA(t,n,1e3),n.setTimeout(Math.round(.5*t.xa)+Math.round(.5*t.xa*Math.random())),nv(t.i,n),Gm(n,r,e)}function ou(t,e){t.na&&Wy(t.na,function(n,r){Se(e,r,n)}),t.h&&QI({},function(n,r){Se(e,r,n)})}function fA(t,e,n){n=Math.min(t.j.length,n);var r=t.h?At(t.h.Va,t.h,t):null;e:{var i=t.j;let s=-1;for(;;){const o=["count="+n];s==-1?0<n?(s=i[0].g,o.push("ofs="+s)):s=0:o.push("ofs="+s);let a=!0;for(let l=0;l<n;l++){let u=i[l].g;const c=i[l].map;if(u-=s,0>u)s=Math.max(0,i[l].g-100),a=!1;else try{ij(c,o,"req"+u+"_")}catch{r&&r(c)}}if(a){r=o.join("&");break e}}}return t=t.j.splice(0,n),e.F=t,r}function pA(t){if(!t.g&&!t.u){t.ba=1;var e=t.Ma;wl||OI(),El||(wl(),El=!0),Xy.add(e,t),t.A=0}}function ov(t){return t.g||t.u||3<=t.A?!1:(t.ba++,t.u=tu(At(t.Ma,t),yA(t,t.A)),t.A++,!0)}O.Ma=function(){if(this.u=null,mA(this),this.ca&&!(this.M||this.g==null||0>=this.S)){var t=2*this.S;this.l.info("BP detection timer enabled: "+t),this.B=tu(At(this.jb,this),t)}};O.jb=function(){this.B&&(this.B=null,this.l.info("BP detection timeout reached."),this.l.info("Buffering proxy detected and switch to long-polling!"),this.G=!1,this.M=!0,Vt(10),Pd(this),mA(this))};function av(t){t.B!=null&&(J.clearTimeout(t.B),t.B=null)}function mA(t){t.g=new ru(t,t.l,"rpc",t.ba),t.o===null&&(t.g.I=t.s),t.g.O=0;var e=xr(t.wa);Se(e,"RID","rpc"),Se(e,"SID",t.K),Se(e,"AID",t.V),Se(e,"CI",t.G?"0":"1"),!t.G&&t.qa&&Se(e,"TO",t.qa),Se(e,"TYPE","xmlhttp"),ou(t,e),t.o&&t.s&&iv(e,t.o,t.s),t.L&&t.g.setTimeout(t.L);var n=t.g;t=t.pa,n.L=1,n.A=Sd(xr(e)),n.u=null,n.S=!0,HI(n,t)}O.ib=function(){this.v!=null&&(this.v=null,Pd(this),ov(this),Vt(19))};function ph(t){t.v!=null&&(J.clearTimeout(t.v),t.v=null)}function gA(t,e){var n=null;if(t.g==e){ph(t),av(t),t.g=null;var r=2}else if(Km(t.i,e))n=e.F,rA(t.i,e),r=1;else return;if(t.H!=0){if(e.i)if(r==1){n=e.u?e.u.length:0,e=Date.now()-e.G;var i=t.C;r=_d(),mt(r,new $I(r,n)),Cd(t)}else pA(t);else if(i=e.s,i==3||i==0&&0<e.ca||!(r==1&&hj(t,e)||r==2&&ov(t)))switch(n&&0<n.length&&(e=t.i,e.i=e.i.concat(n)),i){case 1:Zi(t,5);break;case 4:Zi(t,10);break;case 3:Zi(t,6);break;default:Zi(t,2)}}}function yA(t,e){let n=t.ab+Math.floor(Math.random()*t.hb);return t.isActive()||(n*=2),n*e}function Zi(t,e){if(t.l.info("Error code "+e),e==2){var n=null;t.h&&(n=null);var r=At(t.pb,t);n||(n=new os("//www.google.com/images/cleardot.gif"),J.location&&J.location.protocol=="http"||dh(n,"https"),Sd(n)),sj(n.toString(),r)}else Vt(2);t.H=0,t.h&&t.h.za(e),vA(t),dA(t)}O.pb=function(t){t?(this.l.info("Successfully pinged google.com"),Vt(2)):(this.l.info("Failed to ping google.com"),Vt(1))};function vA(t){if(t.H=0,t.ma=[],t.h){const e=iA(t.i);(e.length!=0||t.j.length!=0)&&(ww(t.ma,e),ww(t.ma,t.j),t.i.i.length=0,By(t.j),t.j.length=0),t.h.ya()}}function _A(t,e,n){var r=n instanceof os?xr(n):new os(n);if(r.g!="")e&&(r.g=e+"."+r.g),fh(r,r.m);else{var i=J.location;r=i.protocol,e=e?e+"."+i.hostname:i.hostname,i=+i.port;var s=new os(null);r&&dh(s,r),e&&(s.g=e),i&&fh(s,i),n&&(s.l=n),r=s}return n=t.F,e=t.Da,n&&e&&Se(r,n,e),Se(r,"VER",t.ra),ou(t,r),r}function wA(t,e,n){if(e&&!t.J)throw Error("Can't create secondary domain capable XhrIo object.");return e=t.Ha&&!t.va?new Me(new xd({ob:n})):new Me(t.va),e.Oa(t.J),e}O.isActive=function(){return!!this.h&&this.h.isActive(this)};function EA(){}O=EA.prototype;O.Ba=function(){};O.Aa=function(){};O.za=function(){};O.ya=function(){};O.isActive=function(){return!0};O.Va=function(){};function mh(){if(Co&&!(10<=Number(xV)))throw Error("Environmental error: no available transport.")}mh.prototype.g=function(t,e){return new an(t,e)};function an(t,e){st.call(this),this.g=new hA(e),this.l=t,this.h=e&&e.messageUrlParams||null,t=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(t?t["X-Client-Protocol"]="webchannel":t={"X-Client-Protocol":"webchannel"}),this.g.s=t,t=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(t?t["X-WebChannel-Content-Type"]=e.messageContentType:t={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.Ca&&(t?t["X-WebChannel-Client-Profile"]=e.Ca:t={"X-WebChannel-Client-Profile":e.Ca}),this.g.U=t,(t=e&&e.cc)&&!vl(t)&&(this.g.o=t),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!vl(e)&&(this.g.F=e,t=this.h,t!==null&&e in t&&(t=this.h,e in t&&delete t[e])),this.j=new Ko(this)}ot(an,st);an.prototype.m=function(){this.g.h=this.j,this.A&&(this.g.J=!0);var t=this.g,e=this.l,n=this.h||void 0;Vt(0),t.Y=e,t.na=n||{},t.G=t.aa,t.I=_A(t,null,t.Y),Cd(t)};an.prototype.close=function(){sv(this.g)};an.prototype.u=function(t){var e=this.g;if(typeof t=="string"){var n={};n.__data__=t,t=n}else this.v&&(n={},n.__data__=Qy(t),t=n);e.j.push(new ej(e.fb++,t)),e.H==3&&Cd(e)};an.prototype.N=function(){this.g.h=null,delete this.j,sv(this.g),delete this.g,an.$.N.call(this)};function TA(t){ev.call(this),t.__headers__&&(this.headers=t.__headers__,this.statusCode=t.__status__,delete t.__headers__,delete t.__status__);var e=t.__sm__;if(e){e:{for(const n in e){t=n;break e}t=void 0}(this.i=t)&&(t=this.i,e=e!==null&&t in e?e[t]:void 0),this.data=e}else this.data=t}ot(TA,ev);function SA(){tv.call(this),this.status=1}ot(SA,tv);function Ko(t){this.g=t}ot(Ko,EA);Ko.prototype.Ba=function(){mt(this.g,"a")};Ko.prototype.Aa=function(t){mt(this.g,new TA(t))};Ko.prototype.za=function(t){mt(this.g,new SA)};Ko.prototype.ya=function(){mt(this.g,"b")};function dj(){this.blockSize=-1}function Rn(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.m=Array(this.blockSize),this.i=this.h=0,this.reset()}ot(Rn,dj);Rn.prototype.reset=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.i=this.h=0};function ap(t,e,n){n||(n=0);var r=Array(16);if(typeof e=="string")for(var i=0;16>i;++i)r[i]=e.charCodeAt(n++)|e.charCodeAt(n++)<<8|e.charCodeAt(n++)<<16|e.charCodeAt(n++)<<24;else for(i=0;16>i;++i)r[i]=e[n++]|e[n++]<<8|e[n++]<<16|e[n++]<<24;e=t.g[0],n=t.g[1],i=t.g[2];var s=t.g[3],o=e+(s^n&(i^s))+r[0]+3614090360&4294967295;e=n+(o<<7&4294967295|o>>>25),o=s+(i^e&(n^i))+r[1]+3905402710&4294967295,s=e+(o<<12&4294967295|o>>>20),o=i+(n^s&(e^n))+r[2]+606105819&4294967295,i=s+(o<<17&4294967295|o>>>15),o=n+(e^i&(s^e))+r[3]+3250441966&4294967295,n=i+(o<<22&4294967295|o>>>10),o=e+(s^n&(i^s))+r[4]+4118548399&4294967295,e=n+(o<<7&4294967295|o>>>25),o=s+(i^e&(n^i))+r[5]+1200080426&4294967295,s=e+(o<<12&4294967295|o>>>20),o=i+(n^s&(e^n))+r[6]+2821735955&4294967295,i=s+(o<<17&4294967295|o>>>15),o=n+(e^i&(s^e))+r[7]+4249261313&4294967295,n=i+(o<<22&4294967295|o>>>10),o=e+(s^n&(i^s))+r[8]+1770035416&4294967295,e=n+(o<<7&4294967295|o>>>25),o=s+(i^e&(n^i))+r[9]+2336552879&4294967295,s=e+(o<<12&4294967295|o>>>20),o=i+(n^s&(e^n))+r[10]+4294925233&4294967295,i=s+(o<<17&4294967295|o>>>15),o=n+(e^i&(s^e))+r[11]+2304563134&4294967295,n=i+(o<<22&4294967295|o>>>10),o=e+(s^n&(i^s))+r[12]+1804603682&4294967295,e=n+(o<<7&4294967295|o>>>25),o=s+(i^e&(n^i))+r[13]+4254626195&4294967295,s=e+(o<<12&4294967295|o>>>20),o=i+(n^s&(e^n))+r[14]+2792965006&4294967295,i=s+(o<<17&4294967295|o>>>15),o=n+(e^i&(s^e))+r[15]+1236535329&4294967295,n=i+(o<<22&4294967295|o>>>10),o=e+(i^s&(n^i))+r[1]+4129170786&4294967295,e=n+(o<<5&4294967295|o>>>27),o=s+(n^i&(e^n))+r[6]+3225465664&4294967295,s=e+(o<<9&4294967295|o>>>23),o=i+(e^n&(s^e))+r[11]+643717713&4294967295,i=s+(o<<14&4294967295|o>>>18),o=n+(s^e&(i^s))+r[0]+3921069994&4294967295,n=i+(o<<20&4294967295|o>>>12),o=e+(i^s&(n^i))+r[5]+3593408605&4294967295,e=n+(o<<5&4294967295|o>>>27),o=s+(n^i&(e^n))+r[10]+38016083&4294967295,s=e+(o<<9&4294967295|o>>>23),o=i+(e^n&(s^e))+r[15]+3634488961&4294967295,i=s+(o<<14&4294967295|o>>>18),o=n+(s^e&(i^s))+r[4]+3889429448&4294967295,n=i+(o<<20&4294967295|o>>>12),o=e+(i^s&(n^i))+r[9]+568446438&4294967295,e=n+(o<<5&4294967295|o>>>27),o=s+(n^i&(e^n))+r[14]+3275163606&4294967295,s=e+(o<<9&4294967295|o>>>23),o=i+(e^n&(s^e))+r[3]+4107603335&4294967295,i=s+(o<<14&4294967295|o>>>18),o=n+(s^e&(i^s))+r[8]+1163531501&4294967295,n=i+(o<<20&4294967295|o>>>12),o=e+(i^s&(n^i))+r[13]+2850285829&4294967295,e=n+(o<<5&4294967295|o>>>27),o=s+(n^i&(e^n))+r[2]+4243563512&4294967295,s=e+(o<<9&4294967295|o>>>23),o=i+(e^n&(s^e))+r[7]+1735328473&4294967295,i=s+(o<<14&4294967295|o>>>18),o=n+(s^e&(i^s))+r[12]+2368359562&4294967295,n=i+(o<<20&4294967295|o>>>12),o=e+(n^i^s)+r[5]+4294588738&4294967295,e=n+(o<<4&4294967295|o>>>28),o=s+(e^n^i)+r[8]+2272392833&4294967295,s=e+(o<<11&4294967295|o>>>21),o=i+(s^e^n)+r[11]+1839030562&4294967295,i=s+(o<<16&4294967295|o>>>16),o=n+(i^s^e)+r[14]+4259657740&4294967295,n=i+(o<<23&4294967295|o>>>9),o=e+(n^i^s)+r[1]+2763975236&4294967295,e=n+(o<<4&4294967295|o>>>28),o=s+(e^n^i)+r[4]+1272893353&4294967295,s=e+(o<<11&4294967295|o>>>21),o=i+(s^e^n)+r[7]+4139469664&4294967295,i=s+(o<<16&4294967295|o>>>16),o=n+(i^s^e)+r[10]+3200236656&4294967295,n=i+(o<<23&4294967295|o>>>9),o=e+(n^i^s)+r[13]+681279174&4294967295,e=n+(o<<4&4294967295|o>>>28),o=s+(e^n^i)+r[0]+3936430074&4294967295,s=e+(o<<11&4294967295|o>>>21),o=i+(s^e^n)+r[3]+3572445317&4294967295,i=s+(o<<16&4294967295|o>>>16),o=n+(i^s^e)+r[6]+76029189&4294967295,n=i+(o<<23&4294967295|o>>>9),o=e+(n^i^s)+r[9]+3654602809&4294967295,e=n+(o<<4&4294967295|o>>>28),o=s+(e^n^i)+r[12]+3873151461&4294967295,s=e+(o<<11&4294967295|o>>>21),o=i+(s^e^n)+r[15]+530742520&4294967295,i=s+(o<<16&4294967295|o>>>16),o=n+(i^s^e)+r[2]+3299628645&4294967295,n=i+(o<<23&4294967295|o>>>9),o=e+(i^(n|~s))+r[0]+4096336452&4294967295,e=n+(o<<6&4294967295|o>>>26),o=s+(n^(e|~i))+r[7]+1126891415&4294967295,s=e+(o<<10&4294967295|o>>>22),o=i+(e^(s|~n))+r[14]+2878612391&4294967295,i=s+(o<<15&4294967295|o>>>17),o=n+(s^(i|~e))+r[5]+4237533241&4294967295,n=i+(o<<21&4294967295|o>>>11),o=e+(i^(n|~s))+r[12]+1700485571&4294967295,e=n+(o<<6&4294967295|o>>>26),o=s+(n^(e|~i))+r[3]+2399980690&4294967295,s=e+(o<<10&4294967295|o>>>22),o=i+(e^(s|~n))+r[10]+4293915773&4294967295,i=s+(o<<15&4294967295|o>>>17),o=n+(s^(i|~e))+r[1]+2240044497&4294967295,n=i+(o<<21&4294967295|o>>>11),o=e+(i^(n|~s))+r[8]+1873313359&4294967295,e=n+(o<<6&4294967295|o>>>26),o=s+(n^(e|~i))+r[15]+4264355552&4294967295,s=e+(o<<10&4294967295|o>>>22),o=i+(e^(s|~n))+r[6]+2734768916&4294967295,i=s+(o<<15&4294967295|o>>>17),o=n+(s^(i|~e))+r[13]+1309151649&4294967295,n=i+(o<<21&4294967295|o>>>11),o=e+(i^(n|~s))+r[4]+4149444226&4294967295,e=n+(o<<6&4294967295|o>>>26),o=s+(n^(e|~i))+r[11]+3174756917&4294967295,s=e+(o<<10&4294967295|o>>>22),o=i+(e^(s|~n))+r[2]+718787259&4294967295,i=s+(o<<15&4294967295|o>>>17),o=n+(s^(i|~e))+r[9]+3951481745&4294967295,t.g[0]=t.g[0]+e&4294967295,t.g[1]=t.g[1]+(i+(o<<21&4294967295|o>>>11))&4294967295,t.g[2]=t.g[2]+i&4294967295,t.g[3]=t.g[3]+s&4294967295}Rn.prototype.j=function(t,e){e===void 0&&(e=t.length);for(var n=e-this.blockSize,r=this.m,i=this.h,s=0;s<e;){if(i==0)for(;s<=n;)ap(this,t,s),s+=this.blockSize;if(typeof t=="string"){for(;s<e;)if(r[i++]=t.charCodeAt(s++),i==this.blockSize){ap(this,r),i=0;break}}else for(;s<e;)if(r[i++]=t[s++],i==this.blockSize){ap(this,r),i=0;break}}this.h=i,this.i+=e};Rn.prototype.l=function(){var t=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);t[0]=128;for(var e=1;e<t.length-8;++e)t[e]=0;var n=8*this.i;for(e=t.length-8;e<t.length;++e)t[e]=n&255,n/=256;for(this.j(t),t=Array(16),e=n=0;4>e;++e)for(var r=0;32>r;r+=8)t[n++]=this.g[e]>>>r&255;return t};function fe(t,e){this.h=e;for(var n=[],r=!0,i=t.length-1;0<=i;i--){var s=t[i]|0;r&&s==e||(n[i]=s,r=!1)}this.g=n}var fj={};function lv(t){return-128<=t&&128>t?EV(t,function(e){return new fe([e|0],0>e?-1:0)}):new fe([t|0],0>t?-1:0)}function Un(t){if(isNaN(t)||!isFinite(t))return go;if(0>t)return dt(Un(-t));for(var e=[],n=1,r=0;t>=n;r++)e[r]=t/n|0,n*=Qm;return new fe(e,0)}function xA(t,e){if(t.length==0)throw Error("number format error: empty string");if(e=e||10,2>e||36<e)throw Error("radix out of range: "+e);if(t.charAt(0)=="-")return dt(xA(t.substring(1),e));if(0<=t.indexOf("-"))throw Error('number format error: interior "-" character');for(var n=Un(Math.pow(e,8)),r=go,i=0;i<t.length;i+=8){var s=Math.min(8,t.length-i),o=parseInt(t.substring(i,i+s),e);8>s?(s=Un(Math.pow(e,s)),r=r.R(s).add(Un(o))):(r=r.R(n),r=r.add(Un(o)))}return r}var Qm=4294967296,go=lv(0),Xm=lv(1),kw=lv(16777216);O=fe.prototype;O.ea=function(){if(gn(this))return-dt(this).ea();for(var t=0,e=1,n=0;n<this.g.length;n++){var r=this.D(n);t+=(0<=r?r:Qm+r)*e,e*=Qm}return t};O.toString=function(t){if(t=t||10,2>t||36<t)throw Error("radix out of range: "+t);if(dr(this))return"0";if(gn(this))return"-"+dt(this).toString(t);for(var e=Un(Math.pow(t,6)),n=this,r="";;){var i=yh(n,e).g;n=gh(n,i.R(e));var s=((0<n.g.length?n.g[0]:n.h)>>>0).toString(t);if(n=i,dr(n))return s+r;for(;6>s.length;)s="0"+s;r=s+r}};O.D=function(t){return 0>t?0:t<this.g.length?this.g[t]:this.h};function dr(t){if(t.h!=0)return!1;for(var e=0;e<t.g.length;e++)if(t.g[e]!=0)return!1;return!0}function gn(t){return t.h==-1}O.X=function(t){return t=gh(this,t),gn(t)?-1:dr(t)?0:1};function dt(t){for(var e=t.g.length,n=[],r=0;r<e;r++)n[r]=~t.g[r];return new fe(n,~t.h).add(Xm)}O.abs=function(){return gn(this)?dt(this):this};O.add=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0,i=0;i<=e;i++){var s=r+(this.D(i)&65535)+(t.D(i)&65535),o=(s>>>16)+(this.D(i)>>>16)+(t.D(i)>>>16);r=o>>>16,s&=65535,o&=65535,n[i]=o<<16|s}return new fe(n,n[n.length-1]&-2147483648?-1:0)};function gh(t,e){return t.add(dt(e))}O.R=function(t){if(dr(this)||dr(t))return go;if(gn(this))return gn(t)?dt(this).R(dt(t)):dt(dt(this).R(t));if(gn(t))return dt(this.R(dt(t)));if(0>this.X(kw)&&0>t.X(kw))return Un(this.ea()*t.ea());for(var e=this.g.length+t.g.length,n=[],r=0;r<2*e;r++)n[r]=0;for(r=0;r<this.g.length;r++)for(var i=0;i<t.g.length;i++){var s=this.D(r)>>>16,o=this.D(r)&65535,a=t.D(i)>>>16,l=t.D(i)&65535;n[2*r+2*i]+=o*l,Qu(n,2*r+2*i),n[2*r+2*i+1]+=s*l,Qu(n,2*r+2*i+1),n[2*r+2*i+1]+=o*a,Qu(n,2*r+2*i+1),n[2*r+2*i+2]+=s*a,Qu(n,2*r+2*i+2)}for(r=0;r<e;r++)n[r]=n[2*r+1]<<16|n[2*r];for(r=e;r<2*e;r++)n[r]=0;return new fe(n,0)};function Qu(t,e){for(;(t[e]&65535)!=t[e];)t[e+1]+=t[e]>>>16,t[e]&=65535,e++}function ha(t,e){this.g=t,this.h=e}function yh(t,e){if(dr(e))throw Error("division by zero");if(dr(t))return new ha(go,go);if(gn(t))return e=yh(dt(t),e),new ha(dt(e.g),dt(e.h));if(gn(e))return e=yh(t,dt(e)),new ha(dt(e.g),e.h);if(30<t.g.length){if(gn(t)||gn(e))throw Error("slowDivide_ only works with positive integers.");for(var n=Xm,r=e;0>=r.X(t);)n=Nw(n),r=Nw(r);var i=$s(n,1),s=$s(r,1);for(r=$s(r,2),n=$s(n,2);!dr(r);){var o=s.add(r);0>=o.X(t)&&(i=i.add(n),s=o),r=$s(r,1),n=$s(n,1)}return e=gh(t,i.R(e)),new ha(i,e)}for(i=go;0<=t.X(e);){for(n=Math.max(1,Math.floor(t.ea()/e.ea())),r=Math.ceil(Math.log(n)/Math.LN2),r=48>=r?1:Math.pow(2,r-48),s=Un(n),o=s.R(e);gn(o)||0<o.X(t);)n-=r,s=Un(n),o=s.R(e);dr(s)&&(s=Xm),i=i.add(s),t=gh(t,o)}return new ha(i,t)}O.gb=function(t){return yh(this,t).h};O.and=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0;r<e;r++)n[r]=this.D(r)&t.D(r);return new fe(n,this.h&t.h)};O.or=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0;r<e;r++)n[r]=this.D(r)|t.D(r);return new fe(n,this.h|t.h)};O.xor=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0;r<e;r++)n[r]=this.D(r)^t.D(r);return new fe(n,this.h^t.h)};function Nw(t){for(var e=t.g.length+1,n=[],r=0;r<e;r++)n[r]=t.D(r)<<1|t.D(r-1)>>>31;return new fe(n,t.h)}function $s(t,e){var n=e>>5;e%=32;for(var r=t.g.length-n,i=[],s=0;s<r;s++)i[s]=0<e?t.D(s+n)>>>e|t.D(s+n+1)<<32-e:t.D(s+n);return new fe(i,t.h)}mh.prototype.createWebChannel=mh.prototype.g;an.prototype.send=an.prototype.u;an.prototype.open=an.prototype.m;an.prototype.close=an.prototype.close;wd.NO_ERROR=0;wd.TIMEOUT=8;wd.HTTP_ERROR=6;UI.COMPLETE="complete";BI.EventType=nu;nu.OPEN="a";nu.CLOSE="b";nu.ERROR="c";nu.MESSAGE="d";st.prototype.listen=st.prototype.O;Me.prototype.listenOnce=Me.prototype.P;Me.prototype.getLastError=Me.prototype.Sa;Me.prototype.getLastErrorCode=Me.prototype.Ia;Me.prototype.getStatus=Me.prototype.da;Me.prototype.getResponseJson=Me.prototype.Wa;Me.prototype.getResponseText=Me.prototype.ja;Me.prototype.send=Me.prototype.ha;Me.prototype.setWithCredentials=Me.prototype.Oa;Rn.prototype.digest=Rn.prototype.l;Rn.prototype.reset=Rn.prototype.reset;Rn.prototype.update=Rn.prototype.j;fe.prototype.add=fe.prototype.add;fe.prototype.multiply=fe.prototype.R;fe.prototype.modulo=fe.prototype.gb;fe.prototype.compare=fe.prototype.X;fe.prototype.toNumber=fe.prototype.ea;fe.prototype.toString=fe.prototype.toString;fe.prototype.getBits=fe.prototype.D;fe.fromNumber=Un;fe.fromString=xA;var pj=function(){return new mh},mj=function(){return _d()},lp=wd,gj=UI,yj=Cs,Dw={xb:0,Ab:1,Bb:2,Ub:3,Zb:4,Wb:5,Xb:6,Vb:7,Tb:8,Yb:9,PROXY:10,NOPROXY:11,Rb:12,Nb:13,Ob:14,Mb:15,Pb:16,Qb:17,tb:18,sb:19,ub:20},Xu=BI,vj=Me,_j=Rn,yo=fe;const Ow="@firebase/firestore";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class St{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}St.UNAUTHENTICATED=new St(null),St.GOOGLE_CREDENTIALS=new St("google-credentials-uid"),St.FIRST_PARTY=new St("first-party-uid"),St.MOCK_USER=new St("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Qo="10.8.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vs=new Ly("@firebase/firestore");function da(){return vs.logLevel}function D(t,...e){if(vs.logLevel<=ie.DEBUG){const n=e.map(uv);vs.debug(`Firestore (${Qo}): ${t}`,...n)}}function Zn(t,...e){if(vs.logLevel<=ie.ERROR){const n=e.map(uv);vs.error(`Firestore (${Qo}): ${t}`,...n)}}function bo(t,...e){if(vs.logLevel<=ie.WARN){const n=e.map(uv);vs.warn(`Firestore (${Qo}): ${t}`,...n)}}function uv(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function X(t="Unexpected state"){const e=`FIRESTORE (${Qo}) INTERNAL ASSERTION FAILED: `+t;throw Zn(e),new Error(e)}function ve(t,e){t||X()}function ee(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const b={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class L extends tr{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ci{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IA{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class wj{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(St.UNAUTHENTICATED))}shutdown(){}}class Ej{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class Tj{constructor(e){this.t=e,this.currentUser=St.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){let r=this.i;const i=l=>this.i!==r?(r=this.i,n(l)):Promise.resolve();let s=new ci;this.o=()=>{this.i++,this.currentUser=this.u(),s.resolve(),s=new ci,e.enqueueRetryable(()=>i(this.currentUser))};const o=()=>{const l=s;e.enqueueRetryable(async()=>{await l.promise,await i(this.currentUser)})},a=l=>{D("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=l,this.auth.addAuthTokenListener(this.o),o()};this.t.onInit(l=>a(l)),setTimeout(()=>{if(!this.auth){const l=this.t.getImmediate({optional:!0});l?a(l):(D("FirebaseAuthCredentialsProvider","Auth not yet detected"),s.resolve(),s=new ci)}},0),o()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(D("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(ve(typeof r.accessToken=="string"),new IA(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return ve(e===null||typeof e=="string"),new St(e)}}class Sj{constructor(e,n,r){this.l=e,this.h=n,this.P=r,this.type="FirstParty",this.user=St.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);const e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}}class xj{constructor(e,n,r){this.l=e,this.h=n,this.P=r}getToken(){return Promise.resolve(new Sj(this.l,this.h,this.P))}start(e,n){e.enqueueRetryable(()=>n(St.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class Ij{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class Aj{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,n){const r=s=>{s.error!=null&&D("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${s.error.message}`);const o=s.token!==this.R;return this.R=s.token,D("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?n(s.token):Promise.resolve()};this.o=s=>{e.enqueueRetryable(()=>r(s))};const i=s=>{D("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=s,this.appCheck.addTokenListener(this.o)};this.A.onInit(s=>i(s)),setTimeout(()=>{if(!this.appCheck){const s=this.A.getImmediate({optional:!0});s?i(s):D("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(ve(typeof n.token=="string"),this.R=n.token,new Ij(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Pj(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AA{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=Math.floor(256/e.length)*e.length;let r="";for(;r.length<20;){const i=Pj(40);for(let s=0;s<i.length;++s)r.length<20&&i[s]<n&&(r+=e.charAt(i[s]%e.length))}return r}}function ue(t,e){return t<e?-1:t>e?1:0}function Ro(t,e,n){return t.length===e.length&&t.every((r,i)=>n(r,e[i]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Je{constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new L(b.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new L(b.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<-62135596800)throw new L(b.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new L(b.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return Je.fromMillis(Date.now())}static fromDate(e){return Je.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*n));return new Je(n,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?ue(this.nanoseconds,e.nanoseconds):ue(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Z{constructor(e){this.timestamp=e}static fromTimestamp(e){return new Z(e)}static min(){return new Z(new Je(0,0))}static max(){return new Z(new Je(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Al{constructor(e,n,r){n===void 0?n=0:n>e.length&&X(),r===void 0?r=e.length-n:r>e.length-n&&X(),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return Al.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof Al?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let i=0;i<r;i++){const s=e.get(i),o=n.get(i);if(s<o)return-1;if(s>o)return 1}return e.length<n.length?-1:e.length>n.length?1:0}}class xe extends Al{construct(e,n,r){return new xe(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new L(b.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(i=>i.length>0))}return new xe(n)}static emptyPath(){return new xe([])}}const Cj=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class ft extends Al{construct(e,n,r){return new ft(e,n,r)}static isValidIdentifier(e){return Cj.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),ft.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new ft(["__name__"])}static fromServerFormat(e){const n=[];let r="",i=0;const s=()=>{if(r.length===0)throw new L(b.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let o=!1;for(;i<e.length;){const a=e[i];if(a==="\\"){if(i+1===e.length)throw new L(b.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const l=e[i+1];if(l!=="\\"&&l!=="."&&l!=="`")throw new L(b.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=l,i+=2}else a==="`"?(o=!o,i++):a!=="."||o?(r+=a,i++):(s(),i++)}if(s(),o)throw new L(b.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new ft(n)}static emptyPath(){return new ft([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class B{constructor(e){this.path=e}static fromPath(e){return new B(xe.fromString(e))}static fromName(e){return new B(xe.fromString(e).popFirst(5))}static empty(){return new B(xe.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&xe.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return xe.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new B(new xe(e.slice()))}}function bj(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,i=Z.fromTimestamp(r===1e9?new Je(n+1,0):new Je(n,r));return new vi(i,B.empty(),e)}function Rj(t){return new vi(t.readTime,t.key,-1)}class vi{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new vi(Z.min(),B.empty(),-1)}static max(){return new vi(Z.max(),B.empty(),-1)}}function kj(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=B.comparator(t.documentKey,e.documentKey),n!==0?n:ue(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Nj="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class Dj{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function au(t){if(t.code!==b.FAILED_PRECONDITION||t.message!==Nj)throw t;D("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class R{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&X(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new R((r,i)=>{this.nextCallback=s=>{this.wrapSuccess(e,s).next(r,i)},this.catchCallback=s=>{this.wrapFailure(n,s).next(r,i)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof R?n:R.resolve(n)}catch(n){return R.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):R.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):R.reject(n)}static resolve(e){return new R((n,r)=>{n(e)})}static reject(e){return new R((n,r)=>{r(e)})}static waitFor(e){return new R((n,r)=>{let i=0,s=0,o=!1;e.forEach(a=>{++i,a.next(()=>{++s,o&&s===i&&n()},l=>r(l))}),o=!0,s===i&&n()})}static or(e){let n=R.resolve(!1);for(const r of e)n=n.next(i=>i?R.resolve(i):r());return n}static forEach(e,n){const r=[];return e.forEach((i,s)=>{r.push(n.call(this,i,s))}),this.waitFor(r)}static mapArray(e,n){return new R((r,i)=>{const s=e.length,o=new Array(s);let a=0;for(let l=0;l<s;l++){const u=l;n(e[u]).next(c=>{o[u]=c,++a,a===s&&r(o)},c=>i(c))}})}static doWhile(e,n){return new R((r,i)=>{const s=()=>{e()===!0?n().next(()=>{s()},i):r()};s()})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cv{constructor(e,n){this.action=e,this.transaction=n,this.aborted=!1,this.V=new ci,this.transaction.oncomplete=()=>{this.V.resolve()},this.transaction.onabort=()=>{n.error?this.V.reject(new $a(e,n.error)):this.V.resolve()},this.transaction.onerror=r=>{const i=hv(r.target.error);this.V.reject(new $a(e,i))}}static open(e,n,r,i){try{return new cv(n,e.transaction(i,r))}catch(s){throw new $a(n,s)}}get m(){return this.V.promise}abort(e){e&&this.V.reject(e),this.aborted||(D("SimpleDb","Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}g(){const e=this.transaction;this.aborted||typeof e.commit!="function"||e.commit()}store(e){const n=this.transaction.objectStore(e);return new Vj(n)}}class es{constructor(e,n,r){this.name=e,this.version=n,this.p=r,es.S(Qe())===12.2&&Zn("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}static delete(e){return D("SimpleDb","Removing database:",e),Ki(window.indexedDB.deleteDatabase(e)).toPromise()}static D(){if(!gI())return!1;if(es.C())return!0;const e=Qe(),n=es.S(e),r=0<n&&n<10,i=es.v(e),s=0<i&&i<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||r||s)}static C(){var e;return typeof process<"u"&&((e=process.__PRIVATE_env)===null||e===void 0?void 0:e.F)==="YES"}static M(e,n){return e.store(n)}static S(e){const n=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),r=n?n[1].split("_").slice(0,2).join("."):"-1";return Number(r)}static v(e){const n=e.match(/Android ([\d.]+)/i),r=n?n[1].split(".").slice(0,2).join("."):"-1";return Number(r)}async O(e){return this.db||(D("SimpleDb","Opening database:",this.name),this.db=await new Promise((n,r)=>{const i=indexedDB.open(this.name,this.version);i.onsuccess=s=>{const o=s.target.result;n(o)},i.onblocked=()=>{r(new $a(e,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},i.onerror=s=>{const o=s.target.error;o.name==="VersionError"?r(new L(b.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh.")):o.name==="InvalidStateError"?r(new L(b.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+o)):r(new $a(e,o))},i.onupgradeneeded=s=>{D("SimpleDb",'Database "'+this.name+'" requires upgrade from version:',s.oldVersion);const o=s.target.result;this.p.N(o,i.transaction,s.oldVersion,this.version).next(()=>{D("SimpleDb","Database upgrade to version "+this.version+" complete")})}})),this.B&&(this.db.onversionchange=n=>this.B(n)),this.db}L(e){this.B=e,this.db&&(this.db.onversionchange=n=>e(n))}async runTransaction(e,n,r,i){const s=n==="readonly";let o=0;for(;;){++o;try{this.db=await this.O(e);const a=cv.open(this.db,e,s?"readonly":"readwrite",r),l=i(a).next(u=>(a.g(),u)).catch(u=>(a.abort(u),R.reject(u))).toPromise();return l.catch(()=>{}),await a.m,l}catch(a){const l=a,u=l.name!=="FirebaseError"&&o<3;if(D("SimpleDb","Transaction failed with error:",l.message,"Retrying:",u),this.close(),!u)return Promise.reject(l)}}}close(){this.db&&this.db.close(),this.db=void 0}}class Oj{constructor(e){this.k=e,this.q=!1,this.K=null}get isDone(){return this.q}get $(){return this.K}set cursor(e){this.k=e}done(){this.q=!0}U(e){this.K=e}delete(){return Ki(this.k.delete())}}class $a extends L{constructor(e,n){super(b.UNAVAILABLE,`IndexedDB transaction '${e}' failed: ${n}`),this.name="IndexedDbTransactionError"}}function lu(t){return t.name==="IndexedDbTransactionError"}class Vj{constructor(e){this.store=e}put(e,n){let r;return n!==void 0?(D("SimpleDb","PUT",this.store.name,e,n),r=this.store.put(n,e)):(D("SimpleDb","PUT",this.store.name,"<auto-key>",e),r=this.store.put(e)),Ki(r)}add(e){return D("SimpleDb","ADD",this.store.name,e,e),Ki(this.store.add(e))}get(e){return Ki(this.store.get(e)).next(n=>(n===void 0&&(n=null),D("SimpleDb","GET",this.store.name,e,n),n))}delete(e){return D("SimpleDb","DELETE",this.store.name,e),Ki(this.store.delete(e))}count(){return D("SimpleDb","COUNT",this.store.name),Ki(this.store.count())}W(e,n){const r=this.options(e,n),i=r.index?this.store.index(r.index):this.store;if(typeof i.getAll=="function"){const s=i.getAll(r.range);return new R((o,a)=>{s.onerror=l=>{a(l.target.error)},s.onsuccess=l=>{o(l.target.result)}})}{const s=this.cursor(r),o=[];return this.G(s,(a,l)=>{o.push(l)}).next(()=>o)}}j(e,n){const r=this.store.getAll(e,n===null?void 0:n);return new R((i,s)=>{r.onerror=o=>{s(o.target.error)},r.onsuccess=o=>{i(o.target.result)}})}H(e,n){D("SimpleDb","DELETE ALL",this.store.name);const r=this.options(e,n);r.J=!1;const i=this.cursor(r);return this.G(i,(s,o,a)=>a.delete())}Y(e,n){let r;n?r=e:(r={},n=e);const i=this.cursor(r);return this.G(i,n)}Z(e){const n=this.cursor({});return new R((r,i)=>{n.onerror=s=>{const o=hv(s.target.error);i(o)},n.onsuccess=s=>{const o=s.target.result;o?e(o.primaryKey,o.value).next(a=>{a?o.continue():r()}):r()}})}G(e,n){const r=[];return new R((i,s)=>{e.onerror=o=>{s(o.target.error)},e.onsuccess=o=>{const a=o.target.result;if(!a)return void i();const l=new Oj(a),u=n(a.primaryKey,a.value,l);if(u instanceof R){const c=u.catch(h=>(l.done(),R.reject(h)));r.push(c)}l.isDone?i():l.$===null?a.continue():a.continue(l.$)}}).next(()=>R.waitFor(r))}options(e,n){let r;return e!==void 0&&(typeof e=="string"?r=e:n=e),{index:r,range:n}}cursor(e){let n="next";if(e.reverse&&(n="prev"),e.index){const r=this.store.index(e.index);return e.J?r.openKeyCursor(e.range,n):r.openCursor(e.range,n)}return this.store.openCursor(e.range,n)}}function Ki(t){return new R((e,n)=>{t.onsuccess=r=>{const i=r.target.result;e(i)},t.onerror=r=>{const i=hv(r.target.error);n(i)}})}let Vw=!1;function hv(t){const e=es.S(Qe());if(e>=12.2&&e<13){const n="An internal error was encountered in the Indexed Database server";if(t.message.indexOf(n)>=0){const r=new L("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${n}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return Vw||(Vw=!0,setTimeout(()=>{throw r},0)),r}}return t}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dv{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.se(r),this.oe=r=>n.writeSequenceNumber(r))}se(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.oe&&this.oe(e),e}}dv._e=-1;function bd(t){return t==null}function vh(t){return t===0&&1/t==-1/0}function jj(t){return typeof t=="number"&&Number.isInteger(t)&&!vh(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jw(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function bs(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function PA(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class De{constructor(e,n){this.comparator=e,this.root=n||ht.EMPTY}insert(e,n){return new De(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,ht.BLACK,null,null))}remove(e){return new De(this.comparator,this.root.remove(e,this.comparator).copy(null,null,ht.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(i===0)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){const e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Yu(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Yu(this.root,e,this.comparator,!1)}getReverseIterator(){return new Yu(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Yu(this.root,e,this.comparator,!0)}}class Yu{constructor(e,n,r,i){this.isReverse=i,this.nodeStack=[];let s=1;for(;!e.isEmpty();)if(s=n?r(e.key,n):1,n&&i&&(s*=-1),s<0)e=this.isReverse?e.left:e.right;else{if(s===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class ht{constructor(e,n,r,i,s){this.key=e,this.value=n,this.color=r??ht.RED,this.left=i??ht.EMPTY,this.right=s??ht.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,i,s){return new ht(e??this.key,n??this.value,r??this.color,i??this.left,s??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this;const s=r(e,i.key);return i=s<0?i.copy(null,null,null,i.left.insert(e,n,r),null):s===0?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return ht.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),n(e,i.key)===0){if(i.right.isEmpty())return ht.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,ht.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,ht.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw X();const e=this.left.check();if(e!==this.right.check())throw X();return e+(this.isRed()?0:1)}}ht.EMPTY=null,ht.RED=!0,ht.BLACK=!1;ht.EMPTY=new class{constructor(){this.size=0}get key(){throw X()}get value(){throw X()}get color(){throw X()}get left(){throw X()}get right(){throw X()}copy(e,n,r,i,s){return this}insert(e,n,r){return new ht(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gt{constructor(e){this.comparator=e,this.data=new De(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;n(i.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new Mw(this.data.getIterator())}getIteratorFrom(e){return new Mw(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof gt)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const i=n.getNext().key,s=r.getNext().key;if(this.comparator(i,s)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new gt(this.comparator);return n.data=e,n}}class Mw{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zt{constructor(e){this.fields=e,e.sort(ft.comparator)}static empty(){return new Zt([])}unionWith(e){let n=new gt(ft.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new Zt(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return Ro(this.fields,e.fields,(n,r)=>n.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CA extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bt{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(i){try{return atob(i)}catch(s){throw typeof DOMException<"u"&&s instanceof DOMException?new CA("Invalid base64 string: "+s):s}}(e);return new bt(n)}static fromUint8Array(e){const n=function(i){let s="";for(let o=0;o<i.length;++o)s+=String.fromCharCode(i[o]);return s}(e);return new bt(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return ue(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}bt.EMPTY_BYTE_STRING=new bt("");const Mj=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function _i(t){if(ve(!!t),typeof t=="string"){let e=0;const n=Mj.exec(t);if(ve(!!n),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:He(t.seconds),nanos:He(t.nanos)}}function He(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function _s(t){return typeof t=="string"?bt.fromBase64String(t):bt.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fv(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="server_timestamp"}function pv(t){const e=t.mapValue.fields.__previous_value__;return fv(e)?pv(e):e}function Pl(t){const e=_i(t.mapValue.fields.__local_write_time__.timestampValue);return new Je(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lj{constructor(e,n,r,i,s,o,a,l,u){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=s,this.forceLongPolling=o,this.autoDetectLongPolling=a,this.longPollingOptions=l,this.useFetchStreams=u}}class Cl{constructor(e,n){this.projectId=e,this.database=n||"(default)"}static empty(){return new Cl("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof Cl&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ju={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function ws(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?fv(t)?4:Fj(t)?9007199254740991:10:X()}function er(t,e){if(t===e)return!0;const n=ws(t);if(n!==ws(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return Pl(t).isEqual(Pl(e));case 3:return function(i,s){if(typeof i.timestampValue=="string"&&typeof s.timestampValue=="string"&&i.timestampValue.length===s.timestampValue.length)return i.timestampValue===s.timestampValue;const o=_i(i.timestampValue),a=_i(s.timestampValue);return o.seconds===a.seconds&&o.nanos===a.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(i,s){return _s(i.bytesValue).isEqual(_s(s.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(i,s){return He(i.geoPointValue.latitude)===He(s.geoPointValue.latitude)&&He(i.geoPointValue.longitude)===He(s.geoPointValue.longitude)}(t,e);case 2:return function(i,s){if("integerValue"in i&&"integerValue"in s)return He(i.integerValue)===He(s.integerValue);if("doubleValue"in i&&"doubleValue"in s){const o=He(i.doubleValue),a=He(s.doubleValue);return o===a?vh(o)===vh(a):isNaN(o)&&isNaN(a)}return!1}(t,e);case 9:return Ro(t.arrayValue.values||[],e.arrayValue.values||[],er);case 10:return function(i,s){const o=i.mapValue.fields||{},a=s.mapValue.fields||{};if(jw(o)!==jw(a))return!1;for(const l in o)if(o.hasOwnProperty(l)&&(a[l]===void 0||!er(o[l],a[l])))return!1;return!0}(t,e);default:return X()}}function bl(t,e){return(t.values||[]).find(n=>er(n,e))!==void 0}function ko(t,e){if(t===e)return 0;const n=ws(t),r=ws(e);if(n!==r)return ue(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return ue(t.booleanValue,e.booleanValue);case 2:return function(s,o){const a=He(s.integerValue||s.doubleValue),l=He(o.integerValue||o.doubleValue);return a<l?-1:a>l?1:a===l?0:isNaN(a)?isNaN(l)?0:-1:1}(t,e);case 3:return Lw(t.timestampValue,e.timestampValue);case 4:return Lw(Pl(t),Pl(e));case 5:return ue(t.stringValue,e.stringValue);case 6:return function(s,o){const a=_s(s),l=_s(o);return a.compareTo(l)}(t.bytesValue,e.bytesValue);case 7:return function(s,o){const a=s.split("/"),l=o.split("/");for(let u=0;u<a.length&&u<l.length;u++){const c=ue(a[u],l[u]);if(c!==0)return c}return ue(a.length,l.length)}(t.referenceValue,e.referenceValue);case 8:return function(s,o){const a=ue(He(s.latitude),He(o.latitude));return a!==0?a:ue(He(s.longitude),He(o.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return function(s,o){const a=s.values||[],l=o.values||[];for(let u=0;u<a.length&&u<l.length;++u){const c=ko(a[u],l[u]);if(c)return c}return ue(a.length,l.length)}(t.arrayValue,e.arrayValue);case 10:return function(s,o){if(s===Ju.mapValue&&o===Ju.mapValue)return 0;if(s===Ju.mapValue)return 1;if(o===Ju.mapValue)return-1;const a=s.fields||{},l=Object.keys(a),u=o.fields||{},c=Object.keys(u);l.sort(),c.sort();for(let h=0;h<l.length&&h<c.length;++h){const d=ue(l[h],c[h]);if(d!==0)return d;const p=ko(a[l[h]],u[c[h]]);if(p!==0)return p}return ue(l.length,c.length)}(t.mapValue,e.mapValue);default:throw X()}}function Lw(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return ue(t,e);const n=_i(t),r=_i(e),i=ue(n.seconds,r.seconds);return i!==0?i:ue(n.nanos,r.nanos)}function No(t){return Ym(t)}function Ym(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){const r=_i(n);return`time(${r.seconds},${r.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return _s(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return B.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let r="[",i=!0;for(const s of n.values||[])i?i=!1:r+=",",r+=Ym(s);return r+"]"}(t.arrayValue):"mapValue"in t?function(n){const r=Object.keys(n.fields||{}).sort();let i="{",s=!0;for(const o of r)s?s=!1:i+=",",i+=`${o}:${Ym(n.fields[o])}`;return i+"}"}(t.mapValue):X()}function Fw(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function Jm(t){return!!t&&"integerValue"in t}function mv(t){return!!t&&"arrayValue"in t}function $w(t){return!!t&&"nullValue"in t}function Uw(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function Ic(t){return!!t&&"mapValue"in t}function Ua(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return bs(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=Ua(r)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=Ua(t.arrayValue.values[n]);return e}return Object.assign({},t)}function Fj(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zt{constructor(e){this.value=e}static empty(){return new zt({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!Ic(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=Ua(n)}setAll(e){let n=ft.emptyPath(),r={},i=[];e.forEach((o,a)=>{if(!n.isImmediateParentOf(a)){const l=this.getFieldsMap(n);this.applyChanges(l,r,i),r={},i=[],n=a.popLast()}o?r[a.lastSegment()]=Ua(o):i.push(a.lastSegment())});const s=this.getFieldsMap(n);this.applyChanges(s,r,i)}delete(e){const n=this.field(e.popLast());Ic(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return er(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=n.mapValue.fields[e.get(r)];Ic(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=i),n=i}return n.mapValue.fields}applyChanges(e,n,r){bs(n,(i,s)=>e[i]=s);for(const i of r)delete e[i]}clone(){return new zt(Ua(this.value))}}function bA(t){const e=[];return bs(t.fields,(n,r)=>{const i=new ft([n]);if(Ic(r)){const s=bA(r.mapValue).fields;if(s.length===0)e.push(i);else for(const o of s)e.push(i.child(o))}else e.push(i)}),new Zt(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class It{constructor(e,n,r,i,s,o,a){this.key=e,this.documentType=n,this.version=r,this.readTime=i,this.createTime=s,this.data=o,this.documentState=a}static newInvalidDocument(e){return new It(e,0,Z.min(),Z.min(),Z.min(),zt.empty(),0)}static newFoundDocument(e,n,r,i){return new It(e,1,n,Z.min(),r,i,0)}static newNoDocument(e,n){return new It(e,2,n,Z.min(),Z.min(),zt.empty(),0)}static newUnknownDocument(e,n){return new It(e,3,n,Z.min(),Z.min(),zt.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(Z.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=zt.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=zt.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Z.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof It&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new It(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _h{constructor(e,n){this.position=e,this.inclusive=n}}function Bw(t,e,n){let r=0;for(let i=0;i<t.position.length;i++){const s=e[i],o=t.position[i];if(s.field.isKeyField()?r=B.comparator(B.fromName(o.referenceValue),n.key):r=ko(o,n.data.field(s.field)),s.dir==="desc"&&(r*=-1),r!==0)break}return r}function zw(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!er(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wh{constructor(e,n="asc"){this.field=e,this.dir=n}}function $j(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RA{}class qe extends RA{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new Bj(e,n,r):n==="array-contains"?new Hj(e,r):n==="in"?new Gj(e,r):n==="not-in"?new qj(e,r):n==="array-contains-any"?new Kj(e,r):new qe(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new zj(e,r):new Wj(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&this.matchesComparison(ko(n,this.value)):n!==null&&ws(this.value)===ws(n)&&this.matchesComparison(ko(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return X()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class kn extends RA{constructor(e,n){super(),this.filters=e,this.op=n,this.ue=null}static create(e,n){return new kn(e,n)}matches(e){return kA(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.ue!==null||(this.ue=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.ue}getFilters(){return Object.assign([],this.filters)}}function kA(t){return t.op==="and"}function NA(t){return Uj(t)&&kA(t)}function Uj(t){for(const e of t.filters)if(e instanceof kn)return!1;return!0}function Zm(t){if(t instanceof qe)return t.field.canonicalString()+t.op.toString()+No(t.value);if(NA(t))return t.filters.map(e=>Zm(e)).join(",");{const e=t.filters.map(n=>Zm(n)).join(",");return`${t.op}(${e})`}}function DA(t,e){return t instanceof qe?function(r,i){return i instanceof qe&&r.op===i.op&&r.field.isEqual(i.field)&&er(r.value,i.value)}(t,e):t instanceof kn?function(r,i){return i instanceof kn&&r.op===i.op&&r.filters.length===i.filters.length?r.filters.reduce((s,o,a)=>s&&DA(o,i.filters[a]),!0):!1}(t,e):void X()}function OA(t){return t instanceof qe?function(n){return`${n.field.canonicalString()} ${n.op} ${No(n.value)}`}(t):t instanceof kn?function(n){return n.op.toString()+" {"+n.getFilters().map(OA).join(" ,")+"}"}(t):"Filter"}class Bj extends qe{constructor(e,n,r){super(e,n,r),this.key=B.fromName(r.referenceValue)}matches(e){const n=B.comparator(e.key,this.key);return this.matchesComparison(n)}}class zj extends qe{constructor(e,n){super(e,"in",n),this.keys=VA("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class Wj extends qe{constructor(e,n){super(e,"not-in",n),this.keys=VA("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function VA(t,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(r=>B.fromName(r.referenceValue))}class Hj extends qe{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return mv(n)&&bl(n.arrayValue,this.value)}}class Gj extends qe{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&bl(this.value.arrayValue,n)}}class qj extends qe{constructor(e,n){super(e,"not-in",n)}matches(e){if(bl(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&!bl(this.value.arrayValue,n)}}class Kj extends qe{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!mv(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>bl(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qj{constructor(e,n=null,r=[],i=[],s=null,o=null,a=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=s,this.startAt=o,this.endAt=a,this.ce=null}}function Ww(t,e=null,n=[],r=[],i=null,s=null,o=null){return new Qj(t,e,n,r,i,s,o)}function gv(t){const e=ee(t);if(e.ce===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>Zm(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>function(s){return s.field.canonicalString()+s.dir}(r)).join(","),bd(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>No(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>No(r)).join(",")),e.ce=n}return e.ce}function yv(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!$j(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!DA(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!zw(t.startAt,e.startAt)&&zw(t.endAt,e.endAt)}function eg(t){return B.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uu{constructor(e,n=null,r=[],i=[],s=null,o="F",a=null,l=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=s,this.limitType=o,this.startAt=a,this.endAt=l,this.le=null,this.he=null,this.Pe=null,this.startAt,this.endAt}}function Xj(t,e,n,r,i,s,o,a){return new uu(t,e,n,r,i,s,o,a)}function vv(t){return new uu(t)}function Hw(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function jA(t){return t.collectionGroup!==null}function Ba(t){const e=ee(t);if(e.le===null){e.le=[];const n=new Set;for(const s of e.explicitOrderBy)e.le.push(s),n.add(s.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(o){let a=new gt(ft.comparator);return o.filters.forEach(l=>{l.getFlattenedFilters().forEach(u=>{u.isInequality()&&(a=a.add(u.field))})}),a})(e).forEach(s=>{n.has(s.canonicalString())||s.isKeyField()||e.le.push(new wh(s,r))}),n.has(ft.keyField().canonicalString())||e.le.push(new wh(ft.keyField(),r))}return e.le}function Gn(t){const e=ee(t);return e.he||(e.he=Yj(e,Ba(t))),e.he}function Yj(t,e){if(t.limitType==="F")return Ww(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(i=>{const s=i.dir==="desc"?"asc":"desc";return new wh(i.field,s)});const n=t.endAt?new _h(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new _h(t.startAt.position,t.startAt.inclusive):null;return Ww(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function tg(t,e){const n=t.filters.concat([e]);return new uu(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function ng(t,e,n){return new uu(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function Rd(t,e){return yv(Gn(t),Gn(e))&&t.limitType===e.limitType}function MA(t){return`${gv(Gn(t))}|lt:${t.limitType}`}function Bs(t){return`Query(target=${function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map(i=>OA(i)).join(", ")}]`),bd(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map(i=>function(o){return`${o.field.canonicalString()} (${o.dir})`}(i)).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map(i=>No(i)).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map(i=>No(i)).join(",")),`Target(${r})`}(Gn(t))}; limitType=${t.limitType})`}function kd(t,e){return e.isFoundDocument()&&function(r,i){const s=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(s):B.isDocumentKey(r.path)?r.path.isEqual(s):r.path.isImmediateParentOf(s)}(t,e)&&function(r,i){for(const s of Ba(r))if(!s.field.isKeyField()&&i.data.field(s.field)===null)return!1;return!0}(t,e)&&function(r,i){for(const s of r.filters)if(!s.matches(i))return!1;return!0}(t,e)&&function(r,i){return!(r.startAt&&!function(o,a,l){const u=Bw(o,a,l);return o.inclusive?u<=0:u<0}(r.startAt,Ba(r),i)||r.endAt&&!function(o,a,l){const u=Bw(o,a,l);return o.inclusive?u>=0:u>0}(r.endAt,Ba(r),i))}(t,e)}function Jj(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function LA(t){return(e,n)=>{let r=!1;for(const i of Ba(t)){const s=Zj(i,e,n);if(s!==0)return s;r=r||i.field.isKeyField()}return 0}}function Zj(t,e,n){const r=t.field.isKeyField()?B.comparator(e.key,n.key):function(s,o,a){const l=o.data.field(s),u=a.data.field(s);return l!==null&&u!==null?ko(l,u):X()}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return X()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xo{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[i,s]of r)if(this.equalsFn(i,e))return s}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let s=0;s<i.length;s++)if(this.equalsFn(i[s][0],e))return void(i[s]=[e,n]);i.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[n]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){bs(this.inner,(n,r)=>{for(const[i,s]of r)e(i,s)})}isEmpty(){return PA(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eM=new De(B.comparator);function Ir(){return eM}const FA=new De(B.comparator);function Aa(...t){let e=FA;for(const n of t)e=e.insert(n.key,n);return e}function $A(t){let e=FA;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function ts(){return za()}function UA(){return za()}function za(){return new Xo(t=>t.toString(),(t,e)=>t.isEqual(e))}const tM=new De(B.comparator),nM=new gt(B.comparator);function ne(...t){let e=nM;for(const n of t)e=e.add(n);return e}const rM=new gt(ue);function iM(){return rM}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function BA(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:vh(e)?"-0":e}}function zA(t){return{integerValue:""+t}}function sM(t,e){return jj(e)?zA(e):BA(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nd{constructor(){this._=void 0}}function oM(t,e,n){return t instanceof Eh?function(i,s){const o={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return s&&fv(s)&&(s=pv(s)),s&&(o.fields.__previous_value__=s),{mapValue:o}}(n,e):t instanceof Rl?HA(t,e):t instanceof kl?GA(t,e):function(i,s){const o=WA(i,s),a=Gw(o)+Gw(i.Ie);return Jm(o)&&Jm(i.Ie)?zA(a):BA(i.serializer,a)}(t,e)}function aM(t,e,n){return t instanceof Rl?HA(t,e):t instanceof kl?GA(t,e):n}function WA(t,e){return t instanceof Th?function(r){return Jm(r)||function(s){return!!s&&"doubleValue"in s}(r)}(e)?e:{integerValue:0}:null}class Eh extends Nd{}class Rl extends Nd{constructor(e){super(),this.elements=e}}function HA(t,e){const n=qA(e);for(const r of t.elements)n.some(i=>er(i,r))||n.push(r);return{arrayValue:{values:n}}}class kl extends Nd{constructor(e){super(),this.elements=e}}function GA(t,e){let n=qA(e);for(const r of t.elements)n=n.filter(i=>!er(i,r));return{arrayValue:{values:n}}}class Th extends Nd{constructor(e,n){super(),this.serializer=e,this.Ie=n}}function Gw(t){return He(t.integerValue||t.doubleValue)}function qA(t){return mv(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}function lM(t,e){return t.field.isEqual(e.field)&&function(r,i){return r instanceof Rl&&i instanceof Rl||r instanceof kl&&i instanceof kl?Ro(r.elements,i.elements,er):r instanceof Th&&i instanceof Th?er(r.Ie,i.Ie):r instanceof Eh&&i instanceof Eh}(t.transform,e.transform)}class uM{constructor(e,n){this.version=e,this.transformResults=n}}class qn{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new qn}static exists(e){return new qn(void 0,e)}static updateTime(e){return new qn(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Ac(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class Dd{}function KA(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new XA(t.key,qn.none()):new cu(t.key,t.data,qn.none());{const n=t.data,r=zt.empty();let i=new gt(ft.comparator);for(let s of e.fields)if(!i.has(s)){let o=n.field(s);o===null&&s.length>1&&(s=s.popLast(),o=n.field(s)),o===null?r.delete(s):r.set(s,o),i=i.add(s)}return new ki(t.key,r,new Zt(i.toArray()),qn.none())}}function cM(t,e,n){t instanceof cu?function(i,s,o){const a=i.value.clone(),l=Kw(i.fieldTransforms,s,o.transformResults);a.setAll(l),s.convertToFoundDocument(o.version,a).setHasCommittedMutations()}(t,e,n):t instanceof ki?function(i,s,o){if(!Ac(i.precondition,s))return void s.convertToUnknownDocument(o.version);const a=Kw(i.fieldTransforms,s,o.transformResults),l=s.data;l.setAll(QA(i)),l.setAll(a),s.convertToFoundDocument(o.version,l).setHasCommittedMutations()}(t,e,n):function(i,s,o){s.convertToNoDocument(o.version).setHasCommittedMutations()}(0,e,n)}function Wa(t,e,n,r){return t instanceof cu?function(s,o,a,l){if(!Ac(s.precondition,o))return a;const u=s.value.clone(),c=Qw(s.fieldTransforms,l,o);return u.setAll(c),o.convertToFoundDocument(o.version,u).setHasLocalMutations(),null}(t,e,n,r):t instanceof ki?function(s,o,a,l){if(!Ac(s.precondition,o))return a;const u=Qw(s.fieldTransforms,l,o),c=o.data;return c.setAll(QA(s)),c.setAll(u),o.convertToFoundDocument(o.version,c).setHasLocalMutations(),a===null?null:a.unionWith(s.fieldMask.fields).unionWith(s.fieldTransforms.map(h=>h.field))}(t,e,n,r):function(s,o,a){return Ac(s.precondition,o)?(o.convertToNoDocument(o.version).setHasLocalMutations(),null):a}(t,e,n)}function hM(t,e){let n=null;for(const r of t.fieldTransforms){const i=e.data.field(r.field),s=WA(r.transform,i||null);s!=null&&(n===null&&(n=zt.empty()),n.set(r.field,s))}return n||null}function qw(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&Ro(r,i,(s,o)=>lM(s,o))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class cu extends Dd{constructor(e,n,r,i=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class ki extends Dd{constructor(e,n,r,i,s=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=i,this.fieldTransforms=s,this.type=1}getFieldMask(){return this.fieldMask}}function QA(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}}),e}function Kw(t,e,n){const r=new Map;ve(t.length===n.length);for(let i=0;i<n.length;i++){const s=t[i],o=s.transform,a=e.data.field(s.field);r.set(s.field,aM(o,a,n[i]))}return r}function Qw(t,e,n){const r=new Map;for(const i of t){const s=i.transform,o=n.data.field(i.field);r.set(i.field,oM(s,o,e))}return r}class XA extends Dd{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class dM extends Dd{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fM{constructor(e,n,r,i){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let i=0;i<this.mutations.length;i++){const s=this.mutations[i];s.key.isEqual(e.key)&&cM(s,e,r[i])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=Wa(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=Wa(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=UA();return this.mutations.forEach(i=>{const s=e.get(i.key),o=s.overlayedDocument;let a=this.applyToLocalView(o,s.mutatedFields);a=n.has(i.key)?null:a;const l=KA(o,a);l!==null&&r.set(i.key,l),o.isValidDocument()||o.convertToNoDocument(Z.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),ne())}isEqual(e){return this.batchId===e.batchId&&Ro(this.mutations,e.mutations,(n,r)=>qw(n,r))&&Ro(this.baseMutations,e.baseMutations,(n,r)=>qw(n,r))}}class _v{constructor(e,n,r,i){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}static from(e,n,r){ve(e.mutations.length===r.length);let i=function(){return tM}();const s=e.mutations;for(let o=0;o<s.length;o++)i=i.insert(s[o].key,r[o].version);return new _v(e,n,r,i)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pM{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mM{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Be,oe;function gM(t){switch(t){default:return X();case b.CANCELLED:case b.UNKNOWN:case b.DEADLINE_EXCEEDED:case b.RESOURCE_EXHAUSTED:case b.INTERNAL:case b.UNAVAILABLE:case b.UNAUTHENTICATED:return!1;case b.INVALID_ARGUMENT:case b.NOT_FOUND:case b.ALREADY_EXISTS:case b.PERMISSION_DENIED:case b.FAILED_PRECONDITION:case b.ABORTED:case b.OUT_OF_RANGE:case b.UNIMPLEMENTED:case b.DATA_LOSS:return!0}}function YA(t){if(t===void 0)return Zn("GRPC error has no .code"),b.UNKNOWN;switch(t){case Be.OK:return b.OK;case Be.CANCELLED:return b.CANCELLED;case Be.UNKNOWN:return b.UNKNOWN;case Be.DEADLINE_EXCEEDED:return b.DEADLINE_EXCEEDED;case Be.RESOURCE_EXHAUSTED:return b.RESOURCE_EXHAUSTED;case Be.INTERNAL:return b.INTERNAL;case Be.UNAVAILABLE:return b.UNAVAILABLE;case Be.UNAUTHENTICATED:return b.UNAUTHENTICATED;case Be.INVALID_ARGUMENT:return b.INVALID_ARGUMENT;case Be.NOT_FOUND:return b.NOT_FOUND;case Be.ALREADY_EXISTS:return b.ALREADY_EXISTS;case Be.PERMISSION_DENIED:return b.PERMISSION_DENIED;case Be.FAILED_PRECONDITION:return b.FAILED_PRECONDITION;case Be.ABORTED:return b.ABORTED;case Be.OUT_OF_RANGE:return b.OUT_OF_RANGE;case Be.UNIMPLEMENTED:return b.UNIMPLEMENTED;case Be.DATA_LOSS:return b.DATA_LOSS;default:return X()}}(oe=Be||(Be={}))[oe.OK=0]="OK",oe[oe.CANCELLED=1]="CANCELLED",oe[oe.UNKNOWN=2]="UNKNOWN",oe[oe.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",oe[oe.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",oe[oe.NOT_FOUND=5]="NOT_FOUND",oe[oe.ALREADY_EXISTS=6]="ALREADY_EXISTS",oe[oe.PERMISSION_DENIED=7]="PERMISSION_DENIED",oe[oe.UNAUTHENTICATED=16]="UNAUTHENTICATED",oe[oe.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",oe[oe.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",oe[oe.ABORTED=10]="ABORTED",oe[oe.OUT_OF_RANGE=11]="OUT_OF_RANGE",oe[oe.UNIMPLEMENTED=12]="UNIMPLEMENTED",oe[oe.INTERNAL=13]="INTERNAL",oe[oe.UNAVAILABLE=14]="UNAVAILABLE",oe[oe.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yM(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vM=new yo([4294967295,4294967295],0);function Xw(t){const e=yM().encode(t),n=new _j;return n.update(e),new Uint8Array(n.digest())}function Yw(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),s=e.getUint32(12,!0);return[new yo([n,r],0),new yo([i,s],0)]}class wv{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new Pa(`Invalid padding: ${n}`);if(r<0)throw new Pa(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new Pa(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new Pa(`Invalid padding when bitmap length is 0: ${n}`);this.Te=8*e.length-n,this.Ee=yo.fromNumber(this.Te)}de(e,n,r){let i=e.add(n.multiply(yo.fromNumber(r)));return i.compare(vM)===1&&(i=new yo([i.getBits(0),i.getBits(1)],0)),i.modulo(this.Ee).toNumber()}Ae(e){return(this.bitmap[Math.floor(e/8)]&1<<e%8)!=0}mightContain(e){if(this.Te===0)return!1;const n=Xw(e),[r,i]=Yw(n);for(let s=0;s<this.hashCount;s++){const o=this.de(r,i,s);if(!this.Ae(o))return!1}return!0}static create(e,n,r){const i=e%8==0?0:8-e%8,s=new Uint8Array(Math.ceil(e/8)),o=new wv(s,i,n);return r.forEach(a=>o.insert(a)),o}insert(e){if(this.Te===0)return;const n=Xw(e),[r,i]=Yw(n);for(let s=0;s<this.hashCount;s++){const o=this.de(r,i,s);this.Re(o)}}Re(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class Pa extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Od{constructor(e,n,r,i,s){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=s}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const i=new Map;return i.set(e,hu.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new Od(Z.min(),i,new De(ue),Ir(),ne())}}class hu{constructor(e,n,r,i,s){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=s}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new hu(r,n,ne(),ne(),ne())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pc{constructor(e,n,r,i){this.Ve=e,this.removedTargetIds=n,this.key=r,this.me=i}}class JA{constructor(e,n){this.targetId=e,this.fe=n}}class ZA{constructor(e,n,r=bt.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=i}}class Jw{constructor(){this.ge=0,this.pe=e1(),this.ye=bt.EMPTY_BYTE_STRING,this.we=!1,this.Se=!0}get current(){return this.we}get resumeToken(){return this.ye}get be(){return this.ge!==0}get De(){return this.Se}Ce(e){e.approximateByteSize()>0&&(this.Se=!0,this.ye=e)}ve(){let e=ne(),n=ne(),r=ne();return this.pe.forEach((i,s)=>{switch(s){case 0:e=e.add(i);break;case 2:n=n.add(i);break;case 1:r=r.add(i);break;default:X()}}),new hu(this.ye,this.we,e,n,r)}Fe(){this.Se=!1,this.pe=e1()}Me(e,n){this.Se=!0,this.pe=this.pe.insert(e,n)}xe(e){this.Se=!0,this.pe=this.pe.remove(e)}Oe(){this.ge+=1}Ne(){this.ge-=1,ve(this.ge>=0)}Be(){this.Se=!0,this.we=!0}}class _M{constructor(e){this.Le=e,this.ke=new Map,this.qe=Ir(),this.Qe=Zw(),this.Ke=new De(ue)}$e(e){for(const n of e.Ve)e.me&&e.me.isFoundDocument()?this.Ue(n,e.me):this.We(n,e.key,e.me);for(const n of e.removedTargetIds)this.We(n,e.key,e.me)}Ge(e){this.forEachTarget(e,n=>{const r=this.ze(n);switch(e.state){case 0:this.je(n)&&r.Ce(e.resumeToken);break;case 1:r.Ne(),r.be||r.Fe(),r.Ce(e.resumeToken);break;case 2:r.Ne(),r.be||this.removeTarget(n);break;case 3:this.je(n)&&(r.Be(),r.Ce(e.resumeToken));break;case 4:this.je(n)&&(this.He(n),r.Ce(e.resumeToken));break;default:X()}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.ke.forEach((r,i)=>{this.je(i)&&n(i)})}Je(e){const n=e.targetId,r=e.fe.count,i=this.Ye(n);if(i){const s=i.target;if(eg(s))if(r===0){const o=new B(s.path);this.We(n,o,It.newNoDocument(o,Z.min()))}else ve(r===1);else{const o=this.Ze(n);if(o!==r){const a=this.Xe(e),l=a?this.et(a,e,o):1;if(l!==0){this.He(n);const u=l===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ke=this.Ke.insert(n,u)}}}}}Xe(e){const n=e.fe.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:i=0},hashCount:s=0}=n;let o,a;try{o=_s(r).toUint8Array()}catch(l){if(l instanceof CA)return bo("Decoding the base64 bloom filter in existence filter failed ("+l.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw l}try{a=new wv(o,i,s)}catch(l){return bo(l instanceof Pa?"BloomFilter error: ":"Applying bloom filter failed: ",l),null}return a.Te===0?null:a}et(e,n,r){return n.fe.count===r-this.rt(e,n.targetId)?0:2}rt(e,n){const r=this.Le.getRemoteKeysForTarget(n);let i=0;return r.forEach(s=>{const o=this.Le.nt(),a=`projects/${o.projectId}/databases/${o.database}/documents/${s.path.canonicalString()}`;e.mightContain(a)||(this.We(n,s,null),i++)}),i}it(e){const n=new Map;this.ke.forEach((s,o)=>{const a=this.Ye(o);if(a){if(s.current&&eg(a.target)){const l=new B(a.target.path);this.qe.get(l)!==null||this.st(o,l)||this.We(o,l,It.newNoDocument(l,e))}s.De&&(n.set(o,s.ve()),s.Fe())}});let r=ne();this.Qe.forEach((s,o)=>{let a=!0;o.forEachWhile(l=>{const u=this.Ye(l);return!u||u.purpose==="TargetPurposeLimboResolution"||(a=!1,!1)}),a&&(r=r.add(s))}),this.qe.forEach((s,o)=>o.setReadTime(e));const i=new Od(e,n,this.Ke,this.qe,r);return this.qe=Ir(),this.Qe=Zw(),this.Ke=new De(ue),i}Ue(e,n){if(!this.je(e))return;const r=this.st(e,n.key)?2:0;this.ze(e).Me(n.key,r),this.qe=this.qe.insert(n.key,n),this.Qe=this.Qe.insert(n.key,this.ot(n.key).add(e))}We(e,n,r){if(!this.je(e))return;const i=this.ze(e);this.st(e,n)?i.Me(n,1):i.xe(n),this.Qe=this.Qe.insert(n,this.ot(n).delete(e)),r&&(this.qe=this.qe.insert(n,r))}removeTarget(e){this.ke.delete(e)}Ze(e){const n=this.ze(e).ve();return this.Le.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Oe(e){this.ze(e).Oe()}ze(e){let n=this.ke.get(e);return n||(n=new Jw,this.ke.set(e,n)),n}ot(e){let n=this.Qe.get(e);return n||(n=new gt(ue),this.Qe=this.Qe.insert(e,n)),n}je(e){const n=this.Ye(e)!==null;return n||D("WatchChangeAggregator","Detected inactive target",e),n}Ye(e){const n=this.ke.get(e);return n&&n.be?null:this.Le._t(e)}He(e){this.ke.set(e,new Jw),this.Le.getRemoteKeysForTarget(e).forEach(n=>{this.We(e,n,null)})}st(e,n){return this.Le.getRemoteKeysForTarget(e).has(n)}}function Zw(){return new De(B.comparator)}function e1(){return new De(B.comparator)}const wM={asc:"ASCENDING",desc:"DESCENDING"},EM={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},TM={and:"AND",or:"OR"};class SM{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function rg(t,e){return t.useProto3Json||bd(e)?e:{value:e}}function Sh(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function eP(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function xM(t,e){return Sh(t,e.toTimestamp())}function Kn(t){return ve(!!t),Z.fromTimestamp(function(n){const r=_i(n);return new Je(r.seconds,r.nanos)}(t))}function Ev(t,e){return ig(t,e).canonicalString()}function ig(t,e){const n=function(i){return new xe(["projects",i.projectId,"databases",i.database])}(t).child("documents");return e===void 0?n:n.child(e)}function tP(t){const e=xe.fromString(t);return ve(oP(e)),e}function sg(t,e){return Ev(t.databaseId,e.path)}function up(t,e){const n=tP(e);if(n.get(1)!==t.databaseId.projectId)throw new L(b.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new L(b.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new B(rP(n))}function nP(t,e){return Ev(t.databaseId,e)}function IM(t){const e=tP(t);return e.length===4?xe.emptyPath():rP(e)}function og(t){return new xe(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function rP(t){return ve(t.length>4&&t.get(4)==="documents"),t.popFirst(5)}function t1(t,e,n){return{name:sg(t,e),fields:n.value.mapValue.fields}}function AM(t,e){let n;if("targetChange"in e){e.targetChange;const r=function(u){return u==="NO_CHANGE"?0:u==="ADD"?1:u==="REMOVE"?2:u==="CURRENT"?3:u==="RESET"?4:X()}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],s=function(u,c){return u.useProto3Json?(ve(c===void 0||typeof c=="string"),bt.fromBase64String(c||"")):(ve(c===void 0||c instanceof Uint8Array),bt.fromUint8Array(c||new Uint8Array))}(t,e.targetChange.resumeToken),o=e.targetChange.cause,a=o&&function(u){const c=u.code===void 0?b.UNKNOWN:YA(u.code);return new L(c,u.message||"")}(o);n=new ZA(r,i,s,a||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const i=up(t,r.document.name),s=Kn(r.document.updateTime),o=r.document.createTime?Kn(r.document.createTime):Z.min(),a=new zt({mapValue:{fields:r.document.fields}}),l=It.newFoundDocument(i,s,o,a),u=r.targetIds||[],c=r.removedTargetIds||[];n=new Pc(u,c,l.key,l)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const i=up(t,r.document),s=r.readTime?Kn(r.readTime):Z.min(),o=It.newNoDocument(i,s),a=r.removedTargetIds||[];n=new Pc([],a,o.key,o)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const i=up(t,r.document),s=r.removedTargetIds||[];n=new Pc([],s,i,null)}else{if(!("filter"in e))return X();{e.filter;const r=e.filter;r.targetId;const{count:i=0,unchangedNames:s}=r,o=new mM(i,s),a=r.targetId;n=new JA(a,o)}}return n}function PM(t,e){let n;if(e instanceof cu)n={update:t1(t,e.key,e.value)};else if(e instanceof XA)n={delete:sg(t,e.key)};else if(e instanceof ki)n={update:t1(t,e.key,e.data),updateMask:jM(e.fieldMask)};else{if(!(e instanceof dM))return X();n={verify:sg(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(s,o){const a=o.transform;if(a instanceof Eh)return{fieldPath:o.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(a instanceof Rl)return{fieldPath:o.field.canonicalString(),appendMissingElements:{values:a.elements}};if(a instanceof kl)return{fieldPath:o.field.canonicalString(),removeAllFromArray:{values:a.elements}};if(a instanceof Th)return{fieldPath:o.field.canonicalString(),increment:a.Ie};throw X()}(0,r))),e.precondition.isNone||(n.currentDocument=function(i,s){return s.updateTime!==void 0?{updateTime:xM(i,s.updateTime)}:s.exists!==void 0?{exists:s.exists}:X()}(t,e.precondition)),n}function CM(t,e){return t&&t.length>0?(ve(e!==void 0),t.map(n=>function(i,s){let o=i.updateTime?Kn(i.updateTime):Kn(s);return o.isEqual(Z.min())&&(o=Kn(s)),new uM(o,i.transformResults||[])}(n,e))):[]}function bM(t,e){return{documents:[nP(t,e.path)]}}function RM(t,e){const n={structuredQuery:{}},r=e.path;let i;e.collectionGroup!==null?(i=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=nP(t,i);const s=function(u){if(u.length!==0)return sP(kn.create(u,"and"))}(e.filters);s&&(n.structuredQuery.where=s);const o=function(u){if(u.length!==0)return u.map(c=>function(d){return{field:zs(d.field),direction:DM(d.dir)}}(c))}(e.orderBy);o&&(n.structuredQuery.orderBy=o);const a=rg(t,e.limit);return a!==null&&(n.structuredQuery.limit=a),e.startAt&&(n.structuredQuery.startAt=function(u){return{before:u.inclusive,values:u.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(u){return{before:!u.inclusive,values:u.position}}(e.endAt)),{ut:n,parent:i}}function kM(t){let e=IM(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){ve(r===1);const c=n.from[0];c.allDescendants?i=c.collectionId:e=e.child(c.collectionId)}let s=[];n.where&&(s=function(h){const d=iP(h);return d instanceof kn&&NA(d)?d.getFilters():[d]}(n.where));let o=[];n.orderBy&&(o=function(h){return h.map(d=>function(g){return new wh(Ws(g.field),function(w){switch(w){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(g.direction))}(d))}(n.orderBy));let a=null;n.limit&&(a=function(h){let d;return d=typeof h=="object"?h.value:h,bd(d)?null:d}(n.limit));let l=null;n.startAt&&(l=function(h){const d=!!h.before,p=h.values||[];return new _h(p,d)}(n.startAt));let u=null;return n.endAt&&(u=function(h){const d=!h.before,p=h.values||[];return new _h(p,d)}(n.endAt)),Xj(e,i,o,s,a,"F",l,u)}function NM(t,e){const n=function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return X()}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function iP(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=Ws(n.unaryFilter.field);return qe.create(r,"==",{doubleValue:NaN});case"IS_NULL":const i=Ws(n.unaryFilter.field);return qe.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const s=Ws(n.unaryFilter.field);return qe.create(s,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const o=Ws(n.unaryFilter.field);return qe.create(o,"!=",{nullValue:"NULL_VALUE"});default:return X()}}(t):t.fieldFilter!==void 0?function(n){return qe.create(Ws(n.fieldFilter.field),function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return X()}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return kn.create(n.compositeFilter.filters.map(r=>iP(r)),function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return X()}}(n.compositeFilter.op))}(t):X()}function DM(t){return wM[t]}function OM(t){return EM[t]}function VM(t){return TM[t]}function zs(t){return{fieldPath:t.canonicalString()}}function Ws(t){return ft.fromServerFormat(t.fieldPath)}function sP(t){return t instanceof qe?function(n){if(n.op==="=="){if(Uw(n.value))return{unaryFilter:{field:zs(n.field),op:"IS_NAN"}};if($w(n.value))return{unaryFilter:{field:zs(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(Uw(n.value))return{unaryFilter:{field:zs(n.field),op:"IS_NOT_NAN"}};if($w(n.value))return{unaryFilter:{field:zs(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:zs(n.field),op:OM(n.op),value:n.value}}}(t):t instanceof kn?function(n){const r=n.getFilters().map(i=>sP(i));return r.length===1?r[0]:{compositeFilter:{op:VM(n.op),filters:r}}}(t):X()}function jM(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function oP(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yr{constructor(e,n,r,i,s=Z.min(),o=Z.min(),a=bt.EMPTY_BYTE_STRING,l=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=s,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=a,this.expectedCount=l}withSequenceNumber(e){return new Yr(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new Yr(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Yr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Yr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MM{constructor(e){this.ct=e}}function LM(t){const e=kM({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?ng(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FM{constructor(){this._n=new $M}addToCollectionParentIndex(e,n){return this._n.add(n),R.resolve()}getCollectionParents(e,n){return R.resolve(this._n.getEntries(n))}addFieldIndex(e,n){return R.resolve()}deleteFieldIndex(e,n){return R.resolve()}deleteAllFieldIndexes(e){return R.resolve()}createTargetIndexes(e,n){return R.resolve()}getDocumentsMatchingTarget(e,n){return R.resolve(null)}getIndexType(e,n){return R.resolve(0)}getFieldIndexes(e,n){return R.resolve([])}getNextCollectionGroupToUpdate(e){return R.resolve(null)}getMinOffset(e,n){return R.resolve(vi.min())}getMinOffsetFromCollectionGroup(e,n){return R.resolve(vi.min())}updateCollectionGroup(e,n,r){return R.resolve()}updateIndexEntries(e,n){return R.resolve()}}class $M{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n]||new gt(xe.comparator),s=!i.has(r);return this.index[n]=i.add(r),s}has(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n];return i&&i.has(r)}getEntries(e){return(this.index[e]||new gt(xe.comparator)).toArray()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Do{constructor(e){this.On=e}next(){return this.On+=2,this.On}static Nn(){return new Do(0)}static Bn(){return new Do(-1)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UM{constructor(){this.changes=new Xo(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,It.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?R.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BM{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zM{constructor(e,n,r,i){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,n))).next(i=>(r!==null&&Wa(r.mutation,i,Zt.empty(),Je.now()),i))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,ne()).next(()=>r))}getLocalViewOfDocuments(e,n,r=ne()){const i=ts();return this.populateOverlays(e,i,n).next(()=>this.computeViews(e,n,i,r).next(s=>{let o=Aa();return s.forEach((a,l)=>{o=o.insert(a,l.overlayedDocument)}),o}))}getOverlayedDocuments(e,n){const r=ts();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,ne()))}populateOverlays(e,n,r){const i=[];return r.forEach(s=>{n.has(s)||i.push(s)}),this.documentOverlayCache.getOverlays(e,i).next(s=>{s.forEach((o,a)=>{n.set(o,a)})})}computeViews(e,n,r,i){let s=Ir();const o=za(),a=function(){return za()}();return n.forEach((l,u)=>{const c=r.get(u.key);i.has(u.key)&&(c===void 0||c.mutation instanceof ki)?s=s.insert(u.key,u):c!==void 0?(o.set(u.key,c.mutation.getFieldMask()),Wa(c.mutation,u,c.mutation.getFieldMask(),Je.now())):o.set(u.key,Zt.empty())}),this.recalculateAndSaveOverlays(e,s).next(l=>(l.forEach((u,c)=>o.set(u,c)),n.forEach((u,c)=>{var h;return a.set(u,new BM(c,(h=o.get(u))!==null&&h!==void 0?h:null))}),a))}recalculateAndSaveOverlays(e,n){const r=za();let i=new De((o,a)=>o-a),s=ne();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(o=>{for(const a of o)a.keys().forEach(l=>{const u=n.get(l);if(u===null)return;let c=r.get(l)||Zt.empty();c=a.applyToLocalView(u,c),r.set(l,c);const h=(i.get(a.batchId)||ne()).add(l);i=i.insert(a.batchId,h)})}).next(()=>{const o=[],a=i.getReverseIterator();for(;a.hasNext();){const l=a.getNext(),u=l.key,c=l.value,h=UA();c.forEach(d=>{if(!s.has(d)){const p=KA(n.get(d),r.get(d));p!==null&&h.set(d,p),s=s.add(d)}}),o.push(this.documentOverlayCache.saveOverlays(e,u,h))}return R.waitFor(o)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r,i){return function(o){return B.isDocumentKey(o.path)&&o.collectionGroup===null&&o.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):jA(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,i):this.getDocumentsMatchingCollectionQuery(e,n,r,i)}getNextDocuments(e,n,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,i).next(s=>{const o=i-s.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,i-s.size):R.resolve(ts());let a=-1,l=s;return o.next(u=>R.forEach(u,(c,h)=>(a<h.largestBatchId&&(a=h.largestBatchId),s.get(c)?R.resolve():this.remoteDocumentCache.getEntry(e,c).next(d=>{l=l.insert(c,d)}))).next(()=>this.populateOverlays(e,u,s)).next(()=>this.computeViews(e,l,u,ne())).next(c=>({batchId:a,changes:$A(c)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new B(n)).next(r=>{let i=Aa();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,n,r,i){const s=n.collectionGroup;let o=Aa();return this.indexManager.getCollectionParents(e,s).next(a=>R.forEach(a,l=>{const u=function(h,d){return new uu(d,null,h.explicitOrderBy.slice(),h.filters.slice(),h.limit,h.limitType,h.startAt,h.endAt)}(n,l.child(s));return this.getDocumentsMatchingCollectionQuery(e,u,r,i).next(c=>{c.forEach((h,d)=>{o=o.insert(h,d)})})}).next(()=>o))}getDocumentsMatchingCollectionQuery(e,n,r,i){let s;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(o=>(s=o,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,s,i))).next(o=>{s.forEach((l,u)=>{const c=u.getKey();o.get(c)===null&&(o=o.insert(c,It.newInvalidDocument(c)))});let a=Aa();return o.forEach((l,u)=>{const c=s.get(l);c!==void 0&&Wa(c.mutation,u,Zt.empty(),Je.now()),kd(n,u)&&(a=a.insert(l,u))}),a})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WM{constructor(e){this.serializer=e,this.cr=new Map,this.lr=new Map}getBundleMetadata(e,n){return R.resolve(this.cr.get(n))}saveBundleMetadata(e,n){return this.cr.set(n.id,function(i){return{id:i.id,version:i.version,createTime:Kn(i.createTime)}}(n)),R.resolve()}getNamedQuery(e,n){return R.resolve(this.lr.get(n))}saveNamedQuery(e,n){return this.lr.set(n.name,function(i){return{name:i.name,query:LM(i.bundledQuery),readTime:Kn(i.readTime)}}(n)),R.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HM{constructor(){this.overlays=new De(B.comparator),this.hr=new Map}getOverlay(e,n){return R.resolve(this.overlays.get(n))}getOverlays(e,n){const r=ts();return R.forEach(n,i=>this.getOverlay(e,i).next(s=>{s!==null&&r.set(i,s)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((i,s)=>{this.ht(e,n,s)}),R.resolve()}removeOverlaysForBatchId(e,n,r){const i=this.hr.get(r);return i!==void 0&&(i.forEach(s=>this.overlays=this.overlays.remove(s)),this.hr.delete(r)),R.resolve()}getOverlaysForCollection(e,n,r){const i=ts(),s=n.length+1,o=new B(n.child("")),a=this.overlays.getIteratorFrom(o);for(;a.hasNext();){const l=a.getNext().value,u=l.getKey();if(!n.isPrefixOf(u.path))break;u.path.length===s&&l.largestBatchId>r&&i.set(l.getKey(),l)}return R.resolve(i)}getOverlaysForCollectionGroup(e,n,r,i){let s=new De((u,c)=>u-c);const o=this.overlays.getIterator();for(;o.hasNext();){const u=o.getNext().value;if(u.getKey().getCollectionGroup()===n&&u.largestBatchId>r){let c=s.get(u.largestBatchId);c===null&&(c=ts(),s=s.insert(u.largestBatchId,c)),c.set(u.getKey(),u)}}const a=ts(),l=s.getIterator();for(;l.hasNext()&&(l.getNext().value.forEach((u,c)=>a.set(u,c)),!(a.size()>=i)););return R.resolve(a)}ht(e,n,r){const i=this.overlays.get(r.key);if(i!==null){const o=this.hr.get(i.largestBatchId).delete(r.key);this.hr.set(i.largestBatchId,o)}this.overlays=this.overlays.insert(r.key,new pM(n,r));let s=this.hr.get(n);s===void 0&&(s=ne(),this.hr.set(n,s)),this.hr.set(n,s.add(r.key))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tv{constructor(){this.Pr=new gt(et.Ir),this.Tr=new gt(et.Er)}isEmpty(){return this.Pr.isEmpty()}addReference(e,n){const r=new et(e,n);this.Pr=this.Pr.add(r),this.Tr=this.Tr.add(r)}dr(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.Ar(new et(e,n))}Rr(e,n){e.forEach(r=>this.removeReference(r,n))}Vr(e){const n=new B(new xe([])),r=new et(n,e),i=new et(n,e+1),s=[];return this.Tr.forEachInRange([r,i],o=>{this.Ar(o),s.push(o.key)}),s}mr(){this.Pr.forEach(e=>this.Ar(e))}Ar(e){this.Pr=this.Pr.delete(e),this.Tr=this.Tr.delete(e)}gr(e){const n=new B(new xe([])),r=new et(n,e),i=new et(n,e+1);let s=ne();return this.Tr.forEachInRange([r,i],o=>{s=s.add(o.key)}),s}containsKey(e){const n=new et(e,0),r=this.Pr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class et{constructor(e,n){this.key=e,this.pr=n}static Ir(e,n){return B.comparator(e.key,n.key)||ue(e.pr,n.pr)}static Er(e,n){return ue(e.pr,n.pr)||B.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GM{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.yr=1,this.wr=new gt(et.Ir)}checkEmpty(e){return R.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,i){const s=this.yr;this.yr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const o=new fM(s,n,r,i);this.mutationQueue.push(o);for(const a of i)this.wr=this.wr.add(new et(a.key,s)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return R.resolve(o)}lookupMutationBatch(e,n){return R.resolve(this.Sr(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,i=this.br(r),s=i<0?0:i;return R.resolve(this.mutationQueue.length>s?this.mutationQueue[s]:null)}getHighestUnacknowledgedBatchId(){return R.resolve(this.mutationQueue.length===0?-1:this.yr-1)}getAllMutationBatches(e){return R.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new et(n,0),i=new et(n,Number.POSITIVE_INFINITY),s=[];return this.wr.forEachInRange([r,i],o=>{const a=this.Sr(o.pr);s.push(a)}),R.resolve(s)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new gt(ue);return n.forEach(i=>{const s=new et(i,0),o=new et(i,Number.POSITIVE_INFINITY);this.wr.forEachInRange([s,o],a=>{r=r.add(a.pr)})}),R.resolve(this.Dr(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,i=r.length+1;let s=r;B.isDocumentKey(s)||(s=s.child(""));const o=new et(new B(s),0);let a=new gt(ue);return this.wr.forEachWhile(l=>{const u=l.key.path;return!!r.isPrefixOf(u)&&(u.length===i&&(a=a.add(l.pr)),!0)},o),R.resolve(this.Dr(a))}Dr(e){const n=[];return e.forEach(r=>{const i=this.Sr(r);i!==null&&n.push(i)}),n}removeMutationBatch(e,n){ve(this.Cr(n.batchId,"removed")===0),this.mutationQueue.shift();let r=this.wr;return R.forEach(n.mutations,i=>{const s=new et(i.key,n.batchId);return r=r.delete(s),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.wr=r})}Mn(e){}containsKey(e,n){const r=new et(n,0),i=this.wr.firstAfterOrEqual(r);return R.resolve(n.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,R.resolve()}Cr(e,n){return this.br(e)}br(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Sr(e){const n=this.br(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qM{constructor(e){this.vr=e,this.docs=function(){return new De(B.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,i=this.docs.get(r),s=i?i.size:0,o=this.vr(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:o}),this.size+=o-s,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return R.resolve(r?r.document.mutableCopy():It.newInvalidDocument(n))}getEntries(e,n){let r=Ir();return n.forEach(i=>{const s=this.docs.get(i);r=r.insert(i,s?s.document.mutableCopy():It.newInvalidDocument(i))}),R.resolve(r)}getDocumentsMatchingQuery(e,n,r,i){let s=Ir();const o=n.path,a=new B(o.child("")),l=this.docs.getIteratorFrom(a);for(;l.hasNext();){const{key:u,value:{document:c}}=l.getNext();if(!o.isPrefixOf(u.path))break;u.path.length>o.length+1||kj(Rj(c),r)<=0||(i.has(c.key)||kd(n,c))&&(s=s.insert(c.key,c.mutableCopy()))}return R.resolve(s)}getAllFromCollectionGroup(e,n,r,i){X()}Fr(e,n){return R.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new KM(this)}getSize(e){return R.resolve(this.size)}}class KM extends UM{constructor(e){super(),this.ar=e}applyChanges(e){const n=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?n.push(this.ar.addEntry(e,i)):this.ar.removeEntry(r)}),R.waitFor(n)}getFromCache(e,n){return this.ar.getEntry(e,n)}getAllFromCache(e,n){return this.ar.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QM{constructor(e){this.persistence=e,this.Mr=new Xo(n=>gv(n),yv),this.lastRemoteSnapshotVersion=Z.min(),this.highestTargetId=0,this.Or=0,this.Nr=new Tv,this.targetCount=0,this.Br=Do.Nn()}forEachTarget(e,n){return this.Mr.forEach((r,i)=>n(i)),R.resolve()}getLastRemoteSnapshotVersion(e){return R.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return R.resolve(this.Or)}allocateTargetId(e){return this.highestTargetId=this.Br.next(),R.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.Or&&(this.Or=n),R.resolve()}qn(e){this.Mr.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.Br=new Do(n),this.highestTargetId=n),e.sequenceNumber>this.Or&&(this.Or=e.sequenceNumber)}addTargetData(e,n){return this.qn(n),this.targetCount+=1,R.resolve()}updateTargetData(e,n){return this.qn(n),R.resolve()}removeTargetData(e,n){return this.Mr.delete(n.target),this.Nr.Vr(n.targetId),this.targetCount-=1,R.resolve()}removeTargets(e,n,r){let i=0;const s=[];return this.Mr.forEach((o,a)=>{a.sequenceNumber<=n&&r.get(a.targetId)===null&&(this.Mr.delete(o),s.push(this.removeMatchingKeysForTargetId(e,a.targetId)),i++)}),R.waitFor(s).next(()=>i)}getTargetCount(e){return R.resolve(this.targetCount)}getTargetData(e,n){const r=this.Mr.get(n)||null;return R.resolve(r)}addMatchingKeys(e,n,r){return this.Nr.dr(n,r),R.resolve()}removeMatchingKeys(e,n,r){this.Nr.Rr(n,r);const i=this.persistence.referenceDelegate,s=[];return i&&n.forEach(o=>{s.push(i.markPotentiallyOrphaned(e,o))}),R.waitFor(s)}removeMatchingKeysForTargetId(e,n){return this.Nr.Vr(n),R.resolve()}getMatchingKeysForTargetId(e,n){const r=this.Nr.gr(n);return R.resolve(r)}containsKey(e,n){return R.resolve(this.Nr.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XM{constructor(e,n){this.Lr={},this.overlays={},this.kr=new dv(0),this.qr=!1,this.qr=!0,this.referenceDelegate=e(this),this.Qr=new QM(this),this.indexManager=new FM,this.remoteDocumentCache=function(i){return new qM(i)}(r=>this.referenceDelegate.Kr(r)),this.serializer=new MM(n),this.$r=new WM(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.qr=!1,Promise.resolve()}get started(){return this.qr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new HM,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.Lr[e.toKey()];return r||(r=new GM(n,this.referenceDelegate),this.Lr[e.toKey()]=r),r}getTargetCache(){return this.Qr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.$r}runTransaction(e,n,r){D("MemoryPersistence","Starting transaction:",e);const i=new YM(this.kr.next());return this.referenceDelegate.Ur(),r(i).next(s=>this.referenceDelegate.Wr(i).next(()=>s)).toPromise().then(s=>(i.raiseOnCommittedEvent(),s))}Gr(e,n){return R.or(Object.values(this.Lr).map(r=>()=>r.containsKey(e,n)))}}class YM extends Dj{constructor(e){super(),this.currentSequenceNumber=e}}class Sv{constructor(e){this.persistence=e,this.zr=new Tv,this.jr=null}static Hr(e){return new Sv(e)}get Jr(){if(this.jr)return this.jr;throw X()}addReference(e,n,r){return this.zr.addReference(r,n),this.Jr.delete(r.toString()),R.resolve()}removeReference(e,n,r){return this.zr.removeReference(r,n),this.Jr.add(r.toString()),R.resolve()}markPotentiallyOrphaned(e,n){return this.Jr.add(n.toString()),R.resolve()}removeTarget(e,n){this.zr.Vr(n.targetId).forEach(i=>this.Jr.add(i.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(i=>{i.forEach(s=>this.Jr.add(s.toString()))}).next(()=>r.removeTargetData(e,n))}Ur(){this.jr=new Set}Wr(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return R.forEach(this.Jr,r=>{const i=B.fromPath(r);return this.Yr(e,i).next(s=>{s||n.removeEntry(i,Z.min())})}).next(()=>(this.jr=null,n.apply(e)))}updateLimboDocument(e,n){return this.Yr(e,n).next(r=>{r?this.Jr.delete(n.toString()):this.Jr.add(n.toString())})}Kr(e){return 0}Yr(e,n){return R.or([()=>R.resolve(this.zr.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Gr(e,n)])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xv{constructor(e,n,r,i){this.targetId=e,this.fromCache=n,this.qi=r,this.Qi=i}static Ki(e,n){let r=ne(),i=ne();for(const s of n.docChanges)switch(s.type){case 0:r=r.add(s.doc.key);break;case 1:i=i.add(s.doc.key)}return new xv(e,n.fromCache,r,i)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JM{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZM{constructor(){this.$i=!1,this.Ui=!1,this.Wi=100,this.Gi=function(){return JD()?8:es.v(Qe())>0?6:4}()}initialize(e,n){this.zi=e,this.indexManager=n,this.$i=!0}getDocumentsMatchingQuery(e,n,r,i){const s={result:null};return this.ji(e,n).next(o=>{s.result=o}).next(()=>{if(!s.result)return this.Hi(e,n,i,r).next(o=>{s.result=o})}).next(()=>{if(s.result)return;const o=new JM;return this.Ji(e,n,o).next(a=>{if(s.result=a,this.Ui)return this.Yi(e,n,o,a.size)})}).next(()=>s.result)}Yi(e,n,r,i){return r.documentReadCount<this.Wi?(da()<=ie.DEBUG&&D("QueryEngine","SDK will not create cache indexes for query:",Bs(n),"since it only creates cache indexes for collection contains","more than or equal to",this.Wi,"documents"),R.resolve()):(da()<=ie.DEBUG&&D("QueryEngine","Query:",Bs(n),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.Gi*i?(da()<=ie.DEBUG&&D("QueryEngine","The SDK decides to create cache indexes for query:",Bs(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Gn(n))):R.resolve())}ji(e,n){if(Hw(n))return R.resolve(null);let r=Gn(n);return this.indexManager.getIndexType(e,r).next(i=>i===0?null:(n.limit!==null&&i===1&&(n=ng(n,null,"F"),r=Gn(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(s=>{const o=ne(...s);return this.zi.getDocuments(e,o).next(a=>this.indexManager.getMinOffset(e,r).next(l=>{const u=this.Zi(n,a);return this.Xi(n,u,o,l.readTime)?this.ji(e,ng(n,null,"F")):this.es(e,u,n,l)}))})))}Hi(e,n,r,i){return Hw(n)||i.isEqual(Z.min())?R.resolve(null):this.zi.getDocuments(e,r).next(s=>{const o=this.Zi(n,s);return this.Xi(n,o,r,i)?R.resolve(null):(da()<=ie.DEBUG&&D("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),Bs(n)),this.es(e,o,n,bj(i,-1)).next(a=>a))})}Zi(e,n){let r=new gt(LA(e));return n.forEach((i,s)=>{kd(e,s)&&(r=r.add(s))}),r}Xi(e,n,r,i){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const s=e.limitType==="F"?n.last():n.first();return!!s&&(s.hasPendingWrites||s.version.compareTo(i)>0)}Ji(e,n,r){return da()<=ie.DEBUG&&D("QueryEngine","Using full collection scan to execute query:",Bs(n)),this.zi.getDocumentsMatchingQuery(e,n,vi.min(),r)}es(e,n,r,i){return this.zi.getDocumentsMatchingQuery(e,r,i).next(s=>(n.forEach(o=>{s=s.insert(o.key,o)}),s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eL{constructor(e,n,r,i){this.persistence=e,this.ts=n,this.serializer=i,this.ns=new De(ue),this.rs=new Xo(s=>gv(s),yv),this.ss=new Map,this.os=e.getRemoteDocumentCache(),this.Qr=e.getTargetCache(),this.$r=e.getBundleCache(),this._s(r)}_s(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new zM(this.os,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.os.setIndexManager(this.indexManager),this.ts.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.ns))}}function tL(t,e,n,r){return new eL(t,e,n,r)}async function aP(t,e){const n=ee(t);return await n.persistence.runTransaction("Handle user change","readonly",r=>{let i;return n.mutationQueue.getAllMutationBatches(r).next(s=>(i=s,n._s(e),n.mutationQueue.getAllMutationBatches(r))).next(s=>{const o=[],a=[];let l=ne();for(const u of i){o.push(u.batchId);for(const c of u.mutations)l=l.add(c.key)}for(const u of s){a.push(u.batchId);for(const c of u.mutations)l=l.add(c.key)}return n.localDocuments.getDocuments(r,l).next(u=>({us:u,removedBatchIds:o,addedBatchIds:a}))})})}function nL(t,e){const n=ee(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const i=e.batch.keys(),s=n.os.newChangeBuffer({trackRemovals:!0});return function(a,l,u,c){const h=u.batch,d=h.keys();let p=R.resolve();return d.forEach(g=>{p=p.next(()=>c.getEntry(l,g)).next(_=>{const w=u.docVersions.get(g);ve(w!==null),_.version.compareTo(w)<0&&(h.applyToRemoteDocument(_,u),_.isValidDocument()&&(_.setReadTime(u.commitVersion),c.addEntry(_)))})}),p.next(()=>a.mutationQueue.removeMutationBatch(l,h))}(n,r,e,s).next(()=>s.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(a){let l=ne();for(let u=0;u<a.mutationResults.length;++u)a.mutationResults[u].transformResults.length>0&&(l=l.add(a.batch.mutations[u].key));return l}(e))).next(()=>n.localDocuments.getDocuments(r,i))})}function lP(t){const e=ee(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Qr.getLastRemoteSnapshotVersion(n))}function rL(t,e){const n=ee(t),r=e.snapshotVersion;let i=n.ns;return n.persistence.runTransaction("Apply remote event","readwrite-primary",s=>{const o=n.os.newChangeBuffer({trackRemovals:!0});i=n.ns;const a=[];e.targetChanges.forEach((c,h)=>{const d=i.get(h);if(!d)return;a.push(n.Qr.removeMatchingKeys(s,c.removedDocuments,h).next(()=>n.Qr.addMatchingKeys(s,c.addedDocuments,h)));let p=d.withSequenceNumber(s.currentSequenceNumber);e.targetMismatches.get(h)!==null?p=p.withResumeToken(bt.EMPTY_BYTE_STRING,Z.min()).withLastLimboFreeSnapshotVersion(Z.min()):c.resumeToken.approximateByteSize()>0&&(p=p.withResumeToken(c.resumeToken,r)),i=i.insert(h,p),function(_,w,v){return _.resumeToken.approximateByteSize()===0||w.snapshotVersion.toMicroseconds()-_.snapshotVersion.toMicroseconds()>=3e8?!0:v.addedDocuments.size+v.modifiedDocuments.size+v.removedDocuments.size>0}(d,p,c)&&a.push(n.Qr.updateTargetData(s,p))});let l=Ir(),u=ne();if(e.documentUpdates.forEach(c=>{e.resolvedLimboDocuments.has(c)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(s,c))}),a.push(iL(s,o,e.documentUpdates).next(c=>{l=c.cs,u=c.ls})),!r.isEqual(Z.min())){const c=n.Qr.getLastRemoteSnapshotVersion(s).next(h=>n.Qr.setTargetsMetadata(s,s.currentSequenceNumber,r));a.push(c)}return R.waitFor(a).next(()=>o.apply(s)).next(()=>n.localDocuments.getLocalViewOfDocuments(s,l,u)).next(()=>l)}).then(s=>(n.ns=i,s))}function iL(t,e,n){let r=ne(),i=ne();return n.forEach(s=>r=r.add(s)),e.getEntries(t,r).next(s=>{let o=Ir();return n.forEach((a,l)=>{const u=s.get(a);l.isFoundDocument()!==u.isFoundDocument()&&(i=i.add(a)),l.isNoDocument()&&l.version.isEqual(Z.min())?(e.removeEntry(a,l.readTime),o=o.insert(a,l)):!u.isValidDocument()||l.version.compareTo(u.version)>0||l.version.compareTo(u.version)===0&&u.hasPendingWrites?(e.addEntry(l),o=o.insert(a,l)):D("LocalStore","Ignoring outdated watch update for ",a,". Current version:",u.version," Watch version:",l.version)}),{cs:o,ls:i}})}function sL(t,e){const n=ee(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function oL(t,e){const n=ee(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return n.Qr.getTargetData(r,e).next(s=>s?(i=s,R.resolve(i)):n.Qr.allocateTargetId(r).next(o=>(i=new Yr(e,o,"TargetPurposeListen",r.currentSequenceNumber),n.Qr.addTargetData(r,i).next(()=>i))))}).then(r=>{const i=n.ns.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.ns=n.ns.insert(r.targetId,r),n.rs.set(e,r.targetId)),r})}async function ag(t,e,n){const r=ee(t),i=r.ns.get(e),s=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",s,o=>r.persistence.referenceDelegate.removeTarget(o,i))}catch(o){if(!lu(o))throw o;D("LocalStore",`Failed to update sequence numbers for target ${e}: ${o}`)}r.ns=r.ns.remove(e),r.rs.delete(i.target)}function n1(t,e,n){const r=ee(t);let i=Z.min(),s=ne();return r.persistence.runTransaction("Execute query","readwrite",o=>function(l,u,c){const h=ee(l),d=h.rs.get(c);return d!==void 0?R.resolve(h.ns.get(d)):h.Qr.getTargetData(u,c)}(r,o,Gn(e)).next(a=>{if(a)return i=a.lastLimboFreeSnapshotVersion,r.Qr.getMatchingKeysForTargetId(o,a.targetId).next(l=>{s=l})}).next(()=>r.ts.getDocumentsMatchingQuery(o,e,n?i:Z.min(),n?s:ne())).next(a=>(aL(r,Jj(e),a),{documents:a,hs:s})))}function aL(t,e,n){let r=t.ss.get(e)||Z.min();n.forEach((i,s)=>{s.readTime.compareTo(r)>0&&(r=s.readTime)}),t.ss.set(e,r)}class r1{constructor(){this.activeTargetIds=iM()}As(e){this.activeTargetIds=this.activeTargetIds.add(e)}Rs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}ds(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class lL{constructor(){this.no=new r1,this.ro={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e){return this.no.As(e),this.ro[e]||"not-current"}updateQueryState(e,n,r){this.ro[e]=n}removeLocalQueryTarget(e){this.no.Rs(e)}isLocalQueryTarget(e){return this.no.activeTargetIds.has(e)}clearQueryState(e){delete this.ro[e]}getAllActiveQueryTargets(){return this.no.activeTargetIds}isActiveQueryTarget(e){return this.no.activeTargetIds.has(e)}start(){return this.no=new r1,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uL{io(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class i1{constructor(){this.so=()=>this.oo(),this._o=()=>this.ao(),this.uo=[],this.co()}io(e){this.uo.push(e)}shutdown(){window.removeEventListener("online",this.so),window.removeEventListener("offline",this._o)}co(){window.addEventListener("online",this.so),window.addEventListener("offline",this._o)}oo(){D("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.uo)e(0)}ao(){D("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.uo)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Zu=null;function cp(){return Zu===null?Zu=function(){return 268435456+Math.round(2147483648*Math.random())}():Zu++,"0x"+Zu.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cL={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hL{constructor(e){this.lo=e.lo,this.ho=e.ho}Po(e){this.Io=e}To(e){this.Eo=e}onMessage(e){this.Ao=e}close(){this.ho()}send(e){this.lo(e)}Ro(){this.Io()}Vo(e){this.Eo(e)}mo(e){this.Ao(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Et="WebChannelConnection";class dL extends class{constructor(n){this.databaseInfo=n,this.databaseId=n.databaseId;const r=n.ssl?"https":"http",i=encodeURIComponent(this.databaseId.projectId),s=encodeURIComponent(this.databaseId.database);this.fo=r+"://"+n.host,this.po=`projects/${i}/databases/${s}`,this.yo=this.databaseId.database==="(default)"?`project_id=${i}`:`project_id=${i}&database_id=${s}`}get wo(){return!1}So(n,r,i,s,o){const a=cp(),l=this.bo(n,r.toUriEncodedString());D("RestConnection",`Sending RPC '${n}' ${a}:`,l,i);const u={"google-cloud-resource-prefix":this.po,"x-goog-request-params":this.yo};return this.Do(u,s,o),this.Co(n,l,u,i).then(c=>(D("RestConnection",`Received RPC '${n}' ${a}: `,c),c),c=>{throw bo("RestConnection",`RPC '${n}' ${a} failed with error: `,c,"url: ",l,"request:",i),c})}vo(n,r,i,s,o,a){return this.So(n,r,i,s,o)}Do(n,r,i){n["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+Qo}(),n["Content-Type"]="text/plain",this.databaseInfo.appId&&(n["X-Firebase-GMPID"]=this.databaseInfo.appId),r&&r.headers.forEach((s,o)=>n[o]=s),i&&i.headers.forEach((s,o)=>n[o]=s)}bo(n,r){const i=cL[n];return`${this.fo}/v1/${r}:${i}`}terminate(){}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Co(e,n,r,i){const s=cp();return new Promise((o,a)=>{const l=new vj;l.setWithCredentials(!0),l.listenOnce(gj.COMPLETE,()=>{try{switch(l.getLastErrorCode()){case lp.NO_ERROR:const c=l.getResponseJson();D(Et,`XHR for RPC '${e}' ${s} received:`,JSON.stringify(c)),o(c);break;case lp.TIMEOUT:D(Et,`RPC '${e}' ${s} timed out`),a(new L(b.DEADLINE_EXCEEDED,"Request time out"));break;case lp.HTTP_ERROR:const h=l.getStatus();if(D(Et,`RPC '${e}' ${s} failed with status:`,h,"response text:",l.getResponseText()),h>0){let d=l.getResponseJson();Array.isArray(d)&&(d=d[0]);const p=d==null?void 0:d.error;if(p&&p.status&&p.message){const g=function(w){const v=w.toLowerCase().replace(/_/g,"-");return Object.values(b).indexOf(v)>=0?v:b.UNKNOWN}(p.status);a(new L(g,p.message))}else a(new L(b.UNKNOWN,"Server responded with status "+l.getStatus()))}else a(new L(b.UNAVAILABLE,"Connection failed."));break;default:X()}}finally{D(Et,`RPC '${e}' ${s} completed.`)}});const u=JSON.stringify(i);D(Et,`RPC '${e}' ${s} sending request:`,i),l.send(n,"POST",u,r,15)})}Fo(e,n,r){const i=cp(),s=[this.fo,"/","google.firestore.v1.Firestore","/",e,"/channel"],o=pj(),a=mj(),l={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},u=this.longPollingOptions.timeoutSeconds;u!==void 0&&(l.longPollingTimeout=Math.round(1e3*u)),this.useFetchStreams&&(l.useFetchStreams=!0),this.Do(l.initMessageHeaders,n,r),l.encodeInitMessageHeaders=!0;const c=s.join("");D(Et,`Creating RPC '${e}' stream ${i}: ${c}`,l);const h=o.createWebChannel(c,l);let d=!1,p=!1;const g=new hL({lo:w=>{p?D(Et,`Not sending because RPC '${e}' stream ${i} is closed:`,w):(d||(D(Et,`Opening RPC '${e}' stream ${i} transport.`),h.open(),d=!0),D(Et,`RPC '${e}' stream ${i} sending:`,w),h.send(w))},ho:()=>h.close()}),_=(w,v,m)=>{w.listen(v,y=>{try{m(y)}catch(T){setTimeout(()=>{throw T},0)}})};return _(h,Xu.EventType.OPEN,()=>{p||D(Et,`RPC '${e}' stream ${i} transport opened.`)}),_(h,Xu.EventType.CLOSE,()=>{p||(p=!0,D(Et,`RPC '${e}' stream ${i} transport closed`),g.Vo())}),_(h,Xu.EventType.ERROR,w=>{p||(p=!0,bo(Et,`RPC '${e}' stream ${i} transport errored:`,w),g.Vo(new L(b.UNAVAILABLE,"The operation could not be completed")))}),_(h,Xu.EventType.MESSAGE,w=>{var v;if(!p){const m=w.data[0];ve(!!m);const y=m,T=y.error||((v=y[0])===null||v===void 0?void 0:v.error);if(T){D(Et,`RPC '${e}' stream ${i} received error:`,T);const S=T.status;let x=function(C){const k=Be[C];if(k!==void 0)return YA(k)}(S),I=T.message;x===void 0&&(x=b.INTERNAL,I="Unknown error status: "+S+" with message "+T.message),p=!0,g.Vo(new L(x,I)),h.close()}else D(Et,`RPC '${e}' stream ${i} received:`,m),g.mo(m)}}),_(a,yj.STAT_EVENT,w=>{w.stat===Dw.PROXY?D(Et,`RPC '${e}' stream ${i} detected buffering proxy`):w.stat===Dw.NOPROXY&&D(Et,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{g.Ro()},0),g}}function hp(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vd(t){return new SM(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uP{constructor(e,n,r=1e3,i=1.5,s=6e4){this.oi=e,this.timerId=n,this.Mo=r,this.xo=i,this.Oo=s,this.No=0,this.Bo=null,this.Lo=Date.now(),this.reset()}reset(){this.No=0}ko(){this.No=this.Oo}qo(e){this.cancel();const n=Math.floor(this.No+this.Qo()),r=Math.max(0,Date.now()-this.Lo),i=Math.max(0,n-r);i>0&&D("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.No} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.Bo=this.oi.enqueueAfterDelay(this.timerId,i,()=>(this.Lo=Date.now(),e())),this.No*=this.xo,this.No<this.Mo&&(this.No=this.Mo),this.No>this.Oo&&(this.No=this.Oo)}Ko(){this.Bo!==null&&(this.Bo.skipDelay(),this.Bo=null)}cancel(){this.Bo!==null&&(this.Bo.cancel(),this.Bo=null)}Qo(){return(Math.random()-.5)*this.No}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cP{constructor(e,n,r,i,s,o,a,l){this.oi=e,this.$o=r,this.Uo=i,this.connection=s,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=a,this.listener=l,this.state=0,this.Wo=0,this.Go=null,this.zo=null,this.stream=null,this.jo=new uP(e,n)}Ho(){return this.state===1||this.state===5||this.Jo()}Jo(){return this.state===2||this.state===3}start(){this.state!==4?this.auth():this.Yo()}async stop(){this.Ho()&&await this.close(0)}Zo(){this.state=0,this.jo.reset()}Xo(){this.Jo()&&this.Go===null&&(this.Go=this.oi.enqueueAfterDelay(this.$o,6e4,()=>this.e_()))}t_(e){this.n_(),this.stream.send(e)}async e_(){if(this.Jo())return this.close(0)}n_(){this.Go&&(this.Go.cancel(),this.Go=null)}r_(){this.zo&&(this.zo.cancel(),this.zo=null)}async close(e,n){this.n_(),this.r_(),this.jo.cancel(),this.Wo++,e!==4?this.jo.reset():n&&n.code===b.RESOURCE_EXHAUSTED?(Zn(n.toString()),Zn("Using maximum backoff delay to prevent overloading the backend."),this.jo.ko()):n&&n.code===b.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.i_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.To(n)}i_(){}auth(){this.state=1;const e=this.s_(this.Wo),n=this.Wo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.Wo===n&&this.o_(r,i)},r=>{e(()=>{const i=new L(b.UNKNOWN,"Fetching auth token failed: "+r.message);return this.__(i)})})}o_(e,n){const r=this.s_(this.Wo);this.stream=this.a_(e,n),this.stream.Po(()=>{r(()=>(this.state=2,this.zo=this.oi.enqueueAfterDelay(this.Uo,1e4,()=>(this.Jo()&&(this.state=3),Promise.resolve())),this.listener.Po()))}),this.stream.To(i=>{r(()=>this.__(i))}),this.stream.onMessage(i=>{r(()=>this.onMessage(i))})}Yo(){this.state=5,this.jo.qo(async()=>{this.state=0,this.start()})}__(e){return D("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}s_(e){return n=>{this.oi.enqueueAndForget(()=>this.Wo===e?n():(D("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class fL extends cP{constructor(e,n,r,i,s,o){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,i,o),this.serializer=s}a_(e,n){return this.connection.Fo("Listen",e,n)}onMessage(e){this.jo.reset();const n=AM(this.serializer,e),r=function(s){if(!("targetChange"in s))return Z.min();const o=s.targetChange;return o.targetIds&&o.targetIds.length?Z.min():o.readTime?Kn(o.readTime):Z.min()}(e);return this.listener.u_(n,r)}c_(e){const n={};n.database=og(this.serializer),n.addTarget=function(s,o){let a;const l=o.target;if(a=eg(l)?{documents:bM(s,l)}:{query:RM(s,l).ut},a.targetId=o.targetId,o.resumeToken.approximateByteSize()>0){a.resumeToken=eP(s,o.resumeToken);const u=rg(s,o.expectedCount);u!==null&&(a.expectedCount=u)}else if(o.snapshotVersion.compareTo(Z.min())>0){a.readTime=Sh(s,o.snapshotVersion.toTimestamp());const u=rg(s,o.expectedCount);u!==null&&(a.expectedCount=u)}return a}(this.serializer,e);const r=NM(this.serializer,e);r&&(n.labels=r),this.t_(n)}l_(e){const n={};n.database=og(this.serializer),n.removeTarget=e,this.t_(n)}}class pL extends cP{constructor(e,n,r,i,s,o){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,i,o),this.serializer=s,this.h_=!1}get P_(){return this.h_}start(){this.h_=!1,this.lastStreamToken=void 0,super.start()}i_(){this.h_&&this.I_([])}a_(e,n){return this.connection.Fo("Write",e,n)}onMessage(e){if(ve(!!e.streamToken),this.lastStreamToken=e.streamToken,this.h_){this.jo.reset();const n=CM(e.writeResults,e.commitTime),r=Kn(e.commitTime);return this.listener.T_(r,n)}return ve(!e.writeResults||e.writeResults.length===0),this.h_=!0,this.listener.E_()}d_(){const e={};e.database=og(this.serializer),this.t_(e)}I_(e){const n={streamToken:this.lastStreamToken,writes:e.map(r=>PM(this.serializer,r))};this.t_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mL extends class{}{constructor(e,n,r,i){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=i,this.A_=!1}R_(){if(this.A_)throw new L(b.FAILED_PRECONDITION,"The client has already been terminated.")}So(e,n,r,i){return this.R_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,o])=>this.connection.So(e,ig(n,r),i,s,o)).catch(s=>{throw s.name==="FirebaseError"?(s.code===b.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new L(b.UNKNOWN,s.toString())})}vo(e,n,r,i,s){return this.R_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,a])=>this.connection.vo(e,ig(n,r),i,o,a,s)).catch(o=>{throw o.name==="FirebaseError"?(o.code===b.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new L(b.UNKNOWN,o.toString())})}terminate(){this.A_=!0,this.connection.terminate()}}class gL{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.m_=0,this.f_=null,this.g_=!0}p_(){this.m_===0&&(this.y_("Unknown"),this.f_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.f_=null,this.w_("Backend didn't respond within 10 seconds."),this.y_("Offline"),Promise.resolve())))}S_(e){this.state==="Online"?this.y_("Unknown"):(this.m_++,this.m_>=1&&(this.b_(),this.w_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.y_("Offline")))}set(e){this.b_(),this.m_=0,e==="Online"&&(this.g_=!1),this.y_(e)}y_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}w_(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.g_?(Zn(n),this.g_=!1):D("OnlineStateTracker",n)}b_(){this.f_!==null&&(this.f_.cancel(),this.f_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yL{constructor(e,n,r,i,s){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.D_=[],this.C_=new Map,this.v_=new Set,this.F_=[],this.M_=s,this.M_.io(o=>{r.enqueueAndForget(async()=>{Rs(this)&&(D("RemoteStore","Restarting streams for network reachability change."),await async function(l){const u=ee(l);u.v_.add(4),await du(u),u.x_.set("Unknown"),u.v_.delete(4),await jd(u)}(this))})}),this.x_=new gL(r,i)}}async function jd(t){if(Rs(t))for(const e of t.F_)await e(!0)}async function du(t){for(const e of t.F_)await e(!1)}function hP(t,e){const n=ee(t);n.C_.has(e.targetId)||(n.C_.set(e.targetId,e),Pv(n)?Av(n):Yo(n).Jo()&&Iv(n,e))}function dP(t,e){const n=ee(t),r=Yo(n);n.C_.delete(e),r.Jo()&&fP(n,e),n.C_.size===0&&(r.Jo()?r.Xo():Rs(n)&&n.x_.set("Unknown"))}function Iv(t,e){if(t.O_.Oe(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Z.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}Yo(t).c_(e)}function fP(t,e){t.O_.Oe(e),Yo(t).l_(e)}function Av(t){t.O_=new _M({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),_t:e=>t.C_.get(e)||null,nt:()=>t.datastore.serializer.databaseId}),Yo(t).start(),t.x_.p_()}function Pv(t){return Rs(t)&&!Yo(t).Ho()&&t.C_.size>0}function Rs(t){return ee(t).v_.size===0}function pP(t){t.O_=void 0}async function vL(t){t.C_.forEach((e,n)=>{Iv(t,e)})}async function _L(t,e){pP(t),Pv(t)?(t.x_.S_(e),Av(t)):t.x_.set("Unknown")}async function wL(t,e,n){if(t.x_.set("Online"),e instanceof ZA&&e.state===2&&e.cause)try{await async function(i,s){const o=s.cause;for(const a of s.targetIds)i.C_.has(a)&&(await i.remoteSyncer.rejectListen(a,o),i.C_.delete(a),i.O_.removeTarget(a))}(t,e)}catch(r){D("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),await xh(t,r)}else if(e instanceof Pc?t.O_.$e(e):e instanceof JA?t.O_.Je(e):t.O_.Ge(e),!n.isEqual(Z.min()))try{const r=await lP(t.localStore);n.compareTo(r)>=0&&await function(s,o){const a=s.O_.it(o);return a.targetChanges.forEach((l,u)=>{if(l.resumeToken.approximateByteSize()>0){const c=s.C_.get(u);c&&s.C_.set(u,c.withResumeToken(l.resumeToken,o))}}),a.targetMismatches.forEach((l,u)=>{const c=s.C_.get(l);if(!c)return;s.C_.set(l,c.withResumeToken(bt.EMPTY_BYTE_STRING,c.snapshotVersion)),fP(s,l);const h=new Yr(c.target,l,u,c.sequenceNumber);Iv(s,h)}),s.remoteSyncer.applyRemoteEvent(a)}(t,n)}catch(r){D("RemoteStore","Failed to raise snapshot:",r),await xh(t,r)}}async function xh(t,e,n){if(!lu(e))throw e;t.v_.add(1),await du(t),t.x_.set("Offline"),n||(n=()=>lP(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{D("RemoteStore","Retrying IndexedDB access"),await n(),t.v_.delete(1),await jd(t)})}function mP(t,e){return e().catch(n=>xh(t,n,e))}async function Md(t){const e=ee(t),n=wi(e);let r=e.D_.length>0?e.D_[e.D_.length-1].batchId:-1;for(;EL(e);)try{const i=await sL(e.localStore,r);if(i===null){e.D_.length===0&&n.Xo();break}r=i.batchId,TL(e,i)}catch(i){await xh(e,i)}gP(e)&&yP(e)}function EL(t){return Rs(t)&&t.D_.length<10}function TL(t,e){t.D_.push(e);const n=wi(t);n.Jo()&&n.P_&&n.I_(e.mutations)}function gP(t){return Rs(t)&&!wi(t).Ho()&&t.D_.length>0}function yP(t){wi(t).start()}async function SL(t){wi(t).d_()}async function xL(t){const e=wi(t);for(const n of t.D_)e.I_(n.mutations)}async function IL(t,e,n){const r=t.D_.shift(),i=_v.from(r,e,n);await mP(t,()=>t.remoteSyncer.applySuccessfulWrite(i)),await Md(t)}async function AL(t,e){e&&wi(t).P_&&await async function(r,i){if(function(o){return gM(o)&&o!==b.ABORTED}(i.code)){const s=r.D_.shift();wi(r).Zo(),await mP(r,()=>r.remoteSyncer.rejectFailedWrite(s.batchId,i)),await Md(r)}}(t,e),gP(t)&&yP(t)}async function s1(t,e){const n=ee(t);n.asyncQueue.verifyOperationInProgress(),D("RemoteStore","RemoteStore received new credentials");const r=Rs(n);n.v_.add(3),await du(n),r&&n.x_.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.v_.delete(3),await jd(n)}async function PL(t,e){const n=ee(t);e?(n.v_.delete(2),await jd(n)):e||(n.v_.add(2),await du(n),n.x_.set("Unknown"))}function Yo(t){return t.N_||(t.N_=function(n,r,i){const s=ee(n);return s.R_(),new fL(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)}(t.datastore,t.asyncQueue,{Po:vL.bind(null,t),To:_L.bind(null,t),u_:wL.bind(null,t)}),t.F_.push(async e=>{e?(t.N_.Zo(),Pv(t)?Av(t):t.x_.set("Unknown")):(await t.N_.stop(),pP(t))})),t.N_}function wi(t){return t.B_||(t.B_=function(n,r,i){const s=ee(n);return s.R_(),new pL(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)}(t.datastore,t.asyncQueue,{Po:SL.bind(null,t),To:AL.bind(null,t),E_:xL.bind(null,t),T_:IL.bind(null,t)}),t.F_.push(async e=>{e?(t.B_.Zo(),await Md(t)):(await t.B_.stop(),t.D_.length>0&&(D("RemoteStore",`Stopping write stream with ${t.D_.length} pending writes`),t.D_=[]))})),t.B_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cv{constructor(e,n,r,i,s){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=s,this.deferred=new ci,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(o=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,i,s){const o=Date.now()+r,a=new Cv(e,n,o,i,s);return a.start(r),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new L(b.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function bv(t,e){if(Zn("AsyncQueue",`${e}: ${t}`),lu(t))return new L(b.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vo{constructor(e){this.comparator=e?(n,r)=>e(n,r)||B.comparator(n.key,r.key):(n,r)=>B.comparator(n.key,r.key),this.keyedMap=Aa(),this.sortedSet=new De(this.comparator)}static emptySet(e){return new vo(e.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof vo)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const i=n.getNext().key,s=r.getNext().key;if(!i.isEqual(s))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new vo;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class o1{constructor(){this.L_=new De(B.comparator)}track(e){const n=e.doc.key,r=this.L_.get(n);r?e.type!==0&&r.type===3?this.L_=this.L_.insert(n,e):e.type===3&&r.type!==1?this.L_=this.L_.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.L_=this.L_.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.L_=this.L_.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.L_=this.L_.remove(n):e.type===1&&r.type===2?this.L_=this.L_.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.L_=this.L_.insert(n,{type:2,doc:e.doc}):X():this.L_=this.L_.insert(n,e)}k_(){const e=[];return this.L_.inorderTraversal((n,r)=>{e.push(r)}),e}}class Oo{constructor(e,n,r,i,s,o,a,l,u){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=s,this.fromCache=o,this.syncStateChanged=a,this.excludesMetadataChanges=l,this.hasCachedResults=u}static fromInitialDocuments(e,n,r,i,s){const o=[];return n.forEach(a=>{o.push({type:0,doc:a})}),new Oo(e,n,vo.emptySet(n),o,r,i,!0,!1,s)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Rd(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(n[i].type!==r[i].type||!n[i].doc.isEqual(r[i].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CL{constructor(){this.q_=void 0,this.Q_=[]}}class bL{constructor(){this.queries=new Xo(e=>MA(e),Rd),this.onlineState="Unknown",this.K_=new Set}}async function RL(t,e){const n=ee(t),r=e.query;let i=!1,s=n.queries.get(r);if(s||(i=!0,s=new CL),i)try{s.q_=await n.onListen(r)}catch(o){const a=bv(o,`Initialization of query '${Bs(e.query)}' failed`);return void e.onError(a)}n.queries.set(r,s),s.Q_.push(e),e.U_(n.onlineState),s.q_&&e.W_(s.q_)&&Rv(n)}async function kL(t,e){const n=ee(t),r=e.query;let i=!1;const s=n.queries.get(r);if(s){const o=s.Q_.indexOf(e);o>=0&&(s.Q_.splice(o,1),i=s.Q_.length===0)}if(i)return n.queries.delete(r),n.onUnlisten(r)}function NL(t,e){const n=ee(t);let r=!1;for(const i of e){const s=i.query,o=n.queries.get(s);if(o){for(const a of o.Q_)a.W_(i)&&(r=!0);o.q_=i}}r&&Rv(n)}function DL(t,e,n){const r=ee(t),i=r.queries.get(e);if(i)for(const s of i.Q_)s.onError(n);r.queries.delete(e)}function Rv(t){t.K_.forEach(e=>{e.next()})}class OL{constructor(e,n,r){this.query=e,this.G_=n,this.z_=!1,this.j_=null,this.onlineState="Unknown",this.options=r||{}}W_(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)i.type!==3&&r.push(i);e=new Oo(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.z_?this.H_(e)&&(this.G_.next(e),n=!0):this.J_(e,this.onlineState)&&(this.Y_(e),n=!0),this.j_=e,n}onError(e){this.G_.error(e)}U_(e){this.onlineState=e;let n=!1;return this.j_&&!this.z_&&this.J_(this.j_,e)&&(this.Y_(this.j_),n=!0),n}J_(e,n){if(!e.fromCache)return!0;const r=n!=="Offline";return(!this.options.Z_||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}H_(e){if(e.docChanges.length>0)return!0;const n=this.j_&&this.j_.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}Y_(e){e=Oo.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.z_=!0,this.G_.next(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vP{constructor(e){this.key=e}}class _P{constructor(e){this.key=e}}class VL{constructor(e,n){this.query=e,this.oa=n,this._a=null,this.hasCachedResults=!1,this.current=!1,this.aa=ne(),this.mutatedKeys=ne(),this.ua=LA(e),this.ca=new vo(this.ua)}get la(){return this.oa}ha(e,n){const r=n?n.Pa:new o1,i=n?n.ca:this.ca;let s=n?n.mutatedKeys:this.mutatedKeys,o=i,a=!1;const l=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,u=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((c,h)=>{const d=i.get(c),p=kd(this.query,h)?h:null,g=!!d&&this.mutatedKeys.has(d.key),_=!!p&&(p.hasLocalMutations||this.mutatedKeys.has(p.key)&&p.hasCommittedMutations);let w=!1;d&&p?d.data.isEqual(p.data)?g!==_&&(r.track({type:3,doc:p}),w=!0):this.Ia(d,p)||(r.track({type:2,doc:p}),w=!0,(l&&this.ua(p,l)>0||u&&this.ua(p,u)<0)&&(a=!0)):!d&&p?(r.track({type:0,doc:p}),w=!0):d&&!p&&(r.track({type:1,doc:d}),w=!0,(l||u)&&(a=!0)),w&&(p?(o=o.add(p),s=_?s.add(c):s.delete(c)):(o=o.delete(c),s=s.delete(c)))}),this.query.limit!==null)for(;o.size>this.query.limit;){const c=this.query.limitType==="F"?o.last():o.first();o=o.delete(c.key),s=s.delete(c.key),r.track({type:1,doc:c})}return{ca:o,Pa:r,Xi:a,mutatedKeys:s}}Ia(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,i){const s=this.ca;this.ca=e.ca,this.mutatedKeys=e.mutatedKeys;const o=e.Pa.k_();o.sort((c,h)=>function(p,g){const _=w=>{switch(w){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return X()}};return _(p)-_(g)}(c.type,h.type)||this.ua(c.doc,h.doc)),this.Ta(r),i=i!=null&&i;const a=n&&!i?this.Ea():[],l=this.aa.size===0&&this.current&&!i?1:0,u=l!==this._a;return this._a=l,o.length!==0||u?{snapshot:new Oo(this.query,e.ca,s,o,e.mutatedKeys,l===0,u,!1,!!r&&r.resumeToken.approximateByteSize()>0),da:a}:{da:a}}U_(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({ca:this.ca,Pa:new o1,mutatedKeys:this.mutatedKeys,Xi:!1},!1)):{da:[]}}Aa(e){return!this.oa.has(e)&&!!this.ca.has(e)&&!this.ca.get(e).hasLocalMutations}Ta(e){e&&(e.addedDocuments.forEach(n=>this.oa=this.oa.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.oa=this.oa.delete(n)),this.current=e.current)}Ea(){if(!this.current)return[];const e=this.aa;this.aa=ne(),this.ca.forEach(r=>{this.Aa(r.key)&&(this.aa=this.aa.add(r.key))});const n=[];return e.forEach(r=>{this.aa.has(r)||n.push(new _P(r))}),this.aa.forEach(r=>{e.has(r)||n.push(new vP(r))}),n}Ra(e){this.oa=e.hs,this.aa=ne();const n=this.ha(e.documents);return this.applyChanges(n,!0)}Va(){return Oo.fromInitialDocuments(this.query,this.ca,this.mutatedKeys,this._a===0,this.hasCachedResults)}}class jL{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class ML{constructor(e){this.key=e,this.ma=!1}}class LL{constructor(e,n,r,i,s,o){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=s,this.maxConcurrentLimboResolutions=o,this.fa={},this.ga=new Xo(a=>MA(a),Rd),this.pa=new Map,this.ya=new Set,this.wa=new De(B.comparator),this.Sa=new Map,this.ba=new Tv,this.Da={},this.Ca=new Map,this.va=Do.Bn(),this.onlineState="Unknown",this.Fa=void 0}get isPrimaryClient(){return this.Fa===!0}}async function FL(t,e){const n=QL(t);let r,i;const s=n.ga.get(e);if(s)r=s.targetId,n.sharedClientState.addLocalQueryTarget(r),i=s.view.Va();else{const o=await oL(n.localStore,Gn(e)),a=n.sharedClientState.addLocalQueryTarget(o.targetId);r=o.targetId,i=await $L(n,e,r,a==="current",o.resumeToken),n.isPrimaryClient&&hP(n.remoteStore,o)}return i}async function $L(t,e,n,r,i){t.Ma=(h,d,p)=>async function(_,w,v,m){let y=w.view.ha(v);y.Xi&&(y=await n1(_.localStore,w.query,!1).then(({documents:I})=>w.view.ha(I,y)));const T=m&&m.targetChanges.get(w.targetId),S=m&&m.targetMismatches.get(w.targetId)!=null,x=w.view.applyChanges(y,_.isPrimaryClient,T,S);return l1(_,w.targetId,x.da),x.snapshot}(t,h,d,p);const s=await n1(t.localStore,e,!0),o=new VL(e,s.hs),a=o.ha(s.documents),l=hu.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",i),u=o.applyChanges(a,t.isPrimaryClient,l);l1(t,n,u.da);const c=new jL(e,n,o);return t.ga.set(e,c),t.pa.has(n)?t.pa.get(n).push(e):t.pa.set(n,[e]),u.snapshot}async function UL(t,e){const n=ee(t),r=n.ga.get(e),i=n.pa.get(r.targetId);if(i.length>1)return n.pa.set(r.targetId,i.filter(s=>!Rd(s,e))),void n.ga.delete(e);n.isPrimaryClient?(n.sharedClientState.removeLocalQueryTarget(r.targetId),n.sharedClientState.isActiveQueryTarget(r.targetId)||await ag(n.localStore,r.targetId,!1).then(()=>{n.sharedClientState.clearQueryState(r.targetId),dP(n.remoteStore,r.targetId),lg(n,r.targetId)}).catch(au)):(lg(n,r.targetId),await ag(n.localStore,r.targetId,!0))}async function BL(t,e,n){const r=XL(t);try{const i=await function(o,a){const l=ee(o),u=Je.now(),c=a.reduce((p,g)=>p.add(g.key),ne());let h,d;return l.persistence.runTransaction("Locally write mutations","readwrite",p=>{let g=Ir(),_=ne();return l.os.getEntries(p,c).next(w=>{g=w,g.forEach((v,m)=>{m.isValidDocument()||(_=_.add(v))})}).next(()=>l.localDocuments.getOverlayedDocuments(p,g)).next(w=>{h=w;const v=[];for(const m of a){const y=hM(m,h.get(m.key).overlayedDocument);y!=null&&v.push(new ki(m.key,y,bA(y.value.mapValue),qn.exists(!0)))}return l.mutationQueue.addMutationBatch(p,u,v,a)}).next(w=>{d=w;const v=w.applyToLocalDocumentSet(h,_);return l.documentOverlayCache.saveOverlays(p,w.batchId,v)})}).then(()=>({batchId:d.batchId,changes:$A(h)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(o,a,l){let u=o.Da[o.currentUser.toKey()];u||(u=new De(ue)),u=u.insert(a,l),o.Da[o.currentUser.toKey()]=u}(r,i.batchId,n),await fu(r,i.changes),await Md(r.remoteStore)}catch(i){const s=bv(i,"Failed to persist write");n.reject(s)}}async function wP(t,e){const n=ee(t);try{const r=await rL(n.localStore,e);e.targetChanges.forEach((i,s)=>{const o=n.Sa.get(s);o&&(ve(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1),i.addedDocuments.size>0?o.ma=!0:i.modifiedDocuments.size>0?ve(o.ma):i.removedDocuments.size>0&&(ve(o.ma),o.ma=!1))}),await fu(n,r,e)}catch(r){await au(r)}}function a1(t,e,n){const r=ee(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const i=[];r.ga.forEach((s,o)=>{const a=o.view.U_(e);a.snapshot&&i.push(a.snapshot)}),function(o,a){const l=ee(o);l.onlineState=a;let u=!1;l.queries.forEach((c,h)=>{for(const d of h.Q_)d.U_(a)&&(u=!0)}),u&&Rv(l)}(r.eventManager,e),i.length&&r.fa.u_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function zL(t,e,n){const r=ee(t);r.sharedClientState.updateQueryState(e,"rejected",n);const i=r.Sa.get(e),s=i&&i.key;if(s){let o=new De(B.comparator);o=o.insert(s,It.newNoDocument(s,Z.min()));const a=ne().add(s),l=new Od(Z.min(),new Map,new De(ue),o,a);await wP(r,l),r.wa=r.wa.remove(s),r.Sa.delete(e),kv(r)}else await ag(r.localStore,e,!1).then(()=>lg(r,e,n)).catch(au)}async function WL(t,e){const n=ee(t),r=e.batch.batchId;try{const i=await nL(n.localStore,e);TP(n,r,null),EP(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await fu(n,i)}catch(i){await au(i)}}async function HL(t,e,n){const r=ee(t);try{const i=await function(o,a){const l=ee(o);return l.persistence.runTransaction("Reject batch","readwrite-primary",u=>{let c;return l.mutationQueue.lookupMutationBatch(u,a).next(h=>(ve(h!==null),c=h.keys(),l.mutationQueue.removeMutationBatch(u,h))).next(()=>l.mutationQueue.performConsistencyCheck(u)).next(()=>l.documentOverlayCache.removeOverlaysForBatchId(u,c,a)).next(()=>l.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(u,c)).next(()=>l.localDocuments.getDocuments(u,c))})}(r.localStore,e);TP(r,e,n),EP(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await fu(r,i)}catch(i){await au(i)}}function EP(t,e){(t.Ca.get(e)||[]).forEach(n=>{n.resolve()}),t.Ca.delete(e)}function TP(t,e,n){const r=ee(t);let i=r.Da[r.currentUser.toKey()];if(i){const s=i.get(e);s&&(n?s.reject(n):s.resolve(),i=i.remove(e)),r.Da[r.currentUser.toKey()]=i}}function lg(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.pa.get(e))t.ga.delete(r),n&&t.fa.xa(r,n);t.pa.delete(e),t.isPrimaryClient&&t.ba.Vr(e).forEach(r=>{t.ba.containsKey(r)||SP(t,r)})}function SP(t,e){t.ya.delete(e.path.canonicalString());const n=t.wa.get(e);n!==null&&(dP(t.remoteStore,n),t.wa=t.wa.remove(e),t.Sa.delete(n),kv(t))}function l1(t,e,n){for(const r of n)r instanceof vP?(t.ba.addReference(r.key,e),GL(t,r)):r instanceof _P?(D("SyncEngine","Document no longer in limbo: "+r.key),t.ba.removeReference(r.key,e),t.ba.containsKey(r.key)||SP(t,r.key)):X()}function GL(t,e){const n=e.key,r=n.path.canonicalString();t.wa.get(n)||t.ya.has(r)||(D("SyncEngine","New document in limbo: "+n),t.ya.add(r),kv(t))}function kv(t){for(;t.ya.size>0&&t.wa.size<t.maxConcurrentLimboResolutions;){const e=t.ya.values().next().value;t.ya.delete(e);const n=new B(xe.fromString(e)),r=t.va.next();t.Sa.set(r,new ML(n)),t.wa=t.wa.insert(n,r),hP(t.remoteStore,new Yr(Gn(vv(n.path)),r,"TargetPurposeLimboResolution",dv._e))}}async function fu(t,e,n){const r=ee(t),i=[],s=[],o=[];r.ga.isEmpty()||(r.ga.forEach((a,l)=>{o.push(r.Ma(l,e,n).then(u=>{if((u||n)&&r.isPrimaryClient&&r.sharedClientState.updateQueryState(l.targetId,u!=null&&u.fromCache?"not-current":"current"),u){i.push(u);const c=xv.Ki(l.targetId,u);s.push(c)}}))}),await Promise.all(o),r.fa.u_(i),await async function(l,u){const c=ee(l);try{await c.persistence.runTransaction("notifyLocalViewChanges","readwrite",h=>R.forEach(u,d=>R.forEach(d.qi,p=>c.persistence.referenceDelegate.addReference(h,d.targetId,p)).next(()=>R.forEach(d.Qi,p=>c.persistence.referenceDelegate.removeReference(h,d.targetId,p)))))}catch(h){if(!lu(h))throw h;D("LocalStore","Failed to update sequence numbers: "+h)}for(const h of u){const d=h.targetId;if(!h.fromCache){const p=c.ns.get(d),g=p.snapshotVersion,_=p.withLastLimboFreeSnapshotVersion(g);c.ns=c.ns.insert(d,_)}}}(r.localStore,s))}async function qL(t,e){const n=ee(t);if(!n.currentUser.isEqual(e)){D("SyncEngine","User change. New user:",e.toKey());const r=await aP(n.localStore,e);n.currentUser=e,function(s,o){s.Ca.forEach(a=>{a.forEach(l=>{l.reject(new L(b.CANCELLED,o))})}),s.Ca.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await fu(n,r.us)}}function KL(t,e){const n=ee(t),r=n.Sa.get(e);if(r&&r.ma)return ne().add(r.key);{let i=ne();const s=n.pa.get(e);if(!s)return i;for(const o of s){const a=n.ga.get(o);i=i.unionWith(a.view.la)}return i}}function QL(t){const e=ee(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=wP.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=KL.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=zL.bind(null,e),e.fa.u_=NL.bind(null,e.eventManager),e.fa.xa=DL.bind(null,e.eventManager),e}function XL(t){const e=ee(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=WL.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=HL.bind(null,e),e}class u1{constructor(){this.synchronizeTabs=!1}async initialize(e){this.serializer=Vd(e.databaseInfo.databaseId),this.sharedClientState=this.createSharedClientState(e),this.persistence=this.createPersistence(e),await this.persistence.start(),this.localStore=this.createLocalStore(e),this.gcScheduler=this.createGarbageCollectionScheduler(e,this.localStore),this.indexBackfillerScheduler=this.createIndexBackfillerScheduler(e,this.localStore)}createGarbageCollectionScheduler(e,n){return null}createIndexBackfillerScheduler(e,n){return null}createLocalStore(e){return tL(this.persistence,new ZM,e.initialUser,this.serializer)}createPersistence(e){return new XM(Sv.Hr,this.serializer)}createSharedClientState(e){return new lL}async terminate(){var e,n;(e=this.gcScheduler)===null||e===void 0||e.stop(),(n=this.indexBackfillerScheduler)===null||n===void 0||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}class YL{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>a1(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=qL.bind(null,this.syncEngine),await PL(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new bL}()}createDatastore(e){const n=Vd(e.databaseInfo.databaseId),r=function(s){return new dL(s)}(e.databaseInfo);return function(s,o,a,l){return new mL(s,o,a,l)}(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return function(r,i,s,o,a){return new yL(r,i,s,o,a)}(this.localStore,this.datastore,e.asyncQueue,n=>a1(this.syncEngine,n,0),function(){return i1.D()?new i1:new uL}())}createSyncEngine(e,n){return function(i,s,o,a,l,u,c){const h=new LL(i,s,o,a,l,u);return c&&(h.Fa=!0),h}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e;await async function(r){const i=ee(r);D("RemoteStore","RemoteStore shutting down."),i.v_.add(5),await du(i),i.M_.shutdown(),i.x_.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JL{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Ba(this.observer.next,e)}error(e){this.observer.error?this.Ba(this.observer.error,e):Zn("Uncaught Error in snapshot listener:",e.toString())}La(){this.muted=!0}Ba(e,n){this.muted||setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZL{constructor(e,n,r,i){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=St.UNAUTHENTICATED,this.clientId=AA.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(r,async s=>{D("FirestoreClient","Received user=",s.uid),await this.authCredentialListener(s),this.user=s}),this.appCheckCredentials.start(r,s=>(D("FirestoreClient","Received new app check token=",s),this.appCheckCredentialListener(s,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new L(b.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){this.asyncQueue.enterRestrictedMode();const e=new ci;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=bv(n,"Failed to shutdown persistence");e.reject(r)}}),e.promise}}async function dp(t,e){t.asyncQueue.verifyOperationInProgress(),D("FirestoreClient","Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(async i=>{r.isEqual(i)||(await aP(e.localStore,i),r=i)}),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}async function c1(t,e){t.asyncQueue.verifyOperationInProgress();const n=await tF(t);D("FirestoreClient","Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener(r=>s1(e.remoteStore,r)),t.setAppCheckTokenChangeListener((r,i)=>s1(e.remoteStore,i)),t._onlineComponents=e}function eF(t){return t.name==="FirebaseError"?t.code===b.FAILED_PRECONDITION||t.code===b.UNIMPLEMENTED:!(typeof DOMException<"u"&&t instanceof DOMException)||t.code===22||t.code===20||t.code===11}async function tF(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){D("FirestoreClient","Using user provided OfflineComponentProvider");try{await dp(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!eF(n))throw n;bo("Error using user provided cache. Falling back to memory cache: "+n),await dp(t,new u1)}}else D("FirestoreClient","Using default OfflineComponentProvider"),await dp(t,new u1);return t._offlineComponents}async function xP(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(D("FirestoreClient","Using user provided OnlineComponentProvider"),await c1(t,t._uninitializedComponentsProvider._online)):(D("FirestoreClient","Using default OnlineComponentProvider"),await c1(t,new YL))),t._onlineComponents}function nF(t){return xP(t).then(e=>e.syncEngine)}async function h1(t){const e=await xP(t),n=e.eventManager;return n.onListen=FL.bind(null,e.syncEngine),n.onUnlisten=UL.bind(null,e.syncEngine),n}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function IP(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const d1=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function AP(t,e,n){if(!n)throw new L(b.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function rF(t,e,n,r){if(e===!0&&r===!0)throw new L(b.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function f1(t){if(!B.isDocumentKey(t))throw new L(b.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function p1(t){if(B.isDocumentKey(t))throw new L(b.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function Ld(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(r){return r.constructor?r.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":X()}function as(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new L(b.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=Ld(t);throw new L(b.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class m1{constructor(e){var n,r;if(e.host===void 0){if(e.ssl!==void 0)throw new L(b.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(n=e.ssl)===null||n===void 0||n;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new L(b.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}rF("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=IP((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(s){if(s.timeoutSeconds!==void 0){if(isNaN(s.timeoutSeconds))throw new L(b.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new L(b.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new L(b.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,i){return r.timeoutSeconds===i.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Fd{constructor(e,n,r,i){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new m1({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new L(b.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!==void 0}_setSettings(e){if(this._settingsFrozen)throw new L(b.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new m1(e),e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new wj;switch(r.type){case"firstParty":return new xj(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new L(b.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const r=d1.get(n);r&&(D("ComponentProvider","Removing Datastore"),d1.delete(n),r.terminate())}(this),Promise.resolve()}}function iF(t,e,n,r={}){var i;const s=(t=as(t,Fd))._getSettings(),o=`${e}:${n}`;if(s.host!=="firestore.googleapis.com"&&s.host!==o&&bo("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),t._setSettings(Object.assign(Object.assign({},s),{host:o,ssl:!1})),r.mockUserToken){let a,l;if(typeof r.mockUserToken=="string")a=r.mockUserToken,l=St.MOCK_USER;else{a=mI(r.mockUserToken,(i=t._app)===null||i===void 0?void 0:i.options.projectId);const u=r.mockUserToken.sub||r.mockUserToken.user_id;if(!u)throw new L(b.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");l=new St(u)}t._authCredentials=new Ej(new IA(a,l))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jo{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new Jo(this.firestore,e,this._query)}}class Kt{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new hi(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Kt(this.firestore,e,this._key)}}class hi extends Jo{constructor(e,n,r){super(e,n,vv(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Kt(this.firestore,null,new B(e))}withConverter(e){return new hi(this.firestore,e,this._path)}}function Nl(t,e,...n){if(t=je(t),AP("collection","path",e),t instanceof Fd){const r=xe.fromString(e,...n);return p1(r),new hi(t,null,r)}{if(!(t instanceof Kt||t instanceof hi))throw new L(b.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(xe.fromString(e,...n));return p1(r),new hi(t.firestore,null,r)}}function PP(t,e,...n){if(t=je(t),arguments.length===1&&(e=AA.newId()),AP("doc","path",e),t instanceof Fd){const r=xe.fromString(e,...n);return f1(r),new Kt(t,null,new B(r))}{if(!(t instanceof Kt||t instanceof hi))throw new L(b.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(xe.fromString(e,...n));return f1(r),new Kt(t.firestore,t instanceof hi?t.converter:null,new B(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sF{constructor(){this.Xa=Promise.resolve(),this.eu=[],this.tu=!1,this.nu=[],this.ru=null,this.iu=!1,this.su=!1,this.ou=[],this.jo=new uP(this,"async_queue_retry"),this._u=()=>{const n=hp();n&&D("AsyncQueue","Visibility state changed to "+n.visibilityState),this.jo.Ko()};const e=hp();e&&typeof e.addEventListener=="function"&&e.addEventListener("visibilitychange",this._u)}get isShuttingDown(){return this.tu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.au(),this.uu(e)}enterRestrictedMode(e){if(!this.tu){this.tu=!0,this.su=e||!1;const n=hp();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this._u)}}enqueue(e){if(this.au(),this.tu)return new Promise(()=>{});const n=new ci;return this.uu(()=>this.tu&&this.su?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.eu.push(e),this.cu()))}async cu(){if(this.eu.length!==0){try{await this.eu[0](),this.eu.shift(),this.jo.reset()}catch(e){if(!lu(e))throw e;D("AsyncQueue","Operation failed with retryable error: "+e)}this.eu.length>0&&this.jo.qo(()=>this.cu())}}uu(e){const n=this.Xa.then(()=>(this.iu=!0,e().catch(r=>{this.ru=r,this.iu=!1;const i=function(o){let a=o.message||"";return o.stack&&(a=o.stack.includes(o.message)?o.stack:o.message+`
`+o.stack),a}(r);throw Zn("INTERNAL UNHANDLED ERROR: ",i),r}).then(r=>(this.iu=!1,r))));return this.Xa=n,n}enqueueAfterDelay(e,n,r){this.au(),this.ou.indexOf(e)>-1&&(n=0);const i=Cv.createAndSchedule(this,e,n,r,s=>this.lu(s));return this.nu.push(i),i}au(){this.ru&&X()}verifyOperationInProgress(){}async hu(){let e;do e=this.Xa,await e;while(e!==this.Xa)}Pu(e){for(const n of this.nu)if(n.timerId===e)return!0;return!1}Iu(e){return this.hu().then(()=>{this.nu.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this.nu)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.hu()})}Tu(e){this.ou.push(e)}lu(e){const n=this.nu.indexOf(e);this.nu.splice(n,1)}}function g1(t){return function(n,r){if(typeof n!="object"||n===null)return!1;const i=n;for(const s of r)if(s in i&&typeof i[s]=="function")return!0;return!1}(t,["next","error","complete"])}class Dl extends Fd{constructor(e,n,r,i){super(e,n,r,i),this.type="firestore",this._queue=function(){return new sF}(),this._persistenceKey=(i==null?void 0:i.name)||"[DEFAULT]"}_terminate(){return this._firestoreClient||bP(this),this._firestoreClient.terminate()}}function oF(t,e){const n=typeof t=="object"?t:$y(),r=typeof t=="string"?t:e||"(default)",i=dd(n,"firestore").getImmediate({identifier:r});if(!i._initialized){const s=dI("firestore");s&&iF(i,...s)}return i}function CP(t){return t._firestoreClient||bP(t),t._firestoreClient.verifyNotTerminated(),t._firestoreClient}function bP(t){var e,n,r;const i=t._freezeSettings(),s=function(a,l,u,c){return new Lj(a,l,u,c.host,c.ssl,c.experimentalForceLongPolling,c.experimentalAutoDetectLongPolling,IP(c.experimentalLongPollingOptions),c.useFetchStreams)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,i);t._firestoreClient=new ZL(t._authCredentials,t._appCheckCredentials,t._queue,s),!((n=i.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((r=i.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(t._firestoreClient._uninitializedComponentsProvider={_offlineKind:i.localCache.kind,_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vo{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Vo(bt.fromBase64String(e))}catch(n){throw new L(b.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new Vo(bt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $d{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new L(b.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new ft(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nv{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dv{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new L(b.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new L(b.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return ue(this._lat,e._lat)||ue(this._long,e._long)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aF=/^__.*__$/;class lF{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new ki(e,this.data,this.fieldMask,n,this.fieldTransforms):new cu(e,this.data,n,this.fieldTransforms)}}class RP{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return new ki(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function kP(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw X()}}class Ov{constructor(e,n,r,i,s,o){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=i,s===void 0&&this.Eu(),this.fieldTransforms=s||[],this.fieldMask=o||[]}get path(){return this.settings.path}get du(){return this.settings.du}Au(e){return new Ov(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Ru(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.Au({path:r,Vu:!1});return i.mu(e),i}fu(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.Au({path:r,Vu:!1});return i.Eu(),i}gu(e){return this.Au({path:void 0,Vu:!0})}pu(e){return Ih(e,this.settings.methodName,this.settings.yu||!1,this.path,this.settings.wu)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}Eu(){if(this.path)for(let e=0;e<this.path.length;e++)this.mu(this.path.get(e))}mu(e){if(e.length===0)throw this.pu("Document fields must not be empty");if(kP(this.du)&&aF.test(e))throw this.pu('Document fields cannot begin and end with "__"')}}class uF{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||Vd(e)}Su(e,n,r,i=!1){return new Ov({du:e,methodName:n,wu:r,path:ft.emptyPath(),Vu:!1,yu:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Vv(t){const e=t._freezeSettings(),n=Vd(t._databaseId);return new uF(t._databaseId,!!e.ignoreUndefinedProperties,n)}function cF(t,e,n,r,i,s={}){const o=t.Su(s.merge||s.mergeFields?2:0,e,n,i);jv("Data must be an object, but it was:",o,r);const a=NP(r,o);let l,u;if(s.merge)l=new Zt(o.fieldMask),u=o.fieldTransforms;else if(s.mergeFields){const c=[];for(const h of s.mergeFields){const d=ug(e,h,n);if(!o.contains(d))throw new L(b.INVALID_ARGUMENT,`Field '${d}' is specified in your field mask but missing from your input data.`);OP(c,d)||c.push(d)}l=new Zt(c),u=o.fieldTransforms.filter(h=>l.covers(h.field))}else l=null,u=o.fieldTransforms;return new lF(new zt(a),l,u)}class Ud extends Nv{_toFieldTransform(e){if(e.du!==2)throw e.du===1?e.pu(`${this._methodName}() can only appear at the top level of your update data`):e.pu(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Ud}}function hF(t,e,n,r){const i=t.Su(1,e,n);jv("Data must be an object, but it was:",i,r);const s=[],o=zt.empty();bs(r,(l,u)=>{const c=Mv(e,l,n);u=je(u);const h=i.fu(c);if(u instanceof Ud)s.push(c);else{const d=pu(u,h);d!=null&&(s.push(c),o.set(c,d))}});const a=new Zt(s);return new RP(o,a,i.fieldTransforms)}function dF(t,e,n,r,i,s){const o=t.Su(1,e,n),a=[ug(e,r,n)],l=[i];if(s.length%2!=0)throw new L(b.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let d=0;d<s.length;d+=2)a.push(ug(e,s[d])),l.push(s[d+1]);const u=[],c=zt.empty();for(let d=a.length-1;d>=0;--d)if(!OP(u,a[d])){const p=a[d];let g=l[d];g=je(g);const _=o.fu(p);if(g instanceof Ud)u.push(p);else{const w=pu(g,_);w!=null&&(u.push(p),c.set(p,w))}}const h=new Zt(u);return new RP(c,h,o.fieldTransforms)}function fF(t,e,n,r=!1){return pu(n,t.Su(r?4:3,e))}function pu(t,e){if(DP(t=je(t)))return jv("Unsupported field value:",e,t),NP(t,e);if(t instanceof Nv)return function(r,i){if(!kP(i.du))throw i.pu(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.pu(`${r._methodName}() is not currently supported inside arrays`);const s=r._toFieldTransform(i);s&&i.fieldTransforms.push(s)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.Vu&&e.du!==4)throw e.pu("Nested arrays are not supported");return function(r,i){const s=[];let o=0;for(const a of r){let l=pu(a,i.gu(o));l==null&&(l={nullValue:"NULL_VALUE"}),s.push(l),o++}return{arrayValue:{values:s}}}(t,e)}return function(r,i){if((r=je(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return sM(i.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const s=Je.fromDate(r);return{timestampValue:Sh(i.serializer,s)}}if(r instanceof Je){const s=new Je(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:Sh(i.serializer,s)}}if(r instanceof Dv)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof Vo)return{bytesValue:eP(i.serializer,r._byteString)};if(r instanceof Kt){const s=i.databaseId,o=r.firestore._databaseId;if(!o.isEqual(s))throw i.pu(`Document reference is for database ${o.projectId}/${o.database} but should be for database ${s.projectId}/${s.database}`);return{referenceValue:Ev(r.firestore._databaseId||i.databaseId,r._key.path)}}throw i.pu(`Unsupported field value: ${Ld(r)}`)}(t,e)}function NP(t,e){const n={};return PA(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):bs(t,(r,i)=>{const s=pu(i,e.Ru(r));s!=null&&(n[r]=s)}),{mapValue:{fields:n}}}function DP(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof Je||t instanceof Dv||t instanceof Vo||t instanceof Kt||t instanceof Nv)}function jv(t,e,n){if(!DP(n)||!function(i){return typeof i=="object"&&i!==null&&(Object.getPrototypeOf(i)===Object.prototype||Object.getPrototypeOf(i)===null)}(n)){const r=Ld(n);throw r==="an object"?e.pu(t+" a custom object"):e.pu(t+" "+r)}}function ug(t,e,n){if((e=je(e))instanceof $d)return e._internalPath;if(typeof e=="string")return Mv(t,e);throw Ih("Field path arguments must be of type string or ",t,!1,void 0,n)}const pF=new RegExp("[~\\*/\\[\\]]");function Mv(t,e,n){if(e.search(pF)>=0)throw Ih(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new $d(...e.split("."))._internalPath}catch{throw Ih(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function Ih(t,e,n,r,i){const s=r&&!r.isEmpty(),o=i!==void 0;let a=`Function ${e}() called with invalid data`;n&&(a+=" (via `toFirestore()`)"),a+=". ";let l="";return(s||o)&&(l+=" (found",s&&(l+=` in field ${r}`),o&&(l+=` in document ${i}`),l+=")"),new L(b.INVALID_ARGUMENT,a+t+l)}function OP(t,e){return t.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VP{constructor(e,n,r,i,s){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=i,this._converter=s}get id(){return this._key.path.lastSegment()}get ref(){return new Kt(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new mF(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(Lv("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class mF extends VP{data(){return super.data()}}function Lv(t,e){return typeof e=="string"?Mv(t,e):e instanceof $d?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gF(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new L(b.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Fv{}class yF extends Fv{}function jP(t,e,...n){let r=[];e instanceof Fv&&r.push(e),r=r.concat(n),function(s){const o=s.filter(l=>l instanceof $v).length,a=s.filter(l=>l instanceof Bd).length;if(o>1||o>0&&a>0)throw new L(b.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(const i of r)t=i._apply(t);return t}class Bd extends yF{constructor(e,n,r){super(),this._field=e,this._op=n,this._value=r,this.type="where"}static _create(e,n,r){return new Bd(e,n,r)}_apply(e){const n=this._parse(e);return LP(e._query,n),new Jo(e.firestore,e.converter,tg(e._query,n))}_parse(e){const n=Vv(e.firestore);return function(s,o,a,l,u,c,h){let d;if(u.isKeyField()){if(c==="array-contains"||c==="array-contains-any")throw new L(b.INVALID_ARGUMENT,`Invalid Query. You can't perform '${c}' queries on documentId().`);if(c==="in"||c==="not-in"){v1(h,c);const p=[];for(const g of h)p.push(y1(l,s,g));d={arrayValue:{values:p}}}else d=y1(l,s,h)}else c!=="in"&&c!=="not-in"&&c!=="array-contains-any"||v1(h,c),d=fF(a,o,h,c==="in"||c==="not-in");return qe.create(u,c,d)}(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}function MP(t,e,n){const r=e,i=Lv("where",t);return Bd._create(i,r,n)}class $v extends Fv{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new $v(e,n)}_parse(e){const n=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return n.length===1?n[0]:kn.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:(function(i,s){let o=i;const a=s.getFlattenedFilters();for(const l of a)LP(o,l),o=tg(o,l)}(e._query,n),new Jo(e.firestore,e.converter,tg(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}function y1(t,e,n){if(typeof(n=je(n))=="string"){if(n==="")throw new L(b.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!jA(e)&&n.indexOf("/")!==-1)throw new L(b.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=e.path.child(xe.fromString(n));if(!B.isDocumentKey(r))throw new L(b.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return Fw(t,new B(r))}if(n instanceof Kt)return Fw(t,n._key);throw new L(b.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Ld(n)}.`)}function v1(t,e){if(!Array.isArray(t)||t.length===0)throw new L(b.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function LP(t,e){const n=function(i,s){for(const o of i)for(const a of o.getFlattenedFilters())if(s.indexOf(a.op)>=0)return a.op;return null}(t.filters,function(i){switch(i){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(n!==null)throw n===e.op?new L(b.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new L(b.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}class vF{convertValue(e,n="none"){switch(ws(e)){case 0:return null;case 1:return e.booleanValue;case 2:return He(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(_s(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 10:return this.convertObject(e.mapValue,n);default:throw X()}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return bs(e,(i,s)=>{r[i]=this.convertValue(s,n)}),r}convertGeoPoint(e){return new Dv(He(e.latitude),He(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":const r=pv(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(Pl(e));default:return null}}convertTimestamp(e){const n=_i(e);return new Je(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=xe.fromString(e);ve(oP(r));const i=new Cl(r.get(1),r.get(3)),s=new B(r.popFirst(5));return i.isEqual(n)||Zn(`Document ${s} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _F(t,e,n){let r;return r=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ca{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class FP extends VP{constructor(e,n,r,i,s,o){super(e,n,r,i,o),this._firestore=e,this._firestoreImpl=e,this.metadata=s}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new Cc(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(Lv("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}}class Cc extends FP{data(e={}){return super.data(e)}}class wF{constructor(e,n,r,i){this._firestore=e,this._userDataWriter=n,this._snapshot=i,this.metadata=new Ca(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new Cc(this._firestore,this._userDataWriter,r.key,r,new Ca(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new L(b.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(i,s){if(i._snapshot.oldDocs.isEmpty()){let o=0;return i._snapshot.docChanges.map(a=>{const l=new Cc(i._firestore,i._userDataWriter,a.doc.key,a.doc,new Ca(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter);return a.doc,{type:"added",doc:l,oldIndex:-1,newIndex:o++}})}{let o=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(a=>s||a.type!==3).map(a=>{const l=new Cc(i._firestore,i._userDataWriter,a.doc.key,a.doc,new Ca(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter);let u=-1,c=-1;return a.type!==0&&(u=o.indexOf(a.doc.key),o=o.delete(a.doc.key)),a.type!==1&&(o=o.add(a.doc),c=o.indexOf(a.doc.key)),{type:EF(a.type),doc:l,oldIndex:u,newIndex:c}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function EF(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return X()}}class $P extends vF{constructor(e){super(),this.firestore=e}convertBytes(e){return new Vo(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new Kt(this.firestore,null,n)}}function TF(t,e,n,...r){t=as(t,Kt);const i=as(t.firestore,Dl),s=Vv(i);let o;return o=typeof(e=je(e))=="string"||e instanceof $d?dF(s,"updateDoc",t._key,e,n,r):hF(s,"updateDoc",t._key,e),BP(i,[o.toMutation(t._key,qn.exists(!0))])}function cg(t,e){const n=as(t.firestore,Dl),r=PP(t),i=_F(t.converter,e);return BP(n,[cF(Vv(t.firestore),"addDoc",r._key,i,t.converter!==null,{}).toMutation(r._key,qn.exists(!1))]).then(()=>r)}function UP(t,...e){var n,r,i;t=je(t);let s={includeMetadataChanges:!1},o=0;typeof e[o]!="object"||g1(e[o])||(s=e[o],o++);const a={includeMetadataChanges:s.includeMetadataChanges};if(g1(e[o])){const h=e[o];e[o]=(n=h.next)===null||n===void 0?void 0:n.bind(h),e[o+1]=(r=h.error)===null||r===void 0?void 0:r.bind(h),e[o+2]=(i=h.complete)===null||i===void 0?void 0:i.bind(h)}let l,u,c;if(t instanceof Kt)u=as(t.firestore,Dl),c=vv(t._key.path),l={next:h=>{e[o]&&e[o](SF(u,t,h))},error:e[o+1],complete:e[o+2]};else{const h=as(t,Jo);u=as(h.firestore,Dl),c=h._query;const d=new $P(u);l={next:p=>{e[o]&&e[o](new wF(u,d,h,p))},error:e[o+1],complete:e[o+2]},gF(t._query)}return function(d,p,g,_){const w=new JL(_),v=new OL(p,w,g);return d.asyncQueue.enqueueAndForget(async()=>RL(await h1(d),v)),()=>{w.La(),d.asyncQueue.enqueueAndForget(async()=>kL(await h1(d),v))}}(CP(u),c,a,l)}function BP(t,e){return function(r,i){const s=new ci;return r.asyncQueue.enqueueAndForget(async()=>BL(await nF(r),i,s)),s.promise}(CP(t),e)}function SF(t,e,n){const r=n.docs.get(e._key),i=new $P(t);return new FP(t,i,e._key,r,new Ca(n.hasPendingWrites,n.fromCache),e.converter)}(function(e,n=!0){(function(i){Qo=i})(Ps),ys(new yi("firestore",(r,{instanceIdentifier:i,options:s})=>{const o=r.getProvider("app").getImmediate(),a=new Dl(new Tj(r.getProvider("auth-internal")),new Aj(r.getProvider("app-check-internal")),function(u,c){if(!Object.prototype.hasOwnProperty.apply(u.options,["projectId"]))throw new L(b.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Cl(u.options.projectId,c)}(o,i),o);return s=Object.assign({useFetchStreams:n},s),a._setSettings(s),a},"PUBLIC").setMultipleInstances(!0)),Hn(Ow,"4.4.2",e),Hn(Ow,"4.4.2","esm2017")})();function Uv(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n}function zP(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const xF=zP,WP=new Yl("auth","Firebase",zP());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ah=new Ly("@firebase/auth");function IF(t,...e){Ah.logLevel<=ie.WARN&&Ah.warn(`Auth (${Ps}): ${t}`,...e)}function bc(t,...e){Ah.logLevel<=ie.ERROR&&Ah.error(`Auth (${Ps}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function En(t,...e){throw Bv(t,...e)}function Qn(t,...e){return Bv(t,...e)}function HP(t,e,n){const r=Object.assign(Object.assign({},xF()),{[e]:n});return new Yl("auth","Firebase",r).create(e,{appName:t.name})}function AF(t,e,n){const r=n;if(!(e instanceof r))throw r.name!==e.constructor.name&&En(t,"argument-error"),HP(t,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function Bv(t,...e){if(typeof t!="string"){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return WP.create(t,...e)}function H(t,e,...n){if(!t)throw Bv(e,...n)}function fr(t){const e="INTERNAL ASSERTION FAILED: "+t;throw bc(e),new Error(e)}function Ar(t,e){t||fr(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hg(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.href)||""}function PF(){return _1()==="http:"||_1()==="https:"}function _1(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function CF(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(PF()||QD()||"connection"in navigator)?navigator.onLine:!0}function bF(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mu{constructor(e,n){this.shortDelay=e,this.longDelay=n,Ar(n>e,"Short delay should be less than long delay!"),this.isMobile=qD()||XD()}get(){return CF()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zv(t,e){Ar(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GP{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;fr("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;fr("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;fr("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RF={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kF=new mu(3e4,6e4);function br(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}async function Rr(t,e,n,r,i={}){return qP(t,i,async()=>{let s={},o={};r&&(e==="GET"?o=r:s={body:JSON.stringify(r)});const a=Jl(Object.assign({key:t.config.apiKey},o)).slice(1),l=await t._getAdditionalHeaders();return l["Content-Type"]="application/json",t.languageCode&&(l["X-Firebase-Locale"]=t.languageCode),GP.fetch()(KP(t,t.config.apiHost,n,a),Object.assign({method:e,headers:l,referrerPolicy:"no-referrer"},s))})}async function qP(t,e,n){t._canInitEmulator=!1;const r=Object.assign(Object.assign({},RF),e);try{const i=new DF(t),s=await Promise.race([n(),i.promise]);i.clearNetworkTimeout();const o=await s.json();if("needConfirmation"in o)throw ec(t,"account-exists-with-different-credential",o);if(s.ok&&!("errorMessage"in o))return o;{const a=s.ok?o.errorMessage:o.error.message,[l,u]=a.split(" : ");if(l==="FEDERATED_USER_ID_ALREADY_LINKED")throw ec(t,"credential-already-in-use",o);if(l==="EMAIL_EXISTS")throw ec(t,"email-already-in-use",o);if(l==="USER_DISABLED")throw ec(t,"user-disabled",o);const c=r[l]||l.toLowerCase().replace(/[_\s]+/g,"-");if(u)throw HP(t,c,u);En(t,c)}}catch(i){if(i instanceof tr)throw i;En(t,"network-request-failed",{message:String(i)})}}async function gu(t,e,n,r,i={}){const s=await Rr(t,e,n,r,i);return"mfaPendingCredential"in s&&En(t,"multi-factor-auth-required",{_serverResponse:s}),s}function KP(t,e,n,r){const i=`${e}${n}?${r}`;return t.config.emulator?zv(t.config,i):`${t.config.apiScheme}://${i}`}function NF(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class DF{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(Qn(this.auth,"network-request-failed")),kF.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function ec(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const i=Qn(t,e,r);return i.customData._tokenResponse=n,i}function w1(t){return t!==void 0&&t.enterprise!==void 0}class OF{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return NF(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}}async function VF(t,e){return Rr(t,"GET","/v2/recaptchaConfig",br(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function jF(t,e){return Rr(t,"POST","/v1/accounts:delete",e)}async function MF(t,e){return Rr(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ha(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function LF(t,e=!1){const n=je(t),r=await n.getIdToken(e),i=Wv(r);H(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");const s=typeof i.firebase=="object"?i.firebase:void 0,o=s==null?void 0:s.sign_in_provider;return{claims:i,token:r,authTime:Ha(fp(i.auth_time)),issuedAtTime:Ha(fp(i.iat)),expirationTime:Ha(fp(i.exp)),signInProvider:o||null,signInSecondFactor:(s==null?void 0:s.sign_in_second_factor)||null}}function fp(t){return Number(t)*1e3}function Wv(t){const[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return bc("JWT malformed, contained fewer than 3 sections"),null;try{const i=cI(n);return i?JSON.parse(i):(bc("Failed to decode base64 JWT payload"),null)}catch(i){return bc("Caught error parsing JWT payload as JSON",i==null?void 0:i.toString()),null}}function FF(t){const e=Wv(t);return H(e,"internal-error"),H(typeof e.exp<"u","internal-error"),H(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ol(t,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof tr&&$F(r)&&t.auth.currentUser===t&&await t.auth.signOut(),r}}function $F({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UF{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;const i=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QP{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Ha(this.lastLoginAt),this.creationTime=Ha(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ph(t){var e;const n=t.auth,r=await t.getIdToken(),i=await Ol(t,MF(n,{idToken:r}));H(i==null?void 0:i.users.length,n,"internal-error");const s=i.users[0];t._notifyReloadListener(s);const o=!((e=s.providerUserInfo)===null||e===void 0)&&e.length?WF(s.providerUserInfo):[],a=zF(t.providerData,o),l=t.isAnonymous,u=!(t.email&&s.passwordHash)&&!(a!=null&&a.length),c=l?u:!1,h={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:a,metadata:new QP(s.createdAt,s.lastLoginAt),isAnonymous:c};Object.assign(t,h)}async function BF(t){const e=je(t);await Ph(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function zF(t,e){return[...t.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function WF(t){return t.map(e=>{var{providerId:n}=e,r=Uv(e,["providerId"]);return{providerId:n,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function HF(t,e){const n=await qP(t,{},async()=>{const r=Jl({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:s}=t.config,o=KP(t,i,"/v1/token",`key=${s}`),a=await t._getAdditionalHeaders();return a["Content-Type"]="application/x-www-form-urlencoded",GP.fetch()(o,{method:"POST",headers:a,body:r})});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function GF(t,e){return Rr(t,"POST","/v2/accounts:revokeToken",br(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vl{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){H(e.idToken,"internal-error"),H(typeof e.idToken<"u","internal-error"),H(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):FF(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}async getToken(e,n=!1){return H(!this.accessToken||this.refreshToken,e,"user-token-expired"),!n&&this.accessToken&&!this.isExpired?this.accessToken:this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:r,refreshToken:i,expiresIn:s}=await HF(e,n);this.updateTokensAndExpiration(r,i,Number(s))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){const{refreshToken:r,accessToken:i,expirationTime:s}=n,o=new Vl;return r&&(H(typeof r=="string","internal-error",{appName:e}),o.refreshToken=r),i&&(H(typeof i=="string","internal-error",{appName:e}),o.accessToken=i),s&&(H(typeof s=="number","internal-error",{appName:e}),o.expirationTime=s),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Vl,this.toJSON())}_performRefresh(){return fr("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vr(t,e){H(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class ls{constructor(e){var{uid:n,auth:r,stsTokenManager:i}=e,s=Uv(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new UF(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=s.displayName||null,this.email=s.email||null,this.emailVerified=s.emailVerified||!1,this.phoneNumber=s.phoneNumber||null,this.photoURL=s.photoURL||null,this.isAnonymous=s.isAnonymous||!1,this.tenantId=s.tenantId||null,this.providerData=s.providerData?[...s.providerData]:[],this.metadata=new QP(s.createdAt||void 0,s.lastLoginAt||void 0)}async getIdToken(e){const n=await Ol(this,this.stsTokenManager.getToken(this.auth,e));return H(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return LF(this,e)}reload(){return BF(this)}_assign(e){this!==e&&(H(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new ls(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){H(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await Ph(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){const e=await this.getIdToken();return await Ol(this,jF(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var r,i,s,o,a,l,u,c;const h=(r=n.displayName)!==null&&r!==void 0?r:void 0,d=(i=n.email)!==null&&i!==void 0?i:void 0,p=(s=n.phoneNumber)!==null&&s!==void 0?s:void 0,g=(o=n.photoURL)!==null&&o!==void 0?o:void 0,_=(a=n.tenantId)!==null&&a!==void 0?a:void 0,w=(l=n._redirectEventId)!==null&&l!==void 0?l:void 0,v=(u=n.createdAt)!==null&&u!==void 0?u:void 0,m=(c=n.lastLoginAt)!==null&&c!==void 0?c:void 0,{uid:y,emailVerified:T,isAnonymous:S,providerData:x,stsTokenManager:I}=n;H(y&&I,e,"internal-error");const A=Vl.fromJSON(this.name,I);H(typeof y=="string",e,"internal-error"),Vr(h,e.name),Vr(d,e.name),H(typeof T=="boolean",e,"internal-error"),H(typeof S=="boolean",e,"internal-error"),Vr(p,e.name),Vr(g,e.name),Vr(_,e.name),Vr(w,e.name),Vr(v,e.name),Vr(m,e.name);const C=new ls({uid:y,auth:e,email:d,emailVerified:T,displayName:h,isAnonymous:S,photoURL:g,phoneNumber:p,tenantId:_,stsTokenManager:A,createdAt:v,lastLoginAt:m});return x&&Array.isArray(x)&&(C.providerData=x.map(k=>Object.assign({},k))),w&&(C._redirectEventId=w),C}static async _fromIdTokenResponse(e,n,r=!1){const i=new Vl;i.updateFromServerResponse(n);const s=new ls({uid:n.localId,auth:e,stsTokenManager:i,isAnonymous:r});return await Ph(s),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const E1=new Map;function pr(t){Ar(t instanceof Function,"Expected a class definition");let e=E1.get(t);return e?(Ar(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,E1.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XP{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}XP.type="NONE";const T1=XP;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Rc(t,e,n){return`firebase:${t}:${e}:${n}`}class _o{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:i,name:s}=this.auth;this.fullUserKey=Rc(this.userKey,i.apiKey,s),this.fullPersistenceKey=Rc("persistence",i.apiKey,s),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?ls._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new _o(pr(T1),e,r);const i=(await Promise.all(n.map(async u=>{if(await u._isAvailable())return u}))).filter(u=>u);let s=i[0]||pr(T1);const o=Rc(r,e.config.apiKey,e.name);let a=null;for(const u of n)try{const c=await u._get(o);if(c){const h=ls._fromJSON(e,c);u!==s&&(a=h),s=u;break}}catch{}const l=i.filter(u=>u._shouldAllowMigration);return!s._shouldAllowMigration||!l.length?new _o(s,e,r):(s=l[0],a&&await s._set(o,a.toJSON()),await Promise.all(n.map(async u=>{if(u!==s)try{await u._remove(o)}catch{}})),new _o(s,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function S1(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(ZP(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(YP(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(tC(e))return"Blackberry";if(nC(e))return"Webos";if(Hv(e))return"Safari";if((e.includes("chrome/")||JP(e))&&!e.includes("edge/"))return"Chrome";if(eC(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function YP(t=Qe()){return/firefox\//i.test(t)}function Hv(t=Qe()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function JP(t=Qe()){return/crios\//i.test(t)}function ZP(t=Qe()){return/iemobile/i.test(t)}function eC(t=Qe()){return/android/i.test(t)}function tC(t=Qe()){return/blackberry/i.test(t)}function nC(t=Qe()){return/webos/i.test(t)}function zd(t=Qe()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function qF(t=Qe()){var e;return zd(t)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function KF(){return YD()&&document.documentMode===10}function rC(t=Qe()){return zd(t)||eC(t)||nC(t)||tC(t)||/windows phone/i.test(t)||ZP(t)}function QF(){try{return!!(window&&window!==window.top)}catch{return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function iC(t,e=[]){let n;switch(t){case"Browser":n=S1(Qe());break;case"Worker":n=`${S1(Qe())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${Ps}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XF{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=s=>new Promise((o,a)=>{try{const l=e(s);o(l)}catch(l){a(l)}});r.onAbort=n,this.queue.push(r);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const i of n)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function YF(t,e={}){return Rr(t,"GET","/v2/passwordPolicy",br(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JF=6;class ZF{constructor(e){var n,r,i,s;const o=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=o.minPasswordLength)!==null&&n!==void 0?n:JF,o.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=o.maxPasswordLength),o.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=o.containsLowercaseCharacter),o.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=o.containsUppercaseCharacter),o.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=o.containsNumericCharacter),o.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=o.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(i=(r=e.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&i!==void 0?i:"",this.forceUpgradeOnSignin=(s=e.forceUpgradeOnSignin)!==null&&s!==void 0?s:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var n,r,i,s,o,a;const l={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,l),this.validatePasswordCharacterOptions(e,l),l.isValid&&(l.isValid=(n=l.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),l.isValid&&(l.isValid=(r=l.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),l.isValid&&(l.isValid=(i=l.containsLowercaseLetter)!==null&&i!==void 0?i:!0),l.isValid&&(l.isValid=(s=l.containsUppercaseLetter)!==null&&s!==void 0?s:!0),l.isValid&&(l.isValid=(o=l.containsNumericCharacter)!==null&&o!==void 0?o:!0),l.isValid&&(l.isValid=(a=l.containsNonAlphanumericCharacter)!==null&&a!==void 0?a:!0),l}validatePasswordLengthOptions(e,n){const r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),i&&(n.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let i=0;i<e.length;i++)r=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,i,s){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class e4{constructor(e,n,r,i){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new x1(this),this.idTokenSubscription=new x1(this),this.beforeStateQueue=new XF(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=WP,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=pr(n)),this._initializationPromise=this.queue(async()=>{var r,i;if(!this._deleted&&(this.persistenceManager=await _o.create(this,e),!this._deleted)){if(!((r=this._popupRedirectResolver)===null||r===void 0)&&r._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((i=this.currentUser)===null||i===void 0?void 0:i.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUser(e){var n;const r=await this.assertedPersistence.getCurrentUser();let i=r,s=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const o=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,a=i==null?void 0:i._redirectEventId,l=await this.tryRedirectSignIn(e);(!o||o===a)&&(l!=null&&l.user)&&(i=l.user,s=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(s)try{await this.beforeStateQueue.runMiddleware(i)}catch(o){i=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(o))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return H(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await Ph(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=bF()}async _delete(){this._deleted=!0}async updateCurrentUser(e){const n=e?je(e):null;return n&&H(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&H(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0)}setPersistence(e){return this.queue(async()=>{await this.assertedPersistence.setPersistence(pr(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await YF(this),n=new ZF(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new Yl("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),await GF(this,r)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,n){const r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&pr(e)||this._popupRedirectResolver;H(n,this,"argument-error"),this.redirectPersistenceManager=await _o.create(this,[pr(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,r;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,i){if(this._deleted)return()=>{};const s=typeof n=="function"?n:n.next.bind(n);let o=!1;const a=this._isInitialized?Promise.resolve():this._initializationPromise;if(H(a,this,"internal-error"),a.then(()=>{o||s(this.currentUser)}),typeof n=="function"){const l=e.addObserver(n,r,i);return()=>{o=!0,l()}}else{const l=e.addObserver(n);return()=>{o=!0,l()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return H(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=iC(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);const r=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());r&&(n["X-Firebase-Client"]=r);const i=await this._getAppCheckToken();return i&&(n["X-Firebase-AppCheck"]=i),n}async _getAppCheckToken(){var e;const n=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return n!=null&&n.error&&IF(`Error while retrieving App Check token: ${n.error}`),n==null?void 0:n.token}}function kr(t){return je(t)}class x1{constructor(e){this.auth=e,this.observer=null,this.addObserver=iO(n=>this.observer=n)}get next(){return H(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Wd={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function t4(t){Wd=t}function sC(t){return Wd.loadJS(t)}function n4(){return Wd.recaptchaEnterpriseScript}function r4(){return Wd.gapiScript}function i4(t){return`__${t}${Math.floor(Math.random()*1e6)}`}const s4="recaptcha-enterprise",o4="NO_RECAPTCHA";class a4{constructor(e){this.type=s4,this.auth=kr(e)}async verify(e="verify",n=!1){async function r(s){if(!n){if(s.tenantId==null&&s._agentRecaptchaConfig!=null)return s._agentRecaptchaConfig.siteKey;if(s.tenantId!=null&&s._tenantRecaptchaConfigs[s.tenantId]!==void 0)return s._tenantRecaptchaConfigs[s.tenantId].siteKey}return new Promise(async(o,a)=>{VF(s,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(l=>{if(l.recaptchaKey===void 0)a(new Error("recaptcha Enterprise site key undefined"));else{const u=new OF(l);return s.tenantId==null?s._agentRecaptchaConfig=u:s._tenantRecaptchaConfigs[s.tenantId]=u,o(u.siteKey)}}).catch(l=>{a(l)})})}function i(s,o,a){const l=window.grecaptcha;w1(l)?l.enterprise.ready(()=>{l.enterprise.execute(s,{action:e}).then(u=>{o(u)}).catch(()=>{o(o4)})}):a(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((s,o)=>{r(this.auth).then(a=>{if(!n&&w1(window.grecaptcha))i(a,s,o);else{if(typeof window>"u"){o(new Error("RecaptchaVerifier is only supported in browser"));return}let l=n4();l.length!==0&&(l+=a),sC(l).then(()=>{i(a,s,o)}).catch(u=>{o(u)})}}).catch(a=>{o(a)})})}}async function I1(t,e,n,r=!1){const i=new a4(t);let s;try{s=await i.verify(n)}catch{s=await i.verify(n,!0)}const o=Object.assign({},e);return r?Object.assign(o,{captchaResp:s}):Object.assign(o,{captchaResponse:s}),Object.assign(o,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(o,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),o}async function Ch(t,e,n,r){var i;if(!((i=t._getRecaptchaConfig())===null||i===void 0)&&i.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const s=await I1(t,e,n,n==="getOobCode");return r(t,s)}else return r(t,e).catch(async s=>{if(s.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const o=await I1(t,e,n,n==="getOobCode");return r(t,o)}else return Promise.reject(s)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function l4(t,e){const n=dd(t,"auth");if(n.isInitialized()){const i=n.getImmediate(),s=n.getOptions();if(ch(s,e??{}))return i;En(i,"already-initialized")}return n.initialize({options:e})}function u4(t,e){const n=(e==null?void 0:e.persistence)||[],r=(Array.isArray(n)?n:[n]).map(pr);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}function c4(t,e,n){const r=kr(t);H(r._canInitEmulator,r,"emulator-config-failed"),H(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const i=!!(n!=null&&n.disableWarnings),s=oC(e),{host:o,port:a}=h4(e),l=a===null?"":`:${a}`;r.config.emulator={url:`${s}//${o}${l}/`},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:o,port:a,protocol:s.replace(":",""),options:Object.freeze({disableWarnings:i})}),i||d4()}function oC(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function h4(t){const e=oC(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const s=i[1];return{host:s,port:A1(r.substr(s.length+1))}}else{const[s,o]=r.split(":");return{host:s,port:A1(o)}}}function A1(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function d4(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gv{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return fr("not implemented")}_getIdTokenResponse(e){return fr("not implemented")}_linkToIdToken(e,n){return fr("not implemented")}_getReauthenticationResolver(e){return fr("not implemented")}}async function f4(t,e){return Rr(t,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function p4(t,e){return gu(t,"POST","/v1/accounts:signInWithPassword",br(t,e))}async function m4(t,e){return Rr(t,"POST","/v1/accounts:sendOobCode",br(t,e))}async function g4(t,e){return m4(t,e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function y4(t,e){return gu(t,"POST","/v1/accounts:signInWithEmailLink",br(t,e))}async function v4(t,e){return gu(t,"POST","/v1/accounts:signInWithEmailLink",br(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jl extends Gv{constructor(e,n,r,i=null){super("password",r),this._email=e,this._password=n,this._tenantId=i}static _fromEmailAndPassword(e,n){return new jl(e,n,"password")}static _fromEmailAndCode(e,n,r=null){return new jl(e,n,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n!=null&&n.email&&(n!=null&&n.password)){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Ch(e,n,"signInWithPassword",p4);case"emailLink":return y4(e,{email:this._email,oobCode:this._password});default:En(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const r={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Ch(e,r,"signUpPassword",f4);case"emailLink":return v4(e,{idToken:n,email:this._email,oobCode:this._password});default:En(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function wo(t,e){return gu(t,"POST","/v1/accounts:signInWithIdp",br(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _4="http://localhost";class Es extends Gv{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new Es(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):En("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:i}=n,s=Uv(n,["providerId","signInMethod"]);if(!r||!i)return null;const o=new Es(r,i);return o.idToken=s.idToken||void 0,o.accessToken=s.accessToken||void 0,o.secret=s.secret,o.nonce=s.nonce,o.pendingToken=s.pendingToken||null,o}_getIdTokenResponse(e){const n=this.buildRequest();return wo(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,wo(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,wo(e,n)}buildRequest(){const e={requestUri:_4,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=Jl(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function w4(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function E4(t){const e=Ta(Sa(t)).link,n=e?Ta(Sa(e)).deep_link_id:null,r=Ta(Sa(t)).deep_link_id;return(r?Ta(Sa(r)).link:null)||r||n||e||t}class qv{constructor(e){var n,r,i,s,o,a;const l=Ta(Sa(e)),u=(n=l.apiKey)!==null&&n!==void 0?n:null,c=(r=l.oobCode)!==null&&r!==void 0?r:null,h=w4((i=l.mode)!==null&&i!==void 0?i:null);H(u&&c&&h,"argument-error"),this.apiKey=u,this.operation=h,this.code=c,this.continueUrl=(s=l.continueUrl)!==null&&s!==void 0?s:null,this.languageCode=(o=l.languageCode)!==null&&o!==void 0?o:null,this.tenantId=(a=l.tenantId)!==null&&a!==void 0?a:null}static parseLink(e){const n=E4(e);try{return new qv(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zo{constructor(){this.providerId=Zo.PROVIDER_ID}static credential(e,n){return jl._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const r=qv.parseLink(n);return H(r,"argument-error"),jl._fromEmailAndCode(e,r.code,r.tenantId)}}Zo.PROVIDER_ID="password";Zo.EMAIL_PASSWORD_SIGN_IN_METHOD="password";Zo.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kv{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yu extends Kv{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wr extends yu{constructor(){super("facebook.com")}static credential(e){return Es._fromParams({providerId:Wr.PROVIDER_ID,signInMethod:Wr.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Wr.credentialFromTaggedObject(e)}static credentialFromError(e){return Wr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Wr.credential(e.oauthAccessToken)}catch{return null}}}Wr.FACEBOOK_SIGN_IN_METHOD="facebook.com";Wr.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ur extends yu{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return Es._fromParams({providerId:ur.PROVIDER_ID,signInMethod:ur.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return ur.credentialFromTaggedObject(e)}static credentialFromError(e){return ur.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return ur.credential(n,r)}catch{return null}}}ur.GOOGLE_SIGN_IN_METHOD="google.com";ur.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hr extends yu{constructor(){super("github.com")}static credential(e){return Es._fromParams({providerId:Hr.PROVIDER_ID,signInMethod:Hr.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Hr.credentialFromTaggedObject(e)}static credentialFromError(e){return Hr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Hr.credential(e.oauthAccessToken)}catch{return null}}}Hr.GITHUB_SIGN_IN_METHOD="github.com";Hr.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gr extends yu{constructor(){super("twitter.com")}static credential(e,n){return Es._fromParams({providerId:Gr.PROVIDER_ID,signInMethod:Gr.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return Gr.credentialFromTaggedObject(e)}static credentialFromError(e){return Gr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=e;if(!n||!r)return null;try{return Gr.credential(n,r)}catch{return null}}}Gr.TWITTER_SIGN_IN_METHOD="twitter.com";Gr.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function T4(t,e){return gu(t,"POST","/v1/accounts:signUp",br(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ts{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,i=!1){const s=await ls._fromIdTokenResponse(e,r,i),o=P1(r);return new Ts({user:s,providerId:o,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);const i=P1(r);return new Ts({user:e,providerId:i,_tokenResponse:r,operationType:n})}}function P1(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bh extends tr{constructor(e,n,r,i){var s;super(n.code,n.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,bh.prototype),this.customData={appName:e.name,tenantId:(s=e.tenantId)!==null&&s!==void 0?s:void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,i){return new bh(e,n,r,i)}}function aC(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(s=>{throw s.code==="auth/multi-factor-auth-required"?bh._fromErrorAndOperation(t,s,e,r):s})}async function S4(t,e,n=!1){const r=await Ol(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return Ts._forOperation(t,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function x4(t,e,n=!1){const{auth:r}=t,i="reauthenticate";try{const s=await Ol(t,aC(r,i,e,t),n);H(s.idToken,r,"internal-error");const o=Wv(s.idToken);H(o,r,"internal-error");const{sub:a}=o;return H(t.uid===a,r,"user-mismatch"),Ts._forOperation(t,i,s)}catch(s){throw(s==null?void 0:s.code)==="auth/user-not-found"&&En(r,"user-mismatch"),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function lC(t,e,n=!1){const r="signIn",i=await aC(t,r,e),s=await Ts._fromIdTokenResponse(t,r,i);return n||await t._updateCurrentUser(s.user),s}async function I4(t,e){return lC(kr(t),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function A4(t,e,n){var r;H(((r=n.url)===null||r===void 0?void 0:r.length)>0,t,"invalid-continue-uri"),H(typeof n.dynamicLinkDomain>"u"||n.dynamicLinkDomain.length>0,t,"invalid-dynamic-link-domain"),e.continueUrl=n.url,e.dynamicLinkDomain=n.dynamicLinkDomain,e.canHandleCodeInApp=n.handleCodeInApp,n.iOS&&(H(n.iOS.bundleId.length>0,t,"missing-ios-bundle-id"),e.iOSBundleId=n.iOS.bundleId),n.android&&(H(n.android.packageName.length>0,t,"missing-android-pkg-name"),e.androidInstallApp=n.android.installApp,e.androidMinimumVersionCode=n.android.minimumVersion,e.androidPackageName=n.android.packageName)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function uC(t){const e=kr(t);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function P4(t,e,n){const r=kr(t),i={requestType:"PASSWORD_RESET",email:e,clientType:"CLIENT_TYPE_WEB"};n&&A4(r,i,n),await Ch(r,i,"getOobCode",g4)}async function C4(t,e,n){const r=kr(t),o=await Ch(r,{returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",T4).catch(l=>{throw l.code==="auth/password-does-not-meet-requirements"&&uC(t),l}),a=await Ts._fromIdTokenResponse(r,"signIn",o);return await r._updateCurrentUser(a.user),a}function b4(t,e,n){return I4(je(t),Zo.credential(e,n)).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&uC(t),r})}function R4(t,e,n,r){return je(t).onIdTokenChanged(e,n,r)}function k4(t,e,n){return je(t).beforeAuthStateChanged(e,n)}function N4(t){return je(t).signOut()}const Rh="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cC{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(Rh,"1"),this.storage.removeItem(Rh),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function D4(){const t=Qe();return Hv(t)||zd(t)}const O4=1e3,V4=10;class hC extends cC{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=D4()&&QF(),this.fallbackToPolling=rC(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),i=this.localCache[n];r!==i&&e(n,i,r)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((o,a,l)=>{this.notifyListeners(o,l)});return}const r=e.key;if(n?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const o=this.storage.getItem(r);if(e.newValue!==o)e.newValue!==null?this.storage.setItem(r,e.newValue):this.storage.removeItem(r);else if(this.localCache[r]===e.newValue&&!n)return}const i=()=>{const o=this.storage.getItem(r);!n&&this.localCache[r]===o||this.notifyListeners(r,o)},s=this.storage.getItem(r);KF()&&s!==e.newValue&&e.newValue!==e.oldValue?setTimeout(i,V4):i()}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)})},O4)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}hC.type="LOCAL";const j4=hC;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dC extends cC{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}dC.type="SESSION";const fC=dC;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function M4(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hd{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(i=>i.isListeningto(e));if(n)return n;const r=new Hd(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:r,eventType:i,data:s}=n.data,o=this.handlersMap[i];if(!(o!=null&&o.size))return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:i});const a=Array.from(o).map(async u=>u(n.origin,s)),l=await M4(a);n.ports[0].postMessage({status:"done",eventId:r,eventType:i,response:l})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Hd.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qv(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class L4{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){const i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let s,o;return new Promise((a,l)=>{const u=Qv("",20);i.port1.start();const c=setTimeout(()=>{l(new Error("unsupported_event"))},r);o={messageChannel:i,onMessage(h){const d=h;if(d.data.eventId===u)switch(d.data.status){case"ack":clearTimeout(c),s=setTimeout(()=>{l(new Error("timeout"))},3e3);break;case"done":clearTimeout(s),a(d.data.response);break;default:clearTimeout(c),clearTimeout(s),l(new Error("invalid_response"));break}}},this.handlers.add(o),i.port1.addEventListener("message",o.onMessage),this.target.postMessage({eventType:e,eventId:u,data:n},[i.port2])}).finally(()=>{o&&this.removeMessageHandler(o)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xn(){return window}function F4(t){Xn().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pC(){return typeof Xn().WorkerGlobalScope<"u"&&typeof Xn().importScripts=="function"}async function $4(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function U4(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)===null||t===void 0?void 0:t.controller)||null}function B4(){return pC()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mC="firebaseLocalStorageDb",z4=1,kh="firebaseLocalStorage",gC="fbase_key";class vu{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function Gd(t,e){return t.transaction([kh],e?"readwrite":"readonly").objectStore(kh)}function W4(){const t=indexedDB.deleteDatabase(mC);return new vu(t).toPromise()}function dg(){const t=indexedDB.open(mC,z4);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore(kh,{keyPath:gC})}catch(i){n(i)}}),t.addEventListener("success",async()=>{const r=t.result;r.objectStoreNames.contains(kh)?e(r):(r.close(),await W4(),e(await dg()))})})}async function C1(t,e,n){const r=Gd(t,!0).put({[gC]:e,value:n});return new vu(r).toPromise()}async function H4(t,e){const n=Gd(t,!1).get(e),r=await new vu(n).toPromise();return r===void 0?null:r.value}function b1(t,e){const n=Gd(t,!0).delete(e);return new vu(n).toPromise()}const G4=800,q4=3;class yC{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await dg(),this.db)}async _withRetries(e){let n=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(n++>q4)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return pC()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Hd._getInstance(B4()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var e,n;if(this.activeServiceWorker=await $4(),!this.activeServiceWorker)return;this.sender=new L4(this.activeServiceWorker);const r=await this.sender._send("ping",{},800);r&&!((e=r[0])===null||e===void 0)&&e.fulfilled&&!((n=r[0])===null||n===void 0)&&n.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||U4()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await dg();return await C1(e,Rh,"1"),await b1(e,Rh),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>C1(r,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(r=>H4(r,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>b1(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(i=>{const s=Gd(i,!1).getAll();return new vu(s).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;if(e.length!==0)for(const{fbase_key:i,value:s}of e)r.add(i),JSON.stringify(this.localCache[i])!==JSON.stringify(s)&&(this.notifyListeners(i,s),n.push(i));for(const i of Object.keys(this.localCache))this.localCache[i]&&!r.has(i)&&(this.notifyListeners(i,null),n.push(i));return n}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),G4)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}yC.type="LOCAL";const K4=yC;new mu(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vC(t,e){return e?pr(e):(H(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xv extends Gv{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return wo(e,this._buildIdpRequest())}_linkToIdToken(e,n){return wo(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return wo(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function Q4(t){return lC(t.auth,new Xv(t),t.bypassAuthState)}function X4(t){const{auth:e,user:n}=t;return H(n,e,"internal-error"),x4(n,new Xv(t),t.bypassAuthState)}async function Y4(t){const{auth:e,user:n}=t;return H(n,e,"internal-error"),S4(n,new Xv(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _C{constructor(e,n,r,i,s=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=s,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:r,postBody:i,tenantId:s,error:o,type:a}=e;if(o){this.reject(o);return}const l={auth:this.auth,requestUri:n,sessionId:r,tenantId:s||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(a)(l))}catch(u){this.reject(u)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return Q4;case"linkViaPopup":case"linkViaRedirect":return Y4;case"reauthViaPopup":case"reauthViaRedirect":return X4;default:En(this.auth,"internal-error")}}resolve(e){Ar(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Ar(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const J4=new mu(2e3,1e4);async function wC(t,e,n){const r=kr(t);AF(t,e,Kv);const i=vC(r,n);return new ns(r,"signInViaPopup",e,i).executeNotNull()}class ns extends _C{constructor(e,n,r,i,s){super(e,n,i,s),this.provider=r,this.authWindow=null,this.pollId=null,ns.currentPopupAction&&ns.currentPopupAction.cancel(),ns.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return H(e,this.auth,"internal-error"),e}async onExecution(){Ar(this.filter.length===1,"Popup operations only handle one event");const e=Qv();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(Qn(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(Qn(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,ns.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,r;if(!((r=(n=this.authWindow)===null||n===void 0?void 0:n.window)===null||r===void 0)&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Qn(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,J4.get())};e()}}ns.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Z4="pendingRedirect",kc=new Map;class e$ extends _C{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=kc.get(this.auth._key());if(!e){try{const r=await t$(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}kc.set(this.auth._key(),e)}return this.bypassAuthState||kc.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function t$(t,e){const n=i$(e),r=r$(t);if(!await r._isAvailable())return!1;const i=await r._get(n)==="true";return await r._remove(n),i}function n$(t,e){kc.set(t._key(),e)}function r$(t){return pr(t._redirectPersistence)}function i$(t){return Rc(Z4,t.config.apiKey,t.name)}async function s$(t,e,n=!1){const r=kr(t),i=vC(r,e),o=await new e$(r,i,n).execute();return o&&!n&&(delete o.user._redirectEventId,await r._persistUserIfCurrent(o.user),await r._setRedirectUser(null,e)),o}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const o$=10*60*1e3;class a${constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!l$(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!EC(e)){const i=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";n.onError(Qn(this.auth,i))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=o$&&this.cachedEventUids.clear(),this.cachedEventUids.has(R1(e))}saveEventToCache(e){this.cachedEventUids.add(R1(e)),this.lastProcessedEventTime=Date.now()}}function R1(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function EC({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function l$(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return EC(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function u$(t,e={}){return Rr(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const c$=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,h$=/^https?/;async function d$(t){if(t.config.emulator)return;const{authorizedDomains:e}=await u$(t);for(const n of e)try{if(f$(n))return}catch{}En(t,"unauthorized-domain")}function f$(t){const e=hg(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const o=new URL(t);return o.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&o.hostname===r}if(!h$.test(n))return!1;if(c$.test(t))return r===t;const i=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const p$=new mu(3e4,6e4);function k1(){const t=Xn().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function m$(t){return new Promise((e,n)=>{var r,i,s;function o(){k1(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{k1(),n(Qn(t,"network-request-failed"))},timeout:p$.get()})}if(!((i=(r=Xn().gapi)===null||r===void 0?void 0:r.iframes)===null||i===void 0)&&i.Iframe)e(gapi.iframes.getContext());else if(!((s=Xn().gapi)===null||s===void 0)&&s.load)o();else{const a=i4("iframefcb");return Xn()[a]=()=>{gapi.load?o():n(Qn(t,"network-request-failed"))},sC(`${r4()}?onload=${a}`).catch(l=>n(l))}}).catch(e=>{throw Nc=null,e})}let Nc=null;function g$(t){return Nc=Nc||m$(t),Nc}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const y$=new mu(5e3,15e3),v$="__/auth/iframe",_$="emulator/auth/iframe",w$={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},E$=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function T$(t){const e=t.config;H(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?zv(e,_$):`https://${t.config.authDomain}/${v$}`,r={apiKey:e.apiKey,appName:t.name,v:Ps},i=E$.get(t.config.apiHost);i&&(r.eid=i);const s=t._getFrameworks();return s.length&&(r.fw=s.join(",")),`${n}?${Jl(r).slice(1)}`}async function S$(t){const e=await g$(t),n=Xn().gapi;return H(n,t,"internal-error"),e.open({where:document.body,url:T$(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:w$,dontclear:!0},r=>new Promise(async(i,s)=>{await r.restyle({setHideOnLeave:!1});const o=Qn(t,"network-request-failed"),a=Xn().setTimeout(()=>{s(o)},y$.get());function l(){Xn().clearTimeout(a),i(r)}r.ping(l).then(l,()=>{s(o)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const x$={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},I$=500,A$=600,P$="_blank",C$="http://localhost";class N1{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function b$(t,e,n,r=I$,i=A$){const s=Math.max((window.screen.availHeight-i)/2,0).toString(),o=Math.max((window.screen.availWidth-r)/2,0).toString();let a="";const l=Object.assign(Object.assign({},x$),{width:r.toString(),height:i.toString(),top:s,left:o}),u=Qe().toLowerCase();n&&(a=JP(u)?P$:n),YP(u)&&(e=e||C$,l.scrollbars="yes");const c=Object.entries(l).reduce((d,[p,g])=>`${d}${p}=${g},`,"");if(qF(u)&&a!=="_self")return R$(e||"",a),new N1(null);const h=window.open(e||"",a,c);H(h,t,"popup-blocked");try{h.focus()}catch{}return new N1(h)}function R$(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const k$="__/auth/handler",N$="emulator/auth/handler",D$=encodeURIComponent("fac");async function D1(t,e,n,r,i,s){H(t.config.authDomain,t,"auth-domain-config-required"),H(t.config.apiKey,t,"invalid-api-key");const o={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:Ps,eventId:i};if(e instanceof Kv){e.setDefaultLanguage(t.languageCode),o.providerId=e.providerId||"",rO(e.getCustomParameters())||(o.customParameters=JSON.stringify(e.getCustomParameters()));for(const[c,h]of Object.entries(s||{}))o[c]=h}if(e instanceof yu){const c=e.getScopes().filter(h=>h!=="");c.length>0&&(o.scopes=c.join(","))}t.tenantId&&(o.tid=t.tenantId);const a=o;for(const c of Object.keys(a))a[c]===void 0&&delete a[c];const l=await t._getAppCheckToken(),u=l?`#${D$}=${encodeURIComponent(l)}`:"";return`${O$(t)}?${Jl(a).slice(1)}${u}`}function O$({config:t}){return t.emulator?zv(t,N$):`https://${t.authDomain}/${k$}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pp="webStorageSupport";class V${constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=fC,this._completeRedirectFn=s$,this._overrideRedirectResult=n$}async _openPopup(e,n,r,i){var s;Ar((s=this.eventManagers[e._key()])===null||s===void 0?void 0:s.manager,"_initialize() not called before _openPopup()");const o=await D1(e,n,r,hg(),i);return b$(e,o,Qv())}async _openRedirect(e,n,r,i){await this._originValidation(e);const s=await D1(e,n,r,hg(),i);return F4(s),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:i,promise:s}=this.eventManagers[n];return i?Promise.resolve(i):(Ar(s,"If manager is not set, promise should be"),s)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){const n=await S$(e),r=new a$(e);return n.register("authEvent",i=>(H(i==null?void 0:i.authEvent,e,"invalid-auth-event"),{status:r.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(pp,{type:pp},i=>{var s;const o=(s=i==null?void 0:i[0])===null||s===void 0?void 0:s[pp];o!==void 0&&n(!!o),En(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=d$(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return rC()||Hv()||zd()}}const j$=V$;var O1="@firebase/auth",V1="1.6.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class M${constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){H(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function L$(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function F$(t){ys(new yi("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),s=e.getProvider("app-check-internal"),{apiKey:o,authDomain:a}=r.options;H(o&&!o.includes(":"),"invalid-api-key",{appName:r.name});const l={apiKey:o,authDomain:a,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:iC(t)},u=new e4(r,i,s,l);return u4(u,n),u},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),ys(new yi("auth-internal",e=>{const n=kr(e.getProvider("auth").getImmediate());return(r=>new M$(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Hn(O1,V1,L$(t)),Hn(O1,V1,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $$=5*60,U$=pI("authIdTokenMaxAge")||$$;let j1=null;const B$=t=>async e=>{const n=e&&await e.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>U$)return;const i=n==null?void 0:n.token;j1!==i&&(j1=i,await fetch(t,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))};function z$(t=$y()){const e=dd(t,"auth");if(e.isInitialized())return e.getImmediate();const n=l4(t,{popupRedirectResolver:j$,persistence:[K4,j4,fC]}),r=pI("authTokenSyncURL");if(r){const s=B$(r);k4(n,s,()=>s(n.currentUser)),R4(n,o=>s(o))}const i=hI("auth");return i&&c4(n,`http://${i}`),n}function W$(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}t4({loadJS(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=i=>{const s=Qn("internal-error");s.customData=i,n(s)},r.type="text/javascript",r.charset="UTF-8",W$().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});F$("Browser");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TC="firebasestorage.googleapis.com",SC="storageBucket",H$=2*60*1e3,G$=10*60*1e3;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fe extends tr{constructor(e,n,r=0){super(mp(e),`Firebase Storage: ${n} (${mp(e)})`),this.status_=r,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,Fe.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return mp(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var Le;(function(t){t.UNKNOWN="unknown",t.OBJECT_NOT_FOUND="object-not-found",t.BUCKET_NOT_FOUND="bucket-not-found",t.PROJECT_NOT_FOUND="project-not-found",t.QUOTA_EXCEEDED="quota-exceeded",t.UNAUTHENTICATED="unauthenticated",t.UNAUTHORIZED="unauthorized",t.UNAUTHORIZED_APP="unauthorized-app",t.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",t.INVALID_CHECKSUM="invalid-checksum",t.CANCELED="canceled",t.INVALID_EVENT_NAME="invalid-event-name",t.INVALID_URL="invalid-url",t.INVALID_DEFAULT_BUCKET="invalid-default-bucket",t.NO_DEFAULT_BUCKET="no-default-bucket",t.CANNOT_SLICE_BLOB="cannot-slice-blob",t.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",t.NO_DOWNLOAD_URL="no-download-url",t.INVALID_ARGUMENT="invalid-argument",t.INVALID_ARGUMENT_COUNT="invalid-argument-count",t.APP_DELETED="app-deleted",t.INVALID_ROOT_OPERATION="invalid-root-operation",t.INVALID_FORMAT="invalid-format",t.INTERNAL_ERROR="internal-error",t.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(Le||(Le={}));function mp(t){return"storage/"+t}function Yv(){const t="An unknown error occurred, please check the error payload for server response.";return new Fe(Le.UNKNOWN,t)}function q$(t){return new Fe(Le.OBJECT_NOT_FOUND,"Object '"+t+"' does not exist.")}function K$(t){return new Fe(Le.QUOTA_EXCEEDED,"Quota for bucket '"+t+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}function Q$(){const t="User is not authenticated, please authenticate using Firebase Authentication and try again.";return new Fe(Le.UNAUTHENTICATED,t)}function X$(){return new Fe(Le.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project.")}function Y$(t){return new Fe(Le.UNAUTHORIZED,"User does not have permission to access '"+t+"'.")}function J$(){return new Fe(Le.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function Z$(){return new Fe(Le.CANCELED,"User canceled the upload/download.")}function eU(t){return new Fe(Le.INVALID_URL,"Invalid URL '"+t+"'.")}function tU(t){return new Fe(Le.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+t+"'.")}function nU(){return new Fe(Le.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+SC+"' property when initializing the app?")}function rU(){return new Fe(Le.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}function iU(){return new Fe(Le.NO_DOWNLOAD_URL,"The given file does not have any download URLs.")}function sU(t){return new Fe(Le.UNSUPPORTED_ENVIRONMENT,`${t} is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information.`)}function fg(t){return new Fe(Le.INVALID_ARGUMENT,t)}function xC(){return new Fe(Le.APP_DELETED,"The Firebase app was deleted.")}function oU(t){return new Fe(Le.INVALID_ROOT_OPERATION,"The operation '"+t+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function Ga(t,e){return new Fe(Le.INVALID_FORMAT,"String does not match format '"+t+"': "+e)}function fa(t){throw new Fe(Le.INTERNAL_ERROR,"Internal error: "+t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class en{constructor(e,n){this.bucket=e,this.path_=n}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,n){let r;try{r=en.makeFromUrl(e,n)}catch{return new en(e,"")}if(r.path==="")return r;throw tU(e)}static makeFromUrl(e,n){let r=null;const i="([A-Za-z0-9.\\-_]+)";function s(T){T.path.charAt(T.path.length-1)==="/"&&(T.path_=T.path_.slice(0,-1))}const o="(/(.*))?$",a=new RegExp("^gs://"+i+o,"i"),l={bucket:1,path:3};function u(T){T.path_=decodeURIComponent(T.path)}const c="v[A-Za-z0-9_]+",h=n.replace(/[.]/g,"\\."),d="(/([^?#]*).*)?$",p=new RegExp(`^https?://${h}/${c}/b/${i}/o${d}`,"i"),g={bucket:1,path:3},_=n===TC?"(?:storage.googleapis.com|storage.cloud.google.com)":n,w="([^?#]*)",v=new RegExp(`^https?://${_}/${i}/${w}`,"i"),y=[{regex:a,indices:l,postModify:s},{regex:p,indices:g,postModify:u},{regex:v,indices:{bucket:1,path:2},postModify:u}];for(let T=0;T<y.length;T++){const S=y[T],x=S.regex.exec(e);if(x){const I=x[S.indices.bucket];let A=x[S.indices.path];A||(A=""),r=new en(I,A),S.postModify(r);break}}if(r==null)throw eU(e);return r}}class aU{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lU(t,e,n){let r=1,i=null,s=null,o=!1,a=0;function l(){return a===2}let u=!1;function c(...w){u||(u=!0,e.apply(null,w))}function h(w){i=setTimeout(()=>{i=null,t(p,l())},w)}function d(){s&&clearTimeout(s)}function p(w,...v){if(u){d();return}if(w){d(),c.call(null,w,...v);return}if(l()||o){d(),c.call(null,w,...v);return}r<64&&(r*=2);let y;a===1?(a=2,y=0):y=(r+Math.random())*1e3,h(y)}let g=!1;function _(w){g||(g=!0,d(),!u&&(i!==null?(w||(a=2),clearTimeout(i),h(0)):w||(a=1)))}return h(0),s=setTimeout(()=>{o=!0,_(!0)},n),_}function uU(t){t(!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cU(t){return t!==void 0}function hU(t){return typeof t=="object"&&!Array.isArray(t)}function Jv(t){return typeof t=="string"||t instanceof String}function M1(t){return Zv()&&t instanceof Blob}function Zv(){return typeof Blob<"u"}function L1(t,e,n,r){if(r<e)throw fg(`Invalid value for '${t}'. Expected ${e} or greater.`);if(r>n)throw fg(`Invalid value for '${t}'. Expected ${n} or less.`)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function e0(t,e,n){let r=e;return n==null&&(r=`https://${e}`),`${n}://${r}/v0${t}`}function IC(t){const e=encodeURIComponent;let n="?";for(const r in t)if(t.hasOwnProperty(r)){const i=e(r)+"="+e(t[r]);n=n+i+"&"}return n=n.slice(0,-1),n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var us;(function(t){t[t.NO_ERROR=0]="NO_ERROR",t[t.NETWORK_ERROR=1]="NETWORK_ERROR",t[t.ABORT=2]="ABORT"})(us||(us={}));/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dU(t,e){const n=t>=500&&t<600,i=[408,429].indexOf(t)!==-1,s=e.indexOf(t)!==-1;return n||i||s}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fU{constructor(e,n,r,i,s,o,a,l,u,c,h,d=!0){this.url_=e,this.method_=n,this.headers_=r,this.body_=i,this.successCodes_=s,this.additionalRetryCodes_=o,this.callback_=a,this.errorCallback_=l,this.timeout_=u,this.progressCallback_=c,this.connectionFactory_=h,this.retry=d,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((p,g)=>{this.resolve_=p,this.reject_=g,this.start_()})}start_(){const e=(r,i)=>{if(i){r(!1,new tc(!1,null,!0));return}const s=this.connectionFactory_();this.pendingConnection_=s;const o=a=>{const l=a.loaded,u=a.lengthComputable?a.total:-1;this.progressCallback_!==null&&this.progressCallback_(l,u)};this.progressCallback_!==null&&s.addUploadProgressListener(o),s.send(this.url_,this.method_,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&s.removeUploadProgressListener(o),this.pendingConnection_=null;const a=s.getErrorCode()===us.NO_ERROR,l=s.getStatus();if(!a||dU(l,this.additionalRetryCodes_)&&this.retry){const c=s.getErrorCode()===us.ABORT;r(!1,new tc(!1,null,c));return}const u=this.successCodes_.indexOf(l)!==-1;r(!0,new tc(u,s))})},n=(r,i)=>{const s=this.resolve_,o=this.reject_,a=i.connection;if(i.wasSuccessCode)try{const l=this.callback_(a,a.getResponse());cU(l)?s(l):s()}catch(l){o(l)}else if(a!==null){const l=Yv();l.serverResponse=a.getErrorText(),this.errorCallback_?o(this.errorCallback_(a,l)):o(l)}else if(i.canceled){const l=this.appDelete_?xC():Z$();o(l)}else{const l=J$();o(l)}};this.canceled_?n(!1,new tc(!1,null,!0)):this.backoffId_=lU(e,n,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&uU(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class tc{constructor(e,n,r){this.wasSuccessCode=e,this.connection=n,this.canceled=!!r}}function pU(t,e){e!==null&&e.length>0&&(t.Authorization="Firebase "+e)}function mU(t,e){t["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function gU(t,e){e&&(t["X-Firebase-GMPID"]=e)}function yU(t,e){e!==null&&(t["X-Firebase-AppCheck"]=e)}function vU(t,e,n,r,i,s,o=!0){const a=IC(t.urlParams),l=t.url+a,u=Object.assign({},t.headers);return gU(u,e),pU(u,n),mU(u,s),yU(u,r),new fU(l,t.method,u,t.body,t.successCodes,t.additionalRetryCodes,t.handler,t.errorHandler,t.timeout,t.progressCallback,i,o)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _U(){return typeof BlobBuilder<"u"?BlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:void 0}function wU(...t){const e=_U();if(e!==void 0){const n=new e;for(let r=0;r<t.length;r++)n.append(t[r]);return n.getBlob()}else{if(Zv())return new Blob(t);throw new Fe(Le.UNSUPPORTED_ENVIRONMENT,"This browser doesn't seem to support creating Blobs")}}function EU(t,e,n){return t.webkitSlice?t.webkitSlice(e,n):t.mozSlice?t.mozSlice(e,n):t.slice?t.slice(e,n):null}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function TU(t){if(typeof atob>"u")throw sU("base-64");return atob(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bn={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class gp{constructor(e,n){this.data=e,this.contentType=n||null}}function SU(t,e){switch(t){case Bn.RAW:return new gp(AC(e));case Bn.BASE64:case Bn.BASE64URL:return new gp(PC(t,e));case Bn.DATA_URL:return new gp(IU(e),AU(e))}throw Yv()}function AC(t){const e=[];for(let n=0;n<t.length;n++){let r=t.charCodeAt(n);if(r<=127)e.push(r);else if(r<=2047)e.push(192|r>>6,128|r&63);else if((r&64512)===55296)if(!(n<t.length-1&&(t.charCodeAt(n+1)&64512)===56320))e.push(239,191,189);else{const s=r,o=t.charCodeAt(++n);r=65536|(s&1023)<<10|o&1023,e.push(240|r>>18,128|r>>12&63,128|r>>6&63,128|r&63)}else(r&64512)===56320?e.push(239,191,189):e.push(224|r>>12,128|r>>6&63,128|r&63)}return new Uint8Array(e)}function xU(t){let e;try{e=decodeURIComponent(t)}catch{throw Ga(Bn.DATA_URL,"Malformed data URL.")}return AC(e)}function PC(t,e){switch(t){case Bn.BASE64:{const i=e.indexOf("-")!==-1,s=e.indexOf("_")!==-1;if(i||s)throw Ga(t,"Invalid character '"+(i?"-":"_")+"' found: is it base64url encoded?");break}case Bn.BASE64URL:{const i=e.indexOf("+")!==-1,s=e.indexOf("/")!==-1;if(i||s)throw Ga(t,"Invalid character '"+(i?"+":"/")+"' found: is it base64 encoded?");e=e.replace(/-/g,"+").replace(/_/g,"/");break}}let n;try{n=TU(e)}catch(i){throw i.message.includes("polyfill")?i:Ga(t,"Invalid character found")}const r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}class CC{constructor(e){this.base64=!1,this.contentType=null;const n=e.match(/^data:([^,]+)?,/);if(n===null)throw Ga(Bn.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const r=n[1]||null;r!=null&&(this.base64=PU(r,";base64"),this.contentType=this.base64?r.substring(0,r.length-7):r),this.rest=e.substring(e.indexOf(",")+1)}}function IU(t){const e=new CC(t);return e.base64?PC(Bn.BASE64,e.rest):xU(e.rest)}function AU(t){return new CC(t).contentType}function PU(t,e){return t.length>=e.length?t.substring(t.length-e.length)===e:!1}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qr{constructor(e,n){let r=0,i="";M1(e)?(this.data_=e,r=e.size,i=e.type):e instanceof ArrayBuffer?(n?this.data_=new Uint8Array(e):(this.data_=new Uint8Array(e.byteLength),this.data_.set(new Uint8Array(e))),r=this.data_.length):e instanceof Uint8Array&&(n?this.data_=e:(this.data_=new Uint8Array(e.length),this.data_.set(e)),r=e.length),this.size_=r,this.type_=i}size(){return this.size_}type(){return this.type_}slice(e,n){if(M1(this.data_)){const r=this.data_,i=EU(r,e,n);return i===null?null:new qr(i)}else{const r=new Uint8Array(this.data_.buffer,e,n-e);return new qr(r,!0)}}static getBlob(...e){if(Zv()){const n=e.map(r=>r instanceof qr?r.data_:r);return new qr(wU.apply(null,n))}else{const n=e.map(o=>Jv(o)?SU(Bn.RAW,o).data:o.data_);let r=0;n.forEach(o=>{r+=o.byteLength});const i=new Uint8Array(r);let s=0;return n.forEach(o=>{for(let a=0;a<o.length;a++)i[s++]=o[a]}),new qr(i,!0)}}uploadData(){return this.data_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bC(t){let e;try{e=JSON.parse(t)}catch{return null}return hU(e)?e:null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function CU(t){if(t.length===0)return null;const e=t.lastIndexOf("/");return e===-1?"":t.slice(0,e)}function bU(t,e){const n=e.split("/").filter(r=>r.length>0).join("/");return t.length===0?n:t+"/"+n}function RC(t){const e=t.lastIndexOf("/",t.length-2);return e===-1?t:t.slice(e+1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function RU(t,e){return e}class Nt{constructor(e,n,r,i){this.server=e,this.local=n||e,this.writable=!!r,this.xform=i||RU}}let nc=null;function kU(t){return!Jv(t)||t.length<2?t:RC(t)}function kC(){if(nc)return nc;const t=[];t.push(new Nt("bucket")),t.push(new Nt("generation")),t.push(new Nt("metageneration")),t.push(new Nt("name","fullPath",!0));function e(s,o){return kU(o)}const n=new Nt("name");n.xform=e,t.push(n);function r(s,o){return o!==void 0?Number(o):o}const i=new Nt("size");return i.xform=r,t.push(i),t.push(new Nt("timeCreated")),t.push(new Nt("updated")),t.push(new Nt("md5Hash",null,!0)),t.push(new Nt("cacheControl",null,!0)),t.push(new Nt("contentDisposition",null,!0)),t.push(new Nt("contentEncoding",null,!0)),t.push(new Nt("contentLanguage",null,!0)),t.push(new Nt("contentType",null,!0)),t.push(new Nt("metadata","customMetadata",!0)),nc=t,nc}function NU(t,e){function n(){const r=t.bucket,i=t.fullPath,s=new en(r,i);return e._makeStorageReference(s)}Object.defineProperty(t,"ref",{get:n})}function DU(t,e,n){const r={};r.type="file";const i=n.length;for(let s=0;s<i;s++){const o=n[s];r[o.local]=o.xform(r,e[o.server])}return NU(r,t),r}function NC(t,e,n){const r=bC(e);return r===null?null:DU(t,r,n)}function OU(t,e,n,r){const i=bC(e);if(i===null||!Jv(i.downloadTokens))return null;const s=i.downloadTokens;if(s.length===0)return null;const o=encodeURIComponent;return s.split(",").map(u=>{const c=t.bucket,h=t.fullPath,d="/b/"+o(c)+"/o/"+o(h),p=e0(d,n,r),g=IC({alt:"media",token:u});return p+g})[0]}function VU(t,e){const n={},r=e.length;for(let i=0;i<r;i++){const s=e[i];s.writable&&(n[s.server]=t[s.local])}return JSON.stringify(n)}class DC{constructor(e,n,r,i){this.url=e,this.method=n,this.handler=r,this.timeout=i,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function OC(t){if(!t)throw Yv()}function jU(t,e){function n(r,i){const s=NC(t,i,e);return OC(s!==null),s}return n}function MU(t,e){function n(r,i){const s=NC(t,i,e);return OC(s!==null),OU(s,i,t.host,t._protocol)}return n}function VC(t){function e(n,r){let i;return n.getStatus()===401?n.getErrorText().includes("Firebase App Check token is invalid")?i=X$():i=Q$():n.getStatus()===402?i=K$(t.bucket):n.getStatus()===403?i=Y$(t.path):i=r,i.status=n.getStatus(),i.serverResponse=r.serverResponse,i}return e}function LU(t){const e=VC(t);function n(r,i){let s=e(r,i);return r.getStatus()===404&&(s=q$(t.path)),s.serverResponse=i.serverResponse,s}return n}function FU(t,e,n){const r=e.fullServerUrl(),i=e0(r,t.host,t._protocol),s="GET",o=t.maxOperationRetryTime,a=new DC(i,s,MU(t,n),o);return a.errorHandler=LU(e),a}function $U(t,e){return t&&t.contentType||e&&e.type()||"application/octet-stream"}function UU(t,e,n){const r=Object.assign({},n);return r.fullPath=t.path,r.size=e.size(),r.contentType||(r.contentType=$U(null,e)),r}function BU(t,e,n,r,i){const s=e.bucketOnlyServerUrl(),o={"X-Goog-Upload-Protocol":"multipart"};function a(){let y="";for(let T=0;T<2;T++)y=y+Math.random().toString().slice(2);return y}const l=a();o["Content-Type"]="multipart/related; boundary="+l;const u=UU(e,r,i),c=VU(u,n),h="--"+l+`\r
Content-Type: application/json; charset=utf-8\r
\r
`+c+`\r
--`+l+`\r
Content-Type: `+u.contentType+`\r
\r
`,d=`\r
--`+l+"--",p=qr.getBlob(h,r,d);if(p===null)throw rU();const g={name:u.fullPath},_=e0(s,t.host,t._protocol),w="POST",v=t.maxUploadRetryTime,m=new DC(_,w,jU(t,n),v);return m.urlParams=g,m.headers=o,m.body=p.uploadData(),m.errorHandler=VC(e),m}class zU{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=us.NO_ERROR,this.sendPromise_=new Promise(e=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=us.ABORT,e()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=us.NETWORK_ERROR,e()}),this.xhr_.addEventListener("load",()=>{e()})})}send(e,n,r,i){if(this.sent_)throw fa("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(n,e,!0),i!==void 0)for(const s in i)i.hasOwnProperty(s)&&this.xhr_.setRequestHeader(s,i[s].toString());return r!==void 0?this.xhr_.send(r):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw fa("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw fa("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}}getResponse(){if(!this.sent_)throw fa("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw fa("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(e){return this.xhr_.getResponseHeader(e)}addUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.addEventListener("progress",e)}removeUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.removeEventListener("progress",e)}}class WU extends zU{initXhr(){this.xhr_.responseType="text"}}function jC(){return new WU}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let qd=class pg{constructor(e,n){this._service=e,n instanceof en?this._location=n:this._location=en.makeFromUrl(n,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,n){return new pg(e,n)}get root(){const e=new en(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return RC(this._location.path)}get storage(){return this._service}get parent(){const e=CU(this._location.path);if(e===null)return null;const n=new en(this._location.bucket,e);return new pg(this._service,n)}_throwIfRoot(e){if(this._location.path==="")throw oU(e)}};function HU(t,e,n){t._throwIfRoot("uploadBytes");const r=BU(t.storage,t._location,kC(),new qr(e,!0),n);return t.storage.makeRequestWithTokens(r,jC).then(i=>({metadata:i,ref:t}))}function GU(t){t._throwIfRoot("getDownloadURL");const e=FU(t.storage,t._location,kC());return t.storage.makeRequestWithTokens(e,jC).then(n=>{if(n===null)throw iU();return n})}function qU(t,e){const n=bU(t._location.path,e),r=new en(t._location.bucket,n);return new qd(t.storage,r)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function KU(t){return/^[A-Za-z]+:\/\//.test(t)}function QU(t,e){return new qd(t,e)}function MC(t,e){if(t instanceof t0){const n=t;if(n._bucket==null)throw nU();const r=new qd(n,n._bucket);return e!=null?MC(r,e):r}else return e!==void 0?qU(t,e):t}function XU(t,e){if(e&&KU(e)){if(t instanceof t0)return QU(t,e);throw fg("To use ref(service, url), the first argument must be a Storage instance.")}else return MC(t,e)}function F1(t,e){const n=e==null?void 0:e[SC];return n==null?null:en.makeFromBucketSpec(n,t)}function YU(t,e,n,r={}){t.host=`${e}:${n}`,t._protocol="http";const{mockUserToken:i}=r;i&&(t._overrideAuthToken=typeof i=="string"?i:mI(i,t.app.options.projectId))}class t0{constructor(e,n,r,i,s){this.app=e,this._authProvider=n,this._appCheckProvider=r,this._url=i,this._firebaseVersion=s,this._bucket=null,this._host=TC,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=H$,this._maxUploadRetryTime=G$,this._requests=new Set,i!=null?this._bucket=en.makeFromBucketSpec(i,this._host):this._bucket=F1(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=en.makeFromBucketSpec(this._url,e):this._bucket=F1(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){L1("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){L1("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const n=await e.getToken();if(n!==null)return n.accessToken}return null}async _getAppCheckToken(){const e=this._appCheckProvider.getImmediate({optional:!0});return e?(await e.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new qd(this,e)}_makeRequest(e,n,r,i,s=!0){if(this._deleted)return new aU(xC());{const o=vU(e,this._appId,r,i,n,this._firebaseVersion,s);return this._requests.add(o),o.getPromise().then(()=>this._requests.delete(o),()=>this._requests.delete(o)),o}}async makeRequestWithTokens(e,n){const[r,i]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,n,r,i).getPromise()}}const $1="@firebase/storage",U1="0.12.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LC="storage";function JU(t,e,n){return t=je(t),HU(t,e,n)}function ZU(t){return t=je(t),GU(t)}function e3(t,e){return t=je(t),XU(t,e)}function t3(t=$y(),e){t=je(t);const r=dd(t,LC).getImmediate({identifier:e}),i=dI("storage");return i&&n3(r,...i),r}function n3(t,e,n,r={}){YU(t,e,n,r)}function r3(t,{instanceIdentifier:e}){const n=t.getProvider("app").getImmediate(),r=t.getProvider("auth-internal"),i=t.getProvider("app-check-internal");return new t0(n,r,i,e,Ps)}function i3(){ys(new yi(LC,r3,"PUBLIC").setMultipleInstances(!0)),Hn($1,U1,""),Hn($1,U1,"esm2017")}i3();var s3={VITE_FIREBASE_API_KEY:"AIzaSyB-J4OxMiXMfGIApqpVpdUyf2mqPr_6AiM",VITE_FIREBASE_AUTH_DOMAIN:"petpals-5c451.firebaseapp.com",VITE_FIREBASE_PROJECT_ID:"petpals-5c451",VITE_FIREBASE_STORAGE_BUCKET:"petpals-5c451.appspot.com",VITE_FIREBASE_MESSADING_SENDER_ID:"682122634026",VITE_FIREBASE_APP_ID:"1:682122634026:web:9d2303f86bbe9fb0353453",BASE_URL:"/PetPals/",MODE:"production",DEV:!1,PROD:!0,SSR:!1};const o3={apiKey:"AIzaSyB-J4OxMiXMfGIApqpVpdUyf2mqPr_6AiM",authDomain:"petpals-5c451.firebaseapp.com",projectId:"petpals-5c451",storageBucket:"petpals-5c451.appspot.com",messagingSenderId:s3.VITE_FIREBASE_MESSAGING_SENDER_ID,appId:"1:682122634026:web:9d2303f86bbe9fb0353453"},n0=_I(o3),rt=z$(n0),jo=oF(n0),a3=t3(n0),FC=new ur,$C="data:image/svg+xml,%3csvg%20xmlns='http://www.w3.org/2000/svg'%20x='0'%20y='0'%20version='1.1'%20viewBox='0%200%201280%201280'%3e%3cpath%20d='M231.6%20252.5c-6.2%2011.7%202.5%2022.9%2012.3%2022.4a75.8%2086%200%200%201%2042.5%2014c8.2%206.1%2021.4%202%2021.8-11.2%201.3-24.3-9-45.8-27.2-51.4-17.7-6-37.5%205.6-49.4%2026.2M983.8%20296a74.6%2084.6%200%200%201%2044-2.4c10%202.8%2020.7-5.6%2017.4-18.7-6.6-23.3-23.5-39.2-42-38.3-18.6%201-33.9%2018.7-38.4%2042.5-2.5%2013.6%209.5%2021%2019%2016.9'%20class='prefix__st0'/%3e%3cpath%20d='M1263.6%201227.2a114%20114%200%200%200%2016.5-59.8c0-59.4-43.3-112.7-119.5-118.3a28.9%2032.7%200%200%200-3.3-.4C1055.5%20937%201008.9%20666.9%201036%20504.8a191.6%20217.3%200%200%200%20182.6-165c10.7-43.8-8.3-77.5-47.8-85.4-19.4-4.2-32.6-16.4-39.6-37.4l-.8-2.3c-37.1-88.8-102.2-99.6-145.1-103.3v-.5c-15.7%201-34.6%201-24.7-11.2C988.3%2067%20993.2%2051.6%20996.5%2040c7-26.1-19-43-38.3-39.7-106.7%2018.7-211.4%20120.5-266.7%20258a7105.4%208055.1%200%200%200-34.6%2088.7c-19.8-50-59.3-170-174-233.6A296%20335.5%200%200%200%20331.4%2080C288%2082.9%20198.2%2088.5%20150%20204.4c-1.7%201.4-13.2%2012.1-64.3%2018.2-31.3%203.3-60.2%203.3-60.6%203.3-14%200-24.7%2011.2-24.7%2025.7-2%20150%2061.4%20215.4%20108.8%20243v.4a202%20229%200%200%200%2098.9%2022.9c18.1%200%2034.6-1.4%2047-2.8%209%2062.6%2026.4%20316.3-91.1%20534-75.8%206.1-118.3%2059.8-118.3%20118.3%200%2021%205.4%2042%2016.5%2059.8%200%200%2026.4%2052.8%20108%2052.8h266.6c13.6%200%2024.8-12.2%2024.8-26.7s-11.2-26.6-24.8-26.6H162.3c-46.5%200-67.1-29.4-67.1-59.3%200-37.4%2030.9-64%2078.3-65.5%2021.8%204.7%2048.2%2018.3%2059%2051%204.4%2014%2018.9%2021%2031.6%2016.3%2012.8-4.7%2019.8-20%2015.3-33.6a114.6%20129.9%200%200%200-64.7-74.8C325%20846%20316.5%20598.3%20304.5%20513.2a193.7%20219.6%200%200%200-9-37.8%2025.1%2028.5%200%200%200-26.8-15.4c-21.5%203.7-80%2010.2-120.8-4.2-1.2%200-2-1-3.3-1.4a146.3%20165.9%200%200%201-87-118.7c16.1-4.2%2039.2-18.2%2054.5-63.6%2047-8%2073.3-22.9%2082.8-45.8a127.8%20144.8%200%200%201%2091.5-86.9c18.5-4.6%2066.8-11.6%20107.2%2017.3%2012%208%2020.6%2021.5%2026.3%2038.3%209.5%2028.5%202.5%2060.8-18.5%2089.7-55.7%2075.7-69.3%20114.5-64.3%20165a82.4%2093.4%200%200%200%2045.3%2073.3%20127%20144%200%200%200%20119.6-1.8c38.7-25.3%2061.4-71%2072-147.7-9-26.1-24.2-61.2-42.4-86%201.3%2021.5%204.1%2048.2-1.6%2076.7-12%2057.4-19.4%2086-49.5%20109.3a74.2%2084.1%200%200%201-73.8%203.3%2035.9%2040.6%200%200%201-20.6-32.7c-2.4-27.1%200-52.8%2054-127.1%2034.2-46.7%2045-105.6%2019-157.5a308.3%20349.5%200%200%200%2090.7%2086c10.7%2014%2047.8%2065.9%2080.3%20171-75%20198.6-184.6%20510.2-184.6%20636.8%200%20124.8%2095.2%20226.7%20212.2%20226.7S870%201178.6%20870%201053.3c0-68.2-38.3-214.9-113.8-434.5-17.3-50.4-35-99.5-51-144.4l-25.6%2076.7c66.3%20185%20141%20415.8%20141%20502.2%200%2095.8-73%20173.9-162.9%20173.9-89.4%200-162.8-78-162.8-173.9%200-133.6%20141.4-511.6%20188.8-636.3A6489%206489%200%200%201%20737.3%20279c35-87.3%20106-182.2%20192.9-216.3-65.1%2066.4-41.7%20101-18.2%20101h64.3c39.6%203.2%2081.2%207.9%20108.8%2071.9a96.4%20109.3%200%200%200%2057.7%2065c-6.1%2015.4-10.3%2042%2018.2%2056-21.5%2054.7-69.3%20106-173.1%2094.8-13.6-1.4-25.6%209.4-26.8%2023.4-1.7%2015%208.2%2028%2021.8%2029.4h3.3c-12.8%2084.1-8.2%20194.9%2012.8%20300a532%20603.2%200%200%200%20106%20261.2%20113%20128%200%200%200-56.1%2070c-5.8%2017.4%206.6%2035.1%2023.5%2035.1a24.7%2028%200%200%200%2023.5-17.7c10.7-32.7%2037-45.8%2058.5-51.4%20102.6%205.6%2098%20125.7%209%20125.7H879.1a25.5%2025.5%200%200%200-24.8%2026.1c0%2015%2011.2%2026.7%2024.8%2026.7h284.3c78.4%200%20100.2-52.8%20100.2-52.8'%20class='prefix__st0'/%3e%3c/svg%3e";function l3(){const[t,e]=E.useState(!1),[n,r]=E.useState(!!rt.currentUser);E.useEffect(()=>{const o=rt.onAuthStateChanged(a=>{r(!!a)});return()=>o()},[]);const i=()=>{e(o=>!o)},s=()=>{document.getElementById("nav").click()};return f.jsx(f.Fragment,{children:f.jsxs("nav",{children:[f.jsxs(nt,{to:"/",className:"logo",children:[f.jsx("img",{src:$C,className:"nav-logo",alt:"PetPals"}),"PetPals"]}),f.jsx("input",{type:"checkbox",id:"nav",className:"hidden",onChange:i}),f.jsxs("label",{htmlFor:"nav",className:`nav-btn ${t?"open":""}`,children:[f.jsx("i",{}),f.jsx("i",{}),f.jsx("i",{})]}),f.jsx("div",{className:`nav-wrapper ${t?"show":""}`,children:f.jsxs("ul",{children:[f.jsx("li",{children:f.jsx(nt,{to:"/add",onClick:s,children:"Add"})}),f.jsx("li",{children:f.jsx(nt,{to:"/discover",onClick:s,children:"Discover"})}),f.jsx("li",{children:f.jsx(nt,{to:"/blog",onClick:s,children:"Blog"})}),f.jsx("li",{children:f.jsx(nt,{to:"/about",onClick:s,children:"About"})}),f.jsx("li",{children:n?f.jsx(nt,{to:"/user/me",onClick:s,children:f.jsxs("button",{children:[f.jsx("i",{className:"bx bxs-cat bx-sm"}),rt.currentUser.displayName||rt.currentUser.email]})}):f.jsx(nt,{to:"/login",onClick:s,children:f.jsxs("button",{children:[f.jsx("i",{className:"bx bxs-log-in-circle bx-sm"}),"Login"]})})})]})})]})})}const u3="/PetPals/assets/Animal shelter-cuate-OPFTOdXc.svg";function c3(){return f.jsx(f.Fragment,{children:f.jsxs("main",{children:[f.jsxs("div",{className:"about-content-panel",children:[f.jsx("div",{className:"about-content-text",children:f.jsx("h1",{className:"about-content-heading",children:"Connecting potential adopters, animal rescuers, and shelters."})}),f.jsx("div",{className:"about-content-image",children:f.jsx("img",{src:u3,style:{width:"100%"},alt:"Adoption Image"})})]}),f.jsx("p",{className:"about-content-description",children:"PetPals was launched to address the growing issue of homeless animals, aiming to create a meaningful impact on their lives and alleviate their hardships."}),f.jsx("div",{className:"about-content-panel",children:f.jsx("div",{className:"about-content-card",children:f.jsxs("div",{className:"about-card-text",children:[f.jsx("h3",{className:"about-card-title",children:"Why PetPals?"}),f.jsxs("p",{children:["It is estimated that there are over 3 million strays, many of whom suffer from starvation, malnutrition, diseases and severe injuries. ",f.jsx("br",{}),f.jsx("br",{}),"Our platform connects potential adopters with people who need to rehome their pets, initially starting with the Sri Lanka's most popular pets; dogs, cats.",f.jsx("br",{}),f.jsx("br",{}),"This makes it easier for good people to adopt the right pet whilst maximising the chance of pets finding their forever home. ",f.jsx("br",{}),f.jsx("br",{}),"We offer a non-judgmental service to rehomers and give them full control of the process while helping to reduce the number of animals going into shelters."]})]})})})]})})}var h3=function(e){return d3(e)&&!f3(e)};function d3(t){return!!t&&typeof t=="object"}function f3(t){var e=Object.prototype.toString.call(t);return e==="[object RegExp]"||e==="[object Date]"||g3(t)}var p3=typeof Symbol=="function"&&Symbol.for,m3=p3?Symbol.for("react.element"):60103;function g3(t){return t.$$typeof===m3}function y3(t){return Array.isArray(t)?[]:{}}function Nh(t,e){return e.clone!==!1&&e.isMergeableObject(t)?Ml(y3(t),t,e):t}function v3(t,e,n){return t.concat(e).map(function(r){return Nh(r,n)})}function _3(t,e,n){var r={};return n.isMergeableObject(t)&&Object.keys(t).forEach(function(i){r[i]=Nh(t[i],n)}),Object.keys(e).forEach(function(i){!n.isMergeableObject(e[i])||!t[i]?r[i]=Nh(e[i],n):r[i]=Ml(t[i],e[i],n)}),r}function Ml(t,e,n){n=n||{},n.arrayMerge=n.arrayMerge||v3,n.isMergeableObject=n.isMergeableObject||h3;var r=Array.isArray(e),i=Array.isArray(t),s=r===i;return s?r?n.arrayMerge(t,e,n):_3(t,e,n):Nh(e,n)}Ml.all=function(e,n){if(!Array.isArray(e))throw new Error("first argument should be an array");return e.reduce(function(r,i){return Ml(r,i,n)},{})};var mg=Ml,w3=typeof global=="object"&&global&&global.Object===Object&&global;const UC=w3;var E3=typeof self=="object"&&self&&self.Object===Object&&self,T3=UC||E3||Function("return this")();const nr=T3;var S3=nr.Symbol;const Ei=S3;var BC=Object.prototype,x3=BC.hasOwnProperty,I3=BC.toString,pa=Ei?Ei.toStringTag:void 0;function A3(t){var e=x3.call(t,pa),n=t[pa];try{t[pa]=void 0;var r=!0}catch{}var i=I3.call(t);return r&&(e?t[pa]=n:delete t[pa]),i}var P3=Object.prototype,C3=P3.toString;function b3(t){return C3.call(t)}var R3="[object Null]",k3="[object Undefined]",B1=Ei?Ei.toStringTag:void 0;function ks(t){return t==null?t===void 0?k3:R3:B1&&B1 in Object(t)?A3(t):b3(t)}function zC(t,e){return function(n){return t(e(n))}}var N3=zC(Object.getPrototypeOf,Object);const r0=N3;function Ns(t){return t!=null&&typeof t=="object"}var D3="[object Object]",O3=Function.prototype,V3=Object.prototype,WC=O3.toString,j3=V3.hasOwnProperty,M3=WC.call(Object);function z1(t){if(!Ns(t)||ks(t)!=D3)return!1;var e=r0(t);if(e===null)return!0;var n=j3.call(e,"constructor")&&e.constructor;return typeof n=="function"&&n instanceof n&&WC.call(n)==M3}var W1=Array.isArray,H1=Object.keys,L3=Object.prototype.hasOwnProperty,F3=typeof Element<"u";function gg(t,e){if(t===e)return!0;if(t&&e&&typeof t=="object"&&typeof e=="object"){var n=W1(t),r=W1(e),i,s,o;if(n&&r){if(s=t.length,s!=e.length)return!1;for(i=s;i--!==0;)if(!gg(t[i],e[i]))return!1;return!0}if(n!=r)return!1;var a=t instanceof Date,l=e instanceof Date;if(a!=l)return!1;if(a&&l)return t.getTime()==e.getTime();var u=t instanceof RegExp,c=e instanceof RegExp;if(u!=c)return!1;if(u&&c)return t.toString()==e.toString();var h=H1(t);if(s=h.length,s!==H1(e).length)return!1;for(i=s;i--!==0;)if(!L3.call(e,h[i]))return!1;if(F3&&t instanceof Element&&e instanceof Element)return t===e;for(i=s;i--!==0;)if(o=h[i],!(o==="_owner"&&t.$$typeof)&&!gg(t[o],e[o]))return!1;return!0}return t!==t&&e!==e}var $3=function(e,n){try{return gg(e,n)}catch(r){if(r.message&&r.message.match(/stack|recursion/i)||r.number===-2146828260)return console.warn("Warning: react-fast-compare does not handle circular references.",r.name,r.message),!1;throw r}};const $r=Hh($3);var U3=!0;function HC(t,e){if(!U3){if(t)return;var n="Warning: "+e;typeof console<"u"&&console.warn(n);try{throw Error(n)}catch{}}}function B3(){this.__data__=[],this.size=0}function GC(t,e){return t===e||t!==t&&e!==e}function Kd(t,e){for(var n=t.length;n--;)if(GC(t[n][0],e))return n;return-1}var z3=Array.prototype,W3=z3.splice;function H3(t){var e=this.__data__,n=Kd(e,t);if(n<0)return!1;var r=e.length-1;return n==r?e.pop():W3.call(e,n,1),--this.size,!0}function G3(t){var e=this.__data__,n=Kd(e,t);return n<0?void 0:e[n][1]}function q3(t){return Kd(this.__data__,t)>-1}function K3(t,e){var n=this.__data__,r=Kd(n,t);return r<0?(++this.size,n.push([t,e])):n[r][1]=e,this}function Nr(t){var e=-1,n=t==null?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}Nr.prototype.clear=B3;Nr.prototype.delete=H3;Nr.prototype.get=G3;Nr.prototype.has=q3;Nr.prototype.set=K3;function Q3(){this.__data__=new Nr,this.size=0}function X3(t){var e=this.__data__,n=e.delete(t);return this.size=e.size,n}function Y3(t){return this.__data__.get(t)}function J3(t){return this.__data__.has(t)}function _u(t){var e=typeof t;return t!=null&&(e=="object"||e=="function")}var Z3="[object AsyncFunction]",e6="[object Function]",t6="[object GeneratorFunction]",n6="[object Proxy]";function qC(t){if(!_u(t))return!1;var e=ks(t);return e==e6||e==t6||e==Z3||e==n6}var r6=nr["__core-js_shared__"];const yp=r6;var G1=function(){var t=/[^.]+$/.exec(yp&&yp.keys&&yp.keys.IE_PROTO||"");return t?"Symbol(src)_1."+t:""}();function i6(t){return!!G1&&G1 in t}var s6=Function.prototype,o6=s6.toString;function Ds(t){if(t!=null){try{return o6.call(t)}catch{}try{return t+""}catch{}}return""}var a6=/[\\^$.*+?()[\]{}|]/g,l6=/^\[object .+?Constructor\]$/,u6=Function.prototype,c6=Object.prototype,h6=u6.toString,d6=c6.hasOwnProperty,f6=RegExp("^"+h6.call(d6).replace(a6,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function p6(t){if(!_u(t)||i6(t))return!1;var e=qC(t)?f6:l6;return e.test(Ds(t))}function m6(t,e){return t==null?void 0:t[e]}function Os(t,e){var n=m6(t,e);return p6(n)?n:void 0}var g6=Os(nr,"Map");const Ll=g6;var y6=Os(Object,"create");const Fl=y6;function v6(){this.__data__=Fl?Fl(null):{},this.size=0}function _6(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e}var w6="__lodash_hash_undefined__",E6=Object.prototype,T6=E6.hasOwnProperty;function S6(t){var e=this.__data__;if(Fl){var n=e[t];return n===w6?void 0:n}return T6.call(e,t)?e[t]:void 0}var x6=Object.prototype,I6=x6.hasOwnProperty;function A6(t){var e=this.__data__;return Fl?e[t]!==void 0:I6.call(e,t)}var P6="__lodash_hash_undefined__";function C6(t,e){var n=this.__data__;return this.size+=this.has(t)?0:1,n[t]=Fl&&e===void 0?P6:e,this}function Ss(t){var e=-1,n=t==null?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}Ss.prototype.clear=v6;Ss.prototype.delete=_6;Ss.prototype.get=S6;Ss.prototype.has=A6;Ss.prototype.set=C6;function b6(){this.size=0,this.__data__={hash:new Ss,map:new(Ll||Nr),string:new Ss}}function R6(t){var e=typeof t;return e=="string"||e=="number"||e=="symbol"||e=="boolean"?t!=="__proto__":t===null}function Qd(t,e){var n=t.__data__;return R6(e)?n[typeof e=="string"?"string":"hash"]:n.map}function k6(t){var e=Qd(this,t).delete(t);return this.size-=e?1:0,e}function N6(t){return Qd(this,t).get(t)}function D6(t){return Qd(this,t).has(t)}function O6(t,e){var n=Qd(this,t),r=n.size;return n.set(t,e),this.size+=n.size==r?0:1,this}function Ni(t){var e=-1,n=t==null?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}Ni.prototype.clear=b6;Ni.prototype.delete=k6;Ni.prototype.get=N6;Ni.prototype.has=D6;Ni.prototype.set=O6;var V6=200;function j6(t,e){var n=this.__data__;if(n instanceof Nr){var r=n.__data__;if(!Ll||r.length<V6-1)return r.push([t,e]),this.size=++n.size,this;n=this.__data__=new Ni(r)}return n.set(t,e),this.size=n.size,this}function ea(t){var e=this.__data__=new Nr(t);this.size=e.size}ea.prototype.clear=Q3;ea.prototype.delete=X3;ea.prototype.get=Y3;ea.prototype.has=J3;ea.prototype.set=j6;function M6(t,e){for(var n=-1,r=t==null?0:t.length;++n<r&&e(t[n],n,t)!==!1;);return t}var L6=function(){try{var t=Os(Object,"defineProperty");return t({},"",{}),t}catch{}}();const q1=L6;function KC(t,e,n){e=="__proto__"&&q1?q1(t,e,{configurable:!0,enumerable:!0,value:n,writable:!0}):t[e]=n}var F6=Object.prototype,$6=F6.hasOwnProperty;function QC(t,e,n){var r=t[e];(!($6.call(t,e)&&GC(r,n))||n===void 0&&!(e in t))&&KC(t,e,n)}function Xd(t,e,n,r){var i=!n;n||(n={});for(var s=-1,o=e.length;++s<o;){var a=e[s],l=r?r(n[a],t[a],a,n,t):void 0;l===void 0&&(l=t[a]),i?KC(n,a,l):QC(n,a,l)}return n}function U6(t,e){for(var n=-1,r=Array(t);++n<t;)r[n]=e(n);return r}var B6="[object Arguments]";function K1(t){return Ns(t)&&ks(t)==B6}var XC=Object.prototype,z6=XC.hasOwnProperty,W6=XC.propertyIsEnumerable,H6=K1(function(){return arguments}())?K1:function(t){return Ns(t)&&z6.call(t,"callee")&&!W6.call(t,"callee")};const G6=H6;var q6=Array.isArray;const wu=q6;function K6(){return!1}var YC=typeof nn=="object"&&nn&&!nn.nodeType&&nn,Q1=YC&&typeof rn=="object"&&rn&&!rn.nodeType&&rn,Q6=Q1&&Q1.exports===YC,X1=Q6?nr.Buffer:void 0,X6=X1?X1.isBuffer:void 0,Y6=X6||K6;const JC=Y6;var J6=9007199254740991,Z6=/^(?:0|[1-9]\d*)$/;function e5(t,e){var n=typeof t;return e=e??J6,!!e&&(n=="number"||n!="symbol"&&Z6.test(t))&&t>-1&&t%1==0&&t<e}var t5=9007199254740991;function ZC(t){return typeof t=="number"&&t>-1&&t%1==0&&t<=t5}var n5="[object Arguments]",r5="[object Array]",i5="[object Boolean]",s5="[object Date]",o5="[object Error]",a5="[object Function]",l5="[object Map]",u5="[object Number]",c5="[object Object]",h5="[object RegExp]",d5="[object Set]",f5="[object String]",p5="[object WeakMap]",m5="[object ArrayBuffer]",g5="[object DataView]",y5="[object Float32Array]",v5="[object Float64Array]",_5="[object Int8Array]",w5="[object Int16Array]",E5="[object Int32Array]",T5="[object Uint8Array]",S5="[object Uint8ClampedArray]",x5="[object Uint16Array]",I5="[object Uint32Array]",Ee={};Ee[y5]=Ee[v5]=Ee[_5]=Ee[w5]=Ee[E5]=Ee[T5]=Ee[S5]=Ee[x5]=Ee[I5]=!0;Ee[n5]=Ee[r5]=Ee[m5]=Ee[i5]=Ee[g5]=Ee[s5]=Ee[o5]=Ee[a5]=Ee[l5]=Ee[u5]=Ee[c5]=Ee[h5]=Ee[d5]=Ee[f5]=Ee[p5]=!1;function A5(t){return Ns(t)&&ZC(t.length)&&!!Ee[ks(t)]}function i0(t){return function(e){return t(e)}}var e2=typeof nn=="object"&&nn&&!nn.nodeType&&nn,qa=e2&&typeof rn=="object"&&rn&&!rn.nodeType&&rn,P5=qa&&qa.exports===e2,vp=P5&&UC.process,C5=function(){try{var t=qa&&qa.require&&qa.require("util").types;return t||vp&&vp.binding&&vp.binding("util")}catch{}}();const Mo=C5;var Y1=Mo&&Mo.isTypedArray,b5=Y1?i0(Y1):A5;const R5=b5;var k5=Object.prototype,N5=k5.hasOwnProperty;function t2(t,e){var n=wu(t),r=!n&&G6(t),i=!n&&!r&&JC(t),s=!n&&!r&&!i&&R5(t),o=n||r||i||s,a=o?U6(t.length,String):[],l=a.length;for(var u in t)(e||N5.call(t,u))&&!(o&&(u=="length"||i&&(u=="offset"||u=="parent")||s&&(u=="buffer"||u=="byteLength"||u=="byteOffset")||e5(u,l)))&&a.push(u);return a}var D5=Object.prototype;function s0(t){var e=t&&t.constructor,n=typeof e=="function"&&e.prototype||D5;return t===n}var O5=zC(Object.keys,Object);const V5=O5;var j5=Object.prototype,M5=j5.hasOwnProperty;function L5(t){if(!s0(t))return V5(t);var e=[];for(var n in Object(t))M5.call(t,n)&&n!="constructor"&&e.push(n);return e}function n2(t){return t!=null&&ZC(t.length)&&!qC(t)}function o0(t){return n2(t)?t2(t):L5(t)}function F5(t,e){return t&&Xd(e,o0(e),t)}function $5(t){var e=[];if(t!=null)for(var n in Object(t))e.push(n);return e}var U5=Object.prototype,B5=U5.hasOwnProperty;function z5(t){if(!_u(t))return $5(t);var e=s0(t),n=[];for(var r in t)r=="constructor"&&(e||!B5.call(t,r))||n.push(r);return n}function a0(t){return n2(t)?t2(t,!0):z5(t)}function W5(t,e){return t&&Xd(e,a0(e),t)}var r2=typeof nn=="object"&&nn&&!nn.nodeType&&nn,J1=r2&&typeof rn=="object"&&rn&&!rn.nodeType&&rn,H5=J1&&J1.exports===r2,Z1=H5?nr.Buffer:void 0,eE=Z1?Z1.allocUnsafe:void 0;function G5(t,e){if(e)return t.slice();var n=t.length,r=eE?eE(n):new t.constructor(n);return t.copy(r),r}function i2(t,e){var n=-1,r=t.length;for(e||(e=Array(r));++n<r;)e[n]=t[n];return e}function q5(t,e){for(var n=-1,r=t==null?0:t.length,i=0,s=[];++n<r;){var o=t[n];e(o,n,t)&&(s[i++]=o)}return s}function s2(){return[]}var K5=Object.prototype,Q5=K5.propertyIsEnumerable,tE=Object.getOwnPropertySymbols,X5=tE?function(t){return t==null?[]:(t=Object(t),q5(tE(t),function(e){return Q5.call(t,e)}))}:s2;const l0=X5;function Y5(t,e){return Xd(t,l0(t),e)}function o2(t,e){for(var n=-1,r=e.length,i=t.length;++n<r;)t[i+n]=e[n];return t}var J5=Object.getOwnPropertySymbols,Z5=J5?function(t){for(var e=[];t;)o2(e,l0(t)),t=r0(t);return e}:s2;const a2=Z5;function e9(t,e){return Xd(t,a2(t),e)}function l2(t,e,n){var r=e(t);return wu(t)?r:o2(r,n(t))}function t9(t){return l2(t,o0,l0)}function n9(t){return l2(t,a0,a2)}var r9=Os(nr,"DataView");const yg=r9;var i9=Os(nr,"Promise");const vg=i9;var s9=Os(nr,"Set");const _g=s9;var o9=Os(nr,"WeakMap");const wg=o9;var nE="[object Map]",a9="[object Object]",rE="[object Promise]",iE="[object Set]",sE="[object WeakMap]",oE="[object DataView]",l9=Ds(yg),u9=Ds(Ll),c9=Ds(vg),h9=Ds(_g),d9=Ds(wg),Wi=ks;(yg&&Wi(new yg(new ArrayBuffer(1)))!=oE||Ll&&Wi(new Ll)!=nE||vg&&Wi(vg.resolve())!=rE||_g&&Wi(new _g)!=iE||wg&&Wi(new wg)!=sE)&&(Wi=function(t){var e=ks(t),n=e==a9?t.constructor:void 0,r=n?Ds(n):"";if(r)switch(r){case l9:return oE;case u9:return nE;case c9:return rE;case h9:return iE;case d9:return sE}return e});const u0=Wi;var f9=Object.prototype,p9=f9.hasOwnProperty;function m9(t){var e=t.length,n=new t.constructor(e);return e&&typeof t[0]=="string"&&p9.call(t,"index")&&(n.index=t.index,n.input=t.input),n}var g9=nr.Uint8Array;const aE=g9;function c0(t){var e=new t.constructor(t.byteLength);return new aE(e).set(new aE(t)),e}function y9(t,e){var n=e?c0(t.buffer):t.buffer;return new t.constructor(n,t.byteOffset,t.byteLength)}var v9=/\w*$/;function _9(t){var e=new t.constructor(t.source,v9.exec(t));return e.lastIndex=t.lastIndex,e}var lE=Ei?Ei.prototype:void 0,uE=lE?lE.valueOf:void 0;function w9(t){return uE?Object(uE.call(t)):{}}function E9(t,e){var n=e?c0(t.buffer):t.buffer;return new t.constructor(n,t.byteOffset,t.length)}var T9="[object Boolean]",S9="[object Date]",x9="[object Map]",I9="[object Number]",A9="[object RegExp]",P9="[object Set]",C9="[object String]",b9="[object Symbol]",R9="[object ArrayBuffer]",k9="[object DataView]",N9="[object Float32Array]",D9="[object Float64Array]",O9="[object Int8Array]",V9="[object Int16Array]",j9="[object Int32Array]",M9="[object Uint8Array]",L9="[object Uint8ClampedArray]",F9="[object Uint16Array]",$9="[object Uint32Array]";function U9(t,e,n){var r=t.constructor;switch(e){case R9:return c0(t);case T9:case S9:return new r(+t);case k9:return y9(t,n);case N9:case D9:case O9:case V9:case j9:case M9:case L9:case F9:case $9:return E9(t,n);case x9:return new r;case I9:case C9:return new r(t);case A9:return _9(t);case P9:return new r;case b9:return w9(t)}}var cE=Object.create,B9=function(){function t(){}return function(e){if(!_u(e))return{};if(cE)return cE(e);t.prototype=e;var n=new t;return t.prototype=void 0,n}}();const z9=B9;function W9(t){return typeof t.constructor=="function"&&!s0(t)?z9(r0(t)):{}}var H9="[object Map]";function G9(t){return Ns(t)&&u0(t)==H9}var hE=Mo&&Mo.isMap,q9=hE?i0(hE):G9;const K9=q9;var Q9="[object Set]";function X9(t){return Ns(t)&&u0(t)==Q9}var dE=Mo&&Mo.isSet,Y9=dE?i0(dE):X9;const J9=Y9;var Z9=1,eB=2,tB=4,u2="[object Arguments]",nB="[object Array]",rB="[object Boolean]",iB="[object Date]",sB="[object Error]",c2="[object Function]",oB="[object GeneratorFunction]",aB="[object Map]",lB="[object Number]",h2="[object Object]",uB="[object RegExp]",cB="[object Set]",hB="[object String]",dB="[object Symbol]",fB="[object WeakMap]",pB="[object ArrayBuffer]",mB="[object DataView]",gB="[object Float32Array]",yB="[object Float64Array]",vB="[object Int8Array]",_B="[object Int16Array]",wB="[object Int32Array]",EB="[object Uint8Array]",TB="[object Uint8ClampedArray]",SB="[object Uint16Array]",xB="[object Uint32Array]",me={};me[u2]=me[nB]=me[pB]=me[mB]=me[rB]=me[iB]=me[gB]=me[yB]=me[vB]=me[_B]=me[wB]=me[aB]=me[lB]=me[h2]=me[uB]=me[cB]=me[hB]=me[dB]=me[EB]=me[TB]=me[SB]=me[xB]=!0;me[sB]=me[c2]=me[fB]=!1;function Ka(t,e,n,r,i,s){var o,a=e&Z9,l=e&eB,u=e&tB;if(n&&(o=i?n(t,r,i,s):n(t)),o!==void 0)return o;if(!_u(t))return t;var c=wu(t);if(c){if(o=m9(t),!a)return i2(t,o)}else{var h=u0(t),d=h==c2||h==oB;if(JC(t))return G5(t,a);if(h==h2||h==u2||d&&!i){if(o=l||d?{}:W9(t),!a)return l?e9(t,W5(o,t)):Y5(t,F5(o,t))}else{if(!me[h])return i?t:{};o=U9(t,h,a)}}s||(s=new ea);var p=s.get(t);if(p)return p;s.set(t,o),J9(t)?t.forEach(function(w){o.add(Ka(w,e,n,w,t,s))}):K9(t)&&t.forEach(function(w,v){o.set(v,Ka(w,e,n,v,t,s))});var g=u?l?n9:t9:l?a0:o0,_=c?void 0:g(t);return M6(_||t,function(w,v){_&&(v=w,w=t[v]),QC(o,v,Ka(w,e,n,v,t,s))}),o}var IB=4;function fE(t){return Ka(t,IB)}function d2(t,e){for(var n=-1,r=t==null?0:t.length,i=Array(r);++n<r;)i[n]=e(t[n],n,t);return i}var AB="[object Symbol]";function h0(t){return typeof t=="symbol"||Ns(t)&&ks(t)==AB}var PB="Expected a function";function d0(t,e){if(typeof t!="function"||e!=null&&typeof e!="function")throw new TypeError(PB);var n=function(){var r=arguments,i=e?e.apply(this,r):r[0],s=n.cache;if(s.has(i))return s.get(i);var o=t.apply(this,r);return n.cache=s.set(i,o)||s,o};return n.cache=new(d0.Cache||Ni),n}d0.Cache=Ni;var CB=500;function bB(t){var e=d0(t,function(r){return n.size===CB&&n.clear(),r}),n=e.cache;return e}var RB=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,kB=/\\(\\)?/g,NB=bB(function(t){var e=[];return t.charCodeAt(0)===46&&e.push(""),t.replace(RB,function(n,r,i,s){e.push(i?s.replace(kB,"$1"):r||n)}),e});const DB=NB;var OB=1/0;function VB(t){if(typeof t=="string"||h0(t))return t;var e=t+"";return e=="0"&&1/t==-OB?"-0":e}var jB=1/0,pE=Ei?Ei.prototype:void 0,mE=pE?pE.toString:void 0;function f2(t){if(typeof t=="string")return t;if(wu(t))return d2(t,f2)+"";if(h0(t))return mE?mE.call(t):"";var e=t+"";return e=="0"&&1/t==-jB?"-0":e}function MB(t){return t==null?"":f2(t)}function p2(t){return wu(t)?d2(t,VB):h0(t)?[t]:i2(DB(MB(t)))}var m2={exports:{}},pe={};/** @license React v16.13.1
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var at=typeof Symbol=="function"&&Symbol.for,f0=at?Symbol.for("react.element"):60103,p0=at?Symbol.for("react.portal"):60106,Yd=at?Symbol.for("react.fragment"):60107,Jd=at?Symbol.for("react.strict_mode"):60108,Zd=at?Symbol.for("react.profiler"):60114,ef=at?Symbol.for("react.provider"):60109,tf=at?Symbol.for("react.context"):60110,m0=at?Symbol.for("react.async_mode"):60111,nf=at?Symbol.for("react.concurrent_mode"):60111,rf=at?Symbol.for("react.forward_ref"):60112,sf=at?Symbol.for("react.suspense"):60113,LB=at?Symbol.for("react.suspense_list"):60120,of=at?Symbol.for("react.memo"):60115,af=at?Symbol.for("react.lazy"):60116,FB=at?Symbol.for("react.block"):60121,$B=at?Symbol.for("react.fundamental"):60117,UB=at?Symbol.for("react.responder"):60118,BB=at?Symbol.for("react.scope"):60119;function hn(t){if(typeof t=="object"&&t!==null){var e=t.$$typeof;switch(e){case f0:switch(t=t.type,t){case m0:case nf:case Yd:case Zd:case Jd:case sf:return t;default:switch(t=t&&t.$$typeof,t){case tf:case rf:case af:case of:case ef:return t;default:return e}}case p0:return e}}}function g2(t){return hn(t)===nf}pe.AsyncMode=m0;pe.ConcurrentMode=nf;pe.ContextConsumer=tf;pe.ContextProvider=ef;pe.Element=f0;pe.ForwardRef=rf;pe.Fragment=Yd;pe.Lazy=af;pe.Memo=of;pe.Portal=p0;pe.Profiler=Zd;pe.StrictMode=Jd;pe.Suspense=sf;pe.isAsyncMode=function(t){return g2(t)||hn(t)===m0};pe.isConcurrentMode=g2;pe.isContextConsumer=function(t){return hn(t)===tf};pe.isContextProvider=function(t){return hn(t)===ef};pe.isElement=function(t){return typeof t=="object"&&t!==null&&t.$$typeof===f0};pe.isForwardRef=function(t){return hn(t)===rf};pe.isFragment=function(t){return hn(t)===Yd};pe.isLazy=function(t){return hn(t)===af};pe.isMemo=function(t){return hn(t)===of};pe.isPortal=function(t){return hn(t)===p0};pe.isProfiler=function(t){return hn(t)===Zd};pe.isStrictMode=function(t){return hn(t)===Jd};pe.isSuspense=function(t){return hn(t)===sf};pe.isValidElementType=function(t){return typeof t=="string"||typeof t=="function"||t===Yd||t===nf||t===Zd||t===Jd||t===sf||t===LB||typeof t=="object"&&t!==null&&(t.$$typeof===af||t.$$typeof===of||t.$$typeof===ef||t.$$typeof===tf||t.$$typeof===rf||t.$$typeof===$B||t.$$typeof===UB||t.$$typeof===BB||t.$$typeof===FB)};pe.typeOf=hn;m2.exports=pe;var zB=m2.exports,g0=zB,WB={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},HB={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},GB={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},y2={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},y0={};y0[g0.ForwardRef]=GB;y0[g0.Memo]=y2;function gE(t){return g0.isMemo(t)?y2:y0[t.$$typeof]||WB}var qB=Object.defineProperty,KB=Object.getOwnPropertyNames,yE=Object.getOwnPropertySymbols,QB=Object.getOwnPropertyDescriptor,XB=Object.getPrototypeOf,vE=Object.prototype;function v2(t,e,n){if(typeof e!="string"){if(vE){var r=XB(e);r&&r!==vE&&v2(t,r,n)}var i=KB(e);yE&&(i=i.concat(yE(e)));for(var s=gE(t),o=gE(e),a=0;a<i.length;++a){var l=i[a];if(!HB[l]&&!(n&&n[l])&&!(o&&o[l])&&!(s&&s[l])){var u=QB(e,l);try{qB(t,l,u)}catch{}}}}return t}var YB=v2;const JB=Hh(YB);var ZB=1,e8=4;function t8(t){return Ka(t,ZB|e8)}function he(){return he=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},he.apply(this,arguments)}function _2(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,t.__proto__=e}function Jr(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,s;for(s=0;s<r.length;s++)i=r[s],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}function _E(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}var lf=E.createContext(void 0);lf.displayName="FormikContext";var n8=lf.Provider,r8=lf.Consumer;function w2(){var t=E.useContext(lf);return t||HC(!1),t}var wE=function(e){return Array.isArray(e)&&e.length===0},ct=function(e){return typeof e=="function"},Eu=function(e){return e!==null&&typeof e=="object"},i8=function(e){return String(Math.floor(Number(e)))===e},_p=function(e){return Object.prototype.toString.call(e)==="[object String]"},E2=function(e){return E.Children.count(e)===0},wp=function(e){return Eu(e)&&ct(e.then)};function Ae(t,e,n,r){r===void 0&&(r=0);for(var i=p2(e);t&&r<i.length;)t=t[i[r++]];return r!==i.length&&!t||t===void 0?n:t}function Yn(t,e,n){for(var r=fE(t),i=r,s=0,o=p2(e);s<o.length-1;s++){var a=o[s],l=Ae(t,o.slice(0,s+1));if(l&&(Eu(l)||Array.isArray(l)))i=i[a]=fE(l);else{var u=o[s+1];i=i[a]=i8(u)&&Number(u)>=0?[]:{}}}return(s===0?t:i)[o[s]]===n?t:(n===void 0?delete i[o[s]]:i[o[s]]=n,s===0&&n===void 0&&delete r[o[s]],r)}function T2(t,e,n,r){n===void 0&&(n=new WeakMap),r===void 0&&(r={});for(var i=0,s=Object.keys(t);i<s.length;i++){var o=s[i],a=t[o];Eu(a)?n.get(a)||(n.set(a,!0),r[o]=Array.isArray(a)?[]:{},T2(a,e,n,r[o])):r[o]=e}return r}function s8(t,e){switch(e.type){case"SET_VALUES":return he({},t,{values:e.payload});case"SET_TOUCHED":return he({},t,{touched:e.payload});case"SET_ERRORS":return $r(t.errors,e.payload)?t:he({},t,{errors:e.payload});case"SET_STATUS":return he({},t,{status:e.payload});case"SET_ISSUBMITTING":return he({},t,{isSubmitting:e.payload});case"SET_ISVALIDATING":return he({},t,{isValidating:e.payload});case"SET_FIELD_VALUE":return he({},t,{values:Yn(t.values,e.payload.field,e.payload.value)});case"SET_FIELD_TOUCHED":return he({},t,{touched:Yn(t.touched,e.payload.field,e.payload.value)});case"SET_FIELD_ERROR":return he({},t,{errors:Yn(t.errors,e.payload.field,e.payload.value)});case"RESET_FORM":return he({},t,e.payload);case"SET_FORMIK_STATE":return e.payload(t);case"SUBMIT_ATTEMPT":return he({},t,{touched:T2(t.values,!0),isSubmitting:!0,submitCount:t.submitCount+1});case"SUBMIT_FAILURE":return he({},t,{isSubmitting:!1});case"SUBMIT_SUCCESS":return he({},t,{isSubmitting:!1});default:return t}}var Li={},rc={};function o8(t){var e=t.validateOnChange,n=e===void 0?!0:e,r=t.validateOnBlur,i=r===void 0?!0:r,s=t.validateOnMount,o=s===void 0?!1:s,a=t.isInitialValid,l=t.enableReinitialize,u=l===void 0?!1:l,c=t.onSubmit,h=Jr(t,["validateOnChange","validateOnBlur","validateOnMount","isInitialValid","enableReinitialize","onSubmit"]),d=he({validateOnChange:n,validateOnBlur:i,validateOnMount:o,onSubmit:c},h),p=E.useRef(d.initialValues),g=E.useRef(d.initialErrors||Li),_=E.useRef(d.initialTouched||rc),w=E.useRef(d.initialStatus),v=E.useRef(!1),m=E.useRef({});E.useEffect(function(){return v.current=!0,function(){v.current=!1}},[]);var y=E.useState(0),T=y[1],S=E.useRef({values:d.initialValues,errors:d.initialErrors||Li,touched:d.initialTouched||rc,status:d.initialStatus,isSubmitting:!1,isValidating:!1,submitCount:0}),x=S.current,I=E.useCallback(function(P){var j=S.current;S.current=s8(j,P),j!==S.current&&T(function(U){return U+1})},[]),A=E.useCallback(function(P,j){return new Promise(function(U,W){var te=d.validate(P,j);te==null?U(Li):wp(te)?te.then(function(ce){U(ce||Li)},function(ce){W(ce)}):U(te)})},[d.validate]),C=E.useCallback(function(P,j){var U=d.validationSchema,W=ct(U)?U(j):U,te=j&&W.validateAt?W.validateAt(j,P):l8(P,W);return new Promise(function(ce,Ze){te.then(function(){ce(Li)},function(sr){sr.name==="ValidationError"?ce(a8(sr)):Ze(sr)})})},[d.validationSchema]),k=E.useCallback(function(P,j){return new Promise(function(U){return U(m.current[P].validate(j))})},[]),$=E.useCallback(function(P){var j=Object.keys(m.current).filter(function(W){return ct(m.current[W].validate)}),U=j.length>0?j.map(function(W){return k(W,Ae(P,W))}):[Promise.resolve("DO_NOT_DELETE_YOU_WILL_BE_FIRED")];return Promise.all(U).then(function(W){return W.reduce(function(te,ce,Ze){return ce==="DO_NOT_DELETE_YOU_WILL_BE_FIRED"||ce&&(te=Yn(te,j[Ze],ce)),te},{})})},[k]),se=E.useCallback(function(P){return Promise.all([$(P),d.validationSchema?C(P):{},d.validate?A(P):{}]).then(function(j){var U=j[0],W=j[1],te=j[2],ce=mg.all([U,W,te],{arrayMerge:u8});return ce})},[d.validate,d.validationSchema,$,A,C]),Y=dn(function(P){return P===void 0&&(P=x.values),I({type:"SET_ISVALIDATING",payload:!0}),se(P).then(function(j){return v.current&&(I({type:"SET_ISVALIDATING",payload:!1}),I({type:"SET_ERRORS",payload:j})),j})});E.useEffect(function(){o&&v.current===!0&&$r(p.current,d.initialValues)&&Y(p.current)},[o,Y]);var K=E.useCallback(function(P){var j=P&&P.values?P.values:p.current,U=P&&P.errors?P.errors:g.current?g.current:d.initialErrors||{},W=P&&P.touched?P.touched:_.current?_.current:d.initialTouched||{},te=P&&P.status?P.status:w.current?w.current:d.initialStatus;p.current=j,g.current=U,_.current=W,w.current=te;var ce=function(){I({type:"RESET_FORM",payload:{isSubmitting:!!P&&!!P.isSubmitting,errors:U,touched:W,status:te,values:j,isValidating:!!P&&!!P.isValidating,submitCount:P&&P.submitCount&&typeof P.submitCount=="number"?P.submitCount:0}})};if(d.onReset){var Ze=d.onReset(x.values,Ls);wp(Ze)?Ze.then(ce):ce()}else ce()},[d.initialErrors,d.initialStatus,d.initialTouched,d.onReset]);E.useEffect(function(){v.current===!0&&!$r(p.current,d.initialValues)&&u&&(p.current=d.initialValues,K(),o&&Y(p.current))},[u,d.initialValues,K,o,Y]),E.useEffect(function(){u&&v.current===!0&&!$r(g.current,d.initialErrors)&&(g.current=d.initialErrors||Li,I({type:"SET_ERRORS",payload:d.initialErrors||Li}))},[u,d.initialErrors]),E.useEffect(function(){u&&v.current===!0&&!$r(_.current,d.initialTouched)&&(_.current=d.initialTouched||rc,I({type:"SET_TOUCHED",payload:d.initialTouched||rc}))},[u,d.initialTouched]),E.useEffect(function(){u&&v.current===!0&&!$r(w.current,d.initialStatus)&&(w.current=d.initialStatus,I({type:"SET_STATUS",payload:d.initialStatus}))},[u,d.initialStatus,d.initialTouched]);var F=dn(function(P){if(m.current[P]&&ct(m.current[P].validate)){var j=Ae(x.values,P),U=m.current[P].validate(j);return wp(U)?(I({type:"SET_ISVALIDATING",payload:!0}),U.then(function(W){return W}).then(function(W){I({type:"SET_FIELD_ERROR",payload:{field:P,value:W}}),I({type:"SET_ISVALIDATING",payload:!1})})):(I({type:"SET_FIELD_ERROR",payload:{field:P,value:U}}),Promise.resolve(U))}else if(d.validationSchema)return I({type:"SET_ISVALIDATING",payload:!0}),C(x.values,P).then(function(W){return W}).then(function(W){I({type:"SET_FIELD_ERROR",payload:{field:P,value:Ae(W,P)}}),I({type:"SET_ISVALIDATING",payload:!1})});return Promise.resolve()}),_e=E.useCallback(function(P,j){var U=j.validate;m.current[P]={validate:U}},[]),Rt=E.useCallback(function(P){delete m.current[P]},[]),V=dn(function(P,j){I({type:"SET_TOUCHED",payload:P});var U=j===void 0?i:j;return U?Y(x.values):Promise.resolve()}),G=E.useCallback(function(P){I({type:"SET_ERRORS",payload:P})},[]),Q=dn(function(P,j){var U=ct(P)?P(x.values):P;I({type:"SET_VALUES",payload:U});var W=j===void 0?n:j;return W?Y(U):Promise.resolve()}),z=E.useCallback(function(P,j){I({type:"SET_FIELD_ERROR",payload:{field:P,value:j}})},[]),ae=dn(function(P,j,U){I({type:"SET_FIELD_VALUE",payload:{field:P,value:j}});var W=U===void 0?n:U;return W?Y(Yn(x.values,P,j)):Promise.resolve()}),Ft=E.useCallback(function(P,j){var U=j,W=P,te;if(!_p(P)){P.persist&&P.persist();var ce=P.target?P.target:P.currentTarget,Ze=ce.type,sr=ce.name,Ef=ce.id,Tf=ce.value,cR=ce.checked,Cq=ce.outerHTML,K0=ce.options,hR=ce.multiple;U=j||sr||Ef,W=/number|range/.test(Ze)?(te=parseFloat(Tf),isNaN(te)?"":te):/checkbox/.test(Ze)?h8(Ae(x.values,U),cR,Tf):K0&&hR?c8(K0):Tf}U&&ae(U,W)},[ae,x.values]),lt=dn(function(P){if(_p(P))return function(j){return Ft(j,P)};Ft(P)}),vt=dn(function(P,j,U){j===void 0&&(j=!0),I({type:"SET_FIELD_TOUCHED",payload:{field:P,value:j}});var W=U===void 0?i:U;return W?Y(x.values):Promise.resolve()}),Ue=E.useCallback(function(P,j){P.persist&&P.persist();var U=P.target,W=U.name,te=U.id,ce=U.outerHTML,Ze=j||W||te;vt(Ze,!0)},[vt]),kt=dn(function(P){if(_p(P))return function(j){return Ue(j,P)};Ue(P)}),Vi=E.useCallback(function(P){ct(P)?I({type:"SET_FORMIK_STATE",payload:P}):I({type:"SET_FORMIK_STATE",payload:function(){return P}})},[]),rr=E.useCallback(function(P){I({type:"SET_STATUS",payload:P})},[]),Dn=E.useCallback(function(P){I({type:"SET_ISSUBMITTING",payload:P})},[]),$t=dn(function(){return I({type:"SUBMIT_ATTEMPT"}),Y().then(function(P){var j=P instanceof Error,U=!j&&Object.keys(P).length===0;if(U){var W;try{if(W=Mi(),W===void 0)return}catch(te){throw te}return Promise.resolve(W).then(function(te){return v.current&&I({type:"SUBMIT_SUCCESS"}),te}).catch(function(te){if(v.current)throw I({type:"SUBMIT_FAILURE"}),te})}else if(v.current&&(I({type:"SUBMIT_FAILURE"}),j))throw P})}),ji=dn(function(P){P&&P.preventDefault&&ct(P.preventDefault)&&P.preventDefault(),P&&P.stopPropagation&&ct(P.stopPropagation)&&P.stopPropagation(),$t().catch(function(j){console.warn("Warning: An unhandled error was caught from submitForm()",j)})}),Ls={resetForm:K,validateForm:Y,validateField:F,setErrors:G,setFieldError:z,setFieldTouched:vt,setFieldValue:ae,setStatus:rr,setSubmitting:Dn,setTouched:V,setValues:Q,setFormikState:Vi,submitForm:$t},Mi=dn(function(){return c(x.values,Ls)}),Pu=dn(function(P){P&&P.preventDefault&&ct(P.preventDefault)&&P.preventDefault(),P&&P.stopPropagation&&ct(P.stopPropagation)&&P.stopPropagation(),K()}),Cu=E.useCallback(function(P){return{value:Ae(x.values,P),error:Ae(x.errors,P),touched:!!Ae(x.touched,P),initialValue:Ae(p.current,P),initialTouched:!!Ae(_.current,P),initialError:Ae(g.current,P)}},[x.errors,x.touched,x.values]),Dr=E.useCallback(function(P){return{setValue:function(U,W){return ae(P,U,W)},setTouched:function(U,W){return vt(P,U,W)},setError:function(U){return z(P,U)}}},[ae,vt,z]),ta=E.useCallback(function(P){var j=Eu(P),U=j?P.name:P,W=Ae(x.values,U),te={name:U,value:W,onChange:lt,onBlur:kt};if(j){var ce=P.type,Ze=P.value,sr=P.as,Ef=P.multiple;ce==="checkbox"?Ze===void 0?te.checked=!!W:(te.checked=!!(Array.isArray(W)&&~W.indexOf(Ze)),te.value=Ze):ce==="radio"?(te.checked=W===Ze,te.value=Ze):sr==="select"&&Ef&&(te.value=te.value||[],te.multiple=!0)}return te},[kt,lt,x.values]),ir=E.useMemo(function(){return!$r(p.current,x.values)},[p.current,x.values]),lR=E.useMemo(function(){return typeof a<"u"?ir?x.errors&&Object.keys(x.errors).length===0:a!==!1&&ct(a)?a(d):a:x.errors&&Object.keys(x.errors).length===0},[a,ir,x.errors,d]),uR=he({},x,{initialValues:p.current,initialErrors:g.current,initialTouched:_.current,initialStatus:w.current,handleBlur:kt,handleChange:lt,handleReset:Pu,handleSubmit:ji,resetForm:K,setErrors:G,setFormikState:Vi,setFieldTouched:vt,setFieldValue:ae,setFieldError:z,setStatus:rr,setSubmitting:Dn,setTouched:V,setValues:Q,submitForm:$t,validateForm:Y,validateField:F,isValid:lR,dirty:ir,unregisterField:Rt,registerField:_e,getFieldProps:ta,getFieldMeta:Cu,getFieldHelpers:Dr,validateOnBlur:i,validateOnChange:n,validateOnMount:o});return uR}function $l(t){var e=o8(t),n=t.component,r=t.children,i=t.render,s=t.innerRef;return E.useImperativeHandle(s,function(){return e}),E.createElement(n8,{value:e},n?E.createElement(n,e):i?i(e):r?ct(r)?r(e):E2(r)?null:E.Children.only(r):null)}function a8(t){var e={};if(t.inner){if(t.inner.length===0)return Yn(e,t.path,t.message);for(var i=t.inner,n=Array.isArray(i),r=0,i=n?i:i[Symbol.iterator]();;){var s;if(n){if(r>=i.length)break;s=i[r++]}else{if(r=i.next(),r.done)break;s=r.value}var o=s;Ae(e,o.path)||(e=Yn(e,o.path,o.message))}}return e}function l8(t,e,n,r){n===void 0&&(n=!1);var i=Eg(t);return e[n?"validateSync":"validate"](i,{abortEarly:!1,context:r||i})}function Eg(t){var e=Array.isArray(t)?[]:{};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){var r=String(n);Array.isArray(t[r])===!0?e[r]=t[r].map(function(i){return Array.isArray(i)===!0||z1(i)?Eg(i):i!==""?i:void 0}):z1(t[r])?e[r]=Eg(t[r]):e[r]=t[r]!==""?t[r]:void 0}return e}function u8(t,e,n){var r=t.slice();return e.forEach(function(s,o){if(typeof r[o]>"u"){var a=n.clone!==!1,l=a&&n.isMergeableObject(s);r[o]=l?mg(Array.isArray(s)?[]:{},s,n):s}else n.isMergeableObject(s)?r[o]=mg(t[o],s,n):t.indexOf(s)===-1&&r.push(s)}),r}function c8(t){return Array.from(t).filter(function(e){return e.selected}).map(function(e){return e.value})}function h8(t,e,n){if(typeof t=="boolean")return!!e;var r=[],i=!1,s=-1;if(Array.isArray(t))r=t,s=t.indexOf(n),i=s>=0;else if(!n||n=="true"||n=="false")return!!e;return e&&n&&!i?r.concat(n):i?r.slice(0,s).concat(r.slice(s+1)):r}var d8=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u"?E.useLayoutEffect:E.useEffect;function dn(t){var e=E.useRef(t);return d8(function(){e.current=t}),E.useCallback(function(){for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return e.current.apply(void 0,r)},[])}function Te(t){var e=t.validate,n=t.name,r=t.render,i=t.children,s=t.as,o=t.component,a=t.className,l=Jr(t,["validate","name","render","children","as","component","className"]),u=w2(),c=Jr(u,["validate","validationSchema"]),h=c.registerField,d=c.unregisterField;E.useEffect(function(){return h(n,{validate:e}),function(){d(n)}},[h,d,n,e]);var p=c.getFieldProps(he({name:n},l)),g=c.getFieldMeta(n),_={field:p,form:c};if(r)return r(he({},_,{meta:g}));if(ct(i))return i(he({},_,{meta:g}));if(o){if(typeof o=="string"){var w=l.innerRef,v=Jr(l,["innerRef"]);return E.createElement(o,he({ref:w},p,v,{className:a}),i)}return E.createElement(o,he({field:p,form:c},l,{className:a}),i)}var m=s||"input";if(typeof m=="string"){var y=l.innerRef,T=Jr(l,["innerRef"]);return E.createElement(m,he({ref:y},p,T,{className:a}),i)}return E.createElement(m,he({},p,l,{className:a}),i)}var Lo=E.forwardRef(function(t,e){var n=t.action,r=Jr(t,["action"]),i=n??"#",s=w2(),o=s.handleReset,a=s.handleSubmit;return E.createElement("form",he({onSubmit:a,ref:e,onReset:o,action:i},r))});Lo.displayName="Form";function f8(t){var e=function(i){return E.createElement(r8,null,function(s){return s||HC(!1),E.createElement(t,he({},i,{formik:s}))})},n=t.displayName||t.name||t.constructor&&t.constructor.name||"Component";return e.WrappedComponent=t,e.displayName="FormikConnect("+n+")",JB(e,t)}var p8=function(e,n,r){var i=xs(e),s=i[n];return i.splice(n,1),i.splice(r,0,s),i},m8=function(e,n,r){var i=xs(e),s=i[n];return i[n]=i[r],i[r]=s,i},Ep=function(e,n,r){var i=xs(e);return i.splice(n,0,r),i},g8=function(e,n,r){var i=xs(e);return i[n]=r,i},xs=function(e){if(e){if(Array.isArray(e))return[].concat(e);var n=Object.keys(e).map(function(r){return parseInt(r)}).reduce(function(r,i){return i>r?i:r},0);return Array.from(he({},e,{length:n+1}))}else return[]},EE=function(e,n){var r=typeof e=="function"?e:n;return function(i){if(Array.isArray(i)||Eu(i)){var s=xs(i);return r(s)}return i}},y8=function(t){_2(e,t);function e(r){var i;return i=t.call(this,r)||this,i.updateArrayField=function(s,o,a){var l=i.props,u=l.name,c=l.formik.setFormikState;c(function(h){var d=EE(a,s),p=EE(o,s),g=Yn(h.values,u,s(Ae(h.values,u))),_=a?d(Ae(h.errors,u)):void 0,w=o?p(Ae(h.touched,u)):void 0;return wE(_)&&(_=void 0),wE(w)&&(w=void 0),he({},h,{values:g,errors:a?Yn(h.errors,u,_):h.errors,touched:o?Yn(h.touched,u,w):h.touched})})},i.push=function(s){return i.updateArrayField(function(o){return[].concat(xs(o),[t8(s)])},!1,!1)},i.handlePush=function(s){return function(){return i.push(s)}},i.swap=function(s,o){return i.updateArrayField(function(a){return m8(a,s,o)},!0,!0)},i.handleSwap=function(s,o){return function(){return i.swap(s,o)}},i.move=function(s,o){return i.updateArrayField(function(a){return p8(a,s,o)},!0,!0)},i.handleMove=function(s,o){return function(){return i.move(s,o)}},i.insert=function(s,o){return i.updateArrayField(function(a){return Ep(a,s,o)},function(a){return Ep(a,s,null)},function(a){return Ep(a,s,null)})},i.handleInsert=function(s,o){return function(){return i.insert(s,o)}},i.replace=function(s,o){return i.updateArrayField(function(a){return g8(a,s,o)},!1,!1)},i.handleReplace=function(s,o){return function(){return i.replace(s,o)}},i.unshift=function(s){var o=-1;return i.updateArrayField(function(a){var l=a?[s].concat(a):[s];return o=l.length,l},function(a){return a?[null].concat(a):[null]},function(a){return a?[null].concat(a):[null]}),o},i.handleUnshift=function(s){return function(){return i.unshift(s)}},i.handleRemove=function(s){return function(){return i.remove(s)}},i.handlePop=function(){return function(){return i.pop()}},i.remove=i.remove.bind(_E(i)),i.pop=i.pop.bind(_E(i)),i}var n=e.prototype;return n.componentDidUpdate=function(i){this.props.validateOnChange&&this.props.formik.validateOnChange&&!$r(Ae(i.formik.values,i.name),Ae(this.props.formik.values,this.props.name))&&this.props.formik.validateForm(this.props.formik.values)},n.remove=function(i){var s;return this.updateArrayField(function(o){var a=o?xs(o):[];return s||(s=a[i]),ct(a.splice)&&a.splice(i,1),ct(a.every)&&a.every(function(l){return l===void 0})?[]:a},!0,!0),s},n.pop=function(){var i;return this.updateArrayField(function(s){var o=s.slice();return i||(i=o&&o.pop&&o.pop()),o},!0,!0),i},n.render=function(){var i={push:this.push,pop:this.pop,swap:this.swap,move:this.move,insert:this.insert,replace:this.replace,unshift:this.unshift,remove:this.remove,handlePush:this.handlePush,handlePop:this.handlePop,handleSwap:this.handleSwap,handleMove:this.handleMove,handleInsert:this.handleInsert,handleReplace:this.handleReplace,handleUnshift:this.handleUnshift,handleRemove:this.handleRemove},s=this.props,o=s.component,a=s.render,l=s.children,u=s.name,c=s.formik,h=Jr(c,["validate","validationSchema"]),d=he({},i,{form:h,name:u});return o?E.createElement(o,d):a?a(d):l?typeof l=="function"?l(d):E2(l)?null:E.Children.only(l):null},e}(E.Component);y8.defaultProps={validateOnChange:!0};var v8=function(t){_2(e,t);function e(){return t.apply(this,arguments)||this}var n=e.prototype;return n.shouldComponentUpdate=function(i){return Ae(this.props.formik.errors,this.props.name)!==Ae(i.formik.errors,this.props.name)||Ae(this.props.formik.touched,this.props.name)!==Ae(i.formik.touched,this.props.name)||Object.keys(this.props).length!==Object.keys(i).length},n.render=function(){var i=this.props,s=i.component,o=i.formik,a=i.render,l=i.children,u=i.name,c=Jr(i,["component","formik","render","children","name"]),h=Ae(o.touched,u),d=Ae(o.errors,u);return h&&d?a?ct(a)?a(d):null:l?ct(l)?l(d):null:s?E.createElement(s,c,d):d:null},e}(E.Component),We=f8(v8);function Vs(t){this._maxSize=t,this.clear()}Vs.prototype.clear=function(){this._size=0,this._values=Object.create(null)};Vs.prototype.get=function(t){return this._values[t]};Vs.prototype.set=function(t,e){return this._size>=this._maxSize&&this.clear(),t in this._values||this._size++,this._values[t]=e};var _8=/[^.^\]^[]+|(?=\[\]|\.\.)/g,S2=/^\d+$/,w8=/^\d/,E8=/[~`!#$%\^&*+=\-\[\]\\';,/{}|\\":<>\?]/g,T8=/^\s*(['"]?)(.*?)(\1)\s*$/,v0=512,TE=new Vs(v0),SE=new Vs(v0),xE=new Vs(v0),cs={Cache:Vs,split:Tg,normalizePath:Tp,setter:function(t){var e=Tp(t);return SE.get(t)||SE.set(t,function(r,i){for(var s=0,o=e.length,a=r;s<o-1;){var l=e[s];if(l==="__proto__"||l==="constructor"||l==="prototype")return r;a=a[e[s++]]}a[e[s]]=i})},getter:function(t,e){var n=Tp(t);return xE.get(t)||xE.set(t,function(i){for(var s=0,o=n.length;s<o;)if(i!=null||!e)i=i[n[s++]];else return;return i})},join:function(t){return t.reduce(function(e,n){return e+(_0(n)||S2.test(n)?"["+n+"]":(e?".":"")+n)},"")},forEach:function(t,e,n){S8(Array.isArray(t)?t:Tg(t),e,n)}};function Tp(t){return TE.get(t)||TE.set(t,Tg(t).map(function(e){return e.replace(T8,"$2")}))}function Tg(t){return t.match(_8)||[""]}function S8(t,e,n){var r=t.length,i,s,o,a;for(s=0;s<r;s++)i=t[s],i&&(A8(i)&&(i='"'+i+'"'),a=_0(i),o=!a&&/^\d+$/.test(i),e.call(n,i,a,o,s,t))}function _0(t){return typeof t=="string"&&t&&["'",'"'].indexOf(t.charAt(0))!==-1}function x8(t){return t.match(w8)&&!t.match(S2)}function I8(t){return E8.test(t)}function A8(t){return!_0(t)&&(x8(t)||I8(t))}const P8=/[A-Z\xc0-\xd6\xd8-\xde]?[a-z\xdf-\xf6\xf8-\xff]+(?:['’](?:d|ll|m|re|s|t|ve))?(?=[\xac\xb1\xd7\xf7\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\xbf\u2000-\u206f \t\x0b\f\xa0\ufeff\n\r\u2028\u2029\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000]|[A-Z\xc0-\xd6\xd8-\xde]|$)|(?:[A-Z\xc0-\xd6\xd8-\xde]|[^\ud800-\udfff\xac\xb1\xd7\xf7\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\xbf\u2000-\u206f \t\x0b\f\xa0\ufeff\n\r\u2028\u2029\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\d+\u2700-\u27bfa-z\xdf-\xf6\xf8-\xffA-Z\xc0-\xd6\xd8-\xde])+(?:['’](?:D|LL|M|RE|S|T|VE))?(?=[\xac\xb1\xd7\xf7\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\xbf\u2000-\u206f \t\x0b\f\xa0\ufeff\n\r\u2028\u2029\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000]|[A-Z\xc0-\xd6\xd8-\xde](?:[a-z\xdf-\xf6\xf8-\xff]|[^\ud800-\udfff\xac\xb1\xd7\xf7\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\xbf\u2000-\u206f \t\x0b\f\xa0\ufeff\n\r\u2028\u2029\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\d+\u2700-\u27bfa-z\xdf-\xf6\xf8-\xffA-Z\xc0-\xd6\xd8-\xde])|$)|[A-Z\xc0-\xd6\xd8-\xde]?(?:[a-z\xdf-\xf6\xf8-\xff]|[^\ud800-\udfff\xac\xb1\xd7\xf7\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\xbf\u2000-\u206f \t\x0b\f\xa0\ufeff\n\r\u2028\u2029\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\d+\u2700-\u27bfa-z\xdf-\xf6\xf8-\xffA-Z\xc0-\xd6\xd8-\xde])+(?:['’](?:d|ll|m|re|s|t|ve))?|[A-Z\xc0-\xd6\xd8-\xde]+(?:['’](?:D|LL|M|RE|S|T|VE))?|\d*(?:1ST|2ND|3RD|(?![123])\dTH)(?=\b|[a-z_])|\d*(?:1st|2nd|3rd|(?![123])\dth)(?=\b|[A-Z_])|\d+|(?:[\u2700-\u27bf]|(?:\ud83c[\udde6-\uddff]){2}|[\ud800-\udbff][\udc00-\udfff])[\ufe0e\ufe0f]?(?:[\u0300-\u036f\ufe20-\ufe2f\u20d0-\u20ff]|\ud83c[\udffb-\udfff])?(?:\u200d(?:[^\ud800-\udfff]|(?:\ud83c[\udde6-\uddff]){2}|[\ud800-\udbff][\udc00-\udfff])[\ufe0e\ufe0f]?(?:[\u0300-\u036f\ufe20-\ufe2f\u20d0-\u20ff]|\ud83c[\udffb-\udfff])?)*/g,uf=t=>t.match(P8)||[],cf=t=>t[0].toUpperCase()+t.slice(1),w0=(t,e)=>uf(t).join(e).toLowerCase(),x2=t=>uf(t).reduce((e,n)=>`${e}${e?n[0].toUpperCase()+n.slice(1).toLowerCase():n.toLowerCase()}`,""),C8=t=>cf(x2(t)),b8=t=>w0(t,"_"),R8=t=>w0(t,"-"),k8=t=>cf(w0(t," ")),N8=t=>uf(t).map(cf).join(" ");var Sp={words:uf,upperFirst:cf,camelCase:x2,pascalCase:C8,snakeCase:b8,kebabCase:R8,sentenceCase:k8,titleCase:N8},E0={exports:{}};E0.exports=function(t){return I2(D8(t),t)};E0.exports.array=I2;function I2(t,e){var n=t.length,r=new Array(n),i={},s=n,o=O8(e),a=V8(t);for(e.forEach(function(u){if(!a.has(u[0])||!a.has(u[1]))throw new Error("Unknown node. There is an unknown node in the supplied edges.")});s--;)i[s]||l(t[s],s,new Set);return r;function l(u,c,h){if(h.has(u)){var d;try{d=", node was:"+JSON.stringify(u)}catch{d=""}throw new Error("Cyclic dependency"+d)}if(!a.has(u))throw new Error("Found unknown node. Make sure to provided all involved nodes. Unknown node: "+JSON.stringify(u));if(!i[c]){i[c]=!0;var p=o.get(u)||new Set;if(p=Array.from(p),c=p.length){h.add(u);do{var g=p[--c];l(g,a.get(g),h)}while(c);h.delete(u)}r[--n]=u}}}function D8(t){for(var e=new Set,n=0,r=t.length;n<r;n++){var i=t[n];e.add(i[0]),e.add(i[1])}return Array.from(e)}function O8(t){for(var e=new Map,n=0,r=t.length;n<r;n++){var i=t[n];e.has(i[0])||e.set(i[0],new Set),e.has(i[1])||e.set(i[1],new Set),e.get(i[0]).add(i[1])}return e}function V8(t){for(var e=new Map,n=0,r=t.length;n<r;n++)e.set(t[n],n);return e}var j8=E0.exports;const M8=Hh(j8),L8=Object.prototype.toString,F8=Error.prototype.toString,$8=RegExp.prototype.toString,U8=typeof Symbol<"u"?Symbol.prototype.toString:()=>"",B8=/^Symbol\((.*)\)(.*)$/;function z8(t){return t!=+t?"NaN":t===0&&1/t<0?"-0":""+t}function IE(t,e=!1){if(t==null||t===!0||t===!1)return""+t;const n=typeof t;if(n==="number")return z8(t);if(n==="string")return e?`"${t}"`:t;if(n==="function")return"[Function "+(t.name||"anonymous")+"]";if(n==="symbol")return U8.call(t).replace(B8,"Symbol($1)");const r=L8.call(t).slice(8,-1);return r==="Date"?isNaN(t.getTime())?""+t:t.toISOString(t):r==="Error"||t instanceof Error?"["+F8.call(t)+"]":r==="RegExp"?$8.call(t):null}function di(t,e){let n=IE(t,e);return n!==null?n:JSON.stringify(t,function(r,i){let s=IE(this[r],e);return s!==null?s:i},2)}function A2(t){return t==null?[]:[].concat(t)}let P2,W8=/\$\{\s*(\w+)\s*\}/g;P2=Symbol.toStringTag;class Bt extends Error{static formatError(e,n){const r=n.label||n.path||"this";return r!==n.path&&(n=Object.assign({},n,{path:r})),typeof e=="string"?e.replace(W8,(i,s)=>di(n[s])):typeof e=="function"?e(n):e}static isError(e){return e&&e.name==="ValidationError"}constructor(e,n,r,i,s){super(),this.value=void 0,this.path=void 0,this.type=void 0,this.errors=void 0,this.params=void 0,this.inner=void 0,this[P2]="Error",this.name="ValidationError",this.value=n,this.path=r,this.type=i,this.errors=[],this.inner=[],A2(e).forEach(o=>{if(Bt.isError(o)){this.errors.push(...o.errors);const a=o.inner.length?o.inner:[o];this.inner.push(...a)}else this.errors.push(o)}),this.message=this.errors.length>1?`${this.errors.length} errors occurred`:this.errors[0],!s&&Error.captureStackTrace&&Error.captureStackTrace(this,Bt)}}let Mn={default:"${path} is invalid",required:"${path} is a required field",defined:"${path} must be defined",notNull:"${path} cannot be null",oneOf:"${path} must be one of the following values: ${values}",notOneOf:"${path} must not be one of the following values: ${values}",notType:({path:t,type:e,value:n,originalValue:r})=>{const i=r!=null&&r!==n?` (cast from the value \`${di(r,!0)}\`).`:".";return e!=="mixed"?`${t} must be a \`${e}\` type, but the final value was: \`${di(n,!0)}\``+i:`${t} must match the configured type. The validated value was: \`${di(n,!0)}\``+i}},Sn={length:"${path} must be exactly ${length} characters",min:"${path} must be at least ${min} characters",max:"${path} must be at most ${max} characters",matches:'${path} must match the following: "${regex}"',email:"${path} must be a valid email",url:"${path} must be a valid URL",uuid:"${path} must be a valid UUID",trim:"${path} must be a trimmed string",lowercase:"${path} must be a lowercase string",uppercase:"${path} must be a upper case string"},jr={min:"${path} must be greater than or equal to ${min}",max:"${path} must be less than or equal to ${max}",lessThan:"${path} must be less than ${less}",moreThan:"${path} must be greater than ${more}",positive:"${path} must be a positive number",negative:"${path} must be a negative number",integer:"${path} must be an integer"},Sg={min:"${path} field must be later than ${min}",max:"${path} field must be at earlier than ${max}"},H8={isValue:"${path} field must be ${value}"},xg={noUnknown:"${path} field has unspecified keys: ${unknown}"},G8={min:"${path} field must have at least ${min} items",max:"${path} field must have less than or equal to ${max} items",length:"${path} must have ${length} items"},q8={notType:t=>{const{path:e,value:n,spec:r}=t,i=r.types.length;if(Array.isArray(n)){if(n.length<i)return`${e} tuple value has too few items, expected a length of ${i} but got ${n.length} for value: \`${di(n,!0)}\``;if(n.length>i)return`${e} tuple value has too many items, expected a length of ${i} but got ${n.length} for value: \`${di(n,!0)}\``}return Bt.formatError(Mn.notType,t)}};Object.assign(Object.create(null),{mixed:Mn,string:Sn,number:jr,date:Sg,object:xg,array:G8,boolean:H8,tuple:q8});const T0=t=>t&&t.__isYupSchema__;class Dh{static fromOptions(e,n){if(!n.then&&!n.otherwise)throw new TypeError("either `then:` or `otherwise:` is required for `when()` conditions");let{is:r,then:i,otherwise:s}=n,o=typeof r=="function"?r:(...a)=>a.every(l=>l===r);return new Dh(e,(a,l)=>{var u;let c=o(...a)?i:s;return(u=c==null?void 0:c(l))!=null?u:l})}constructor(e,n){this.fn=void 0,this.refs=e,this.refs=e,this.fn=n}resolve(e,n){let r=this.refs.map(s=>s.getValue(n==null?void 0:n.value,n==null?void 0:n.parent,n==null?void 0:n.context)),i=this.fn(r,e,n);if(i===void 0||i===e)return e;if(!T0(i))throw new TypeError("conditions must return a schema object");return i.resolve(n)}}const ic={context:"$",value:"."};function K8(t,e){return new Di(t,e)}class Di{constructor(e,n={}){if(this.key=void 0,this.isContext=void 0,this.isValue=void 0,this.isSibling=void 0,this.path=void 0,this.getter=void 0,this.map=void 0,typeof e!="string")throw new TypeError("ref must be a string, got: "+e);if(this.key=e.trim(),e==="")throw new TypeError("ref must be a non-empty string");this.isContext=this.key[0]===ic.context,this.isValue=this.key[0]===ic.value,this.isSibling=!this.isContext&&!this.isValue;let r=this.isContext?ic.context:this.isValue?ic.value:"";this.path=this.key.slice(r.length),this.getter=this.path&&cs.getter(this.path,!0),this.map=n.map}getValue(e,n,r){let i=this.isContext?r:this.isValue?e:n;return this.getter&&(i=this.getter(i||{})),this.map&&(i=this.map(i)),i}cast(e,n){return this.getValue(e,n==null?void 0:n.parent,n==null?void 0:n.context)}resolve(){return this}describe(){return{type:"ref",key:this.key}}toString(){return`Ref(${this.key})`}static isRef(e){return e&&e.__isYupRef}}Di.prototype.__isYupRef=!0;const mr=t=>t==null;function Us(t){function e({value:n,path:r="",options:i,originalValue:s,schema:o},a,l){const{name:u,test:c,params:h,message:d,skipAbsent:p}=t;let{parent:g,context:_,abortEarly:w=o.spec.abortEarly,disableStackTrace:v=o.spec.disableStackTrace}=i;function m($){return Di.isRef($)?$.getValue(n,g,_):$}function y($={}){var se;const Y=Object.assign({value:n,originalValue:s,label:o.spec.label,path:$.path||r,spec:o.spec},h,$.params);for(const F of Object.keys(Y))Y[F]=m(Y[F]);const K=new Bt(Bt.formatError($.message||d,Y),n,Y.path,$.type||u,(se=$.disableStackTrace)!=null?se:v);return K.params=Y,K}const T=w?a:l;let S={path:r,parent:g,type:u,from:i.from,createError:y,resolve:m,options:i,originalValue:s,schema:o};const x=$=>{Bt.isError($)?T($):$?l(null):T(y())},I=$=>{Bt.isError($)?T($):a($)};if(p&&mr(n))return x(!0);let C;try{var k;if(C=c.call(S,n,S),typeof((k=C)==null?void 0:k.then)=="function"){if(i.sync)throw new Error(`Validation test of type: "${S.type}" returned a Promise during a synchronous validate. This test will finish after the validate call has returned`);return Promise.resolve(C).then(x,I)}}catch($){I($);return}x(C)}return e.OPTIONS=t,e}function Q8(t,e,n,r=n){let i,s,o;return e?(cs.forEach(e,(a,l,u)=>{let c=l?a.slice(1,a.length-1):a;t=t.resolve({context:r,parent:i,value:n});let h=t.type==="tuple",d=u?parseInt(c,10):0;if(t.innerType||h){if(h&&!u)throw new Error(`Yup.reach cannot implicitly index into a tuple type. the path part "${o}" must contain an index to the tuple element, e.g. "${o}[0]"`);if(n&&d>=n.length)throw new Error(`Yup.reach cannot resolve an array item at index: ${a}, in the path: ${e}. because there is no value at that index. `);i=n,n=n&&n[d],t=h?t.spec.types[d]:t.innerType}if(!u){if(!t.fields||!t.fields[c])throw new Error(`The schema does not contain the path: ${e}. (failed at: ${o} which is a type: "${t.type}")`);i=n,n=n&&n[c],t=t.fields[c]}s=c,o=l?"["+a+"]":"."+a}),{schema:t,parent:i,parentPath:s}):{parent:i,parentPath:e,schema:t}}class Oh extends Set{describe(){const e=[];for(const n of this.values())e.push(Di.isRef(n)?n.describe():n);return e}resolveAll(e){let n=[];for(const r of this.values())n.push(e(r));return n}clone(){return new Oh(this.values())}merge(e,n){const r=this.clone();return e.forEach(i=>r.add(i)),n.forEach(i=>r.delete(i)),r}}function io(t,e=new Map){if(T0(t)||!t||typeof t!="object")return t;if(e.has(t))return e.get(t);let n;if(t instanceof Date)n=new Date(t.getTime()),e.set(t,n);else if(t instanceof RegExp)n=new RegExp(t),e.set(t,n);else if(Array.isArray(t)){n=new Array(t.length),e.set(t,n);for(let r=0;r<t.length;r++)n[r]=io(t[r],e)}else if(t instanceof Map){n=new Map,e.set(t,n);for(const[r,i]of t.entries())n.set(r,io(i,e))}else if(t instanceof Set){n=new Set,e.set(t,n);for(const r of t)n.add(io(r,e))}else if(t instanceof Object){n={},e.set(t,n);for(const[r,i]of Object.entries(t))n[r]=io(i,e)}else throw Error(`Unable to clone ${t}`);return n}class Nn{constructor(e){this.type=void 0,this.deps=[],this.tests=void 0,this.transforms=void 0,this.conditions=[],this._mutate=void 0,this.internalTests={},this._whitelist=new Oh,this._blacklist=new Oh,this.exclusiveTests=Object.create(null),this._typeCheck=void 0,this.spec=void 0,this.tests=[],this.transforms=[],this.withMutation(()=>{this.typeError(Mn.notType)}),this.type=e.type,this._typeCheck=e.check,this.spec=Object.assign({strip:!1,strict:!1,abortEarly:!0,recursive:!0,disableStackTrace:!1,nullable:!1,optional:!0,coerce:!0},e==null?void 0:e.spec),this.withMutation(n=>{n.nonNullable()})}get _type(){return this.type}clone(e){if(this._mutate)return e&&Object.assign(this.spec,e),this;const n=Object.create(Object.getPrototypeOf(this));return n.type=this.type,n._typeCheck=this._typeCheck,n._whitelist=this._whitelist.clone(),n._blacklist=this._blacklist.clone(),n.internalTests=Object.assign({},this.internalTests),n.exclusiveTests=Object.assign({},this.exclusiveTests),n.deps=[...this.deps],n.conditions=[...this.conditions],n.tests=[...this.tests],n.transforms=[...this.transforms],n.spec=io(Object.assign({},this.spec,e)),n}label(e){let n=this.clone();return n.spec.label=e,n}meta(...e){if(e.length===0)return this.spec.meta;let n=this.clone();return n.spec.meta=Object.assign(n.spec.meta||{},e[0]),n}withMutation(e){let n=this._mutate;this._mutate=!0;let r=e(this);return this._mutate=n,r}concat(e){if(!e||e===this)return this;if(e.type!==this.type&&this.type!=="mixed")throw new TypeError(`You cannot \`concat()\` schema's of different types: ${this.type} and ${e.type}`);let n=this,r=e.clone();const i=Object.assign({},n.spec,r.spec);return r.spec=i,r.internalTests=Object.assign({},n.internalTests,r.internalTests),r._whitelist=n._whitelist.merge(e._whitelist,e._blacklist),r._blacklist=n._blacklist.merge(e._blacklist,e._whitelist),r.tests=n.tests,r.exclusiveTests=n.exclusiveTests,r.withMutation(s=>{e.tests.forEach(o=>{s.test(o.OPTIONS)})}),r.transforms=[...n.transforms,...r.transforms],r}isType(e){return e==null?!!(this.spec.nullable&&e===null||this.spec.optional&&e===void 0):this._typeCheck(e)}resolve(e){let n=this;if(n.conditions.length){let r=n.conditions;n=n.clone(),n.conditions=[],n=r.reduce((i,s)=>s.resolve(i,e),n),n=n.resolve(e)}return n}resolveOptions(e){var n,r,i,s;return Object.assign({},e,{from:e.from||[],strict:(n=e.strict)!=null?n:this.spec.strict,abortEarly:(r=e.abortEarly)!=null?r:this.spec.abortEarly,recursive:(i=e.recursive)!=null?i:this.spec.recursive,disableStackTrace:(s=e.disableStackTrace)!=null?s:this.spec.disableStackTrace})}cast(e,n={}){let r=this.resolve(Object.assign({value:e},n)),i=n.assert==="ignore-optionality",s=r._cast(e,n);if(n.assert!==!1&&!r.isType(s)){if(i&&mr(s))return s;let o=di(e),a=di(s);throw new TypeError(`The value of ${n.path||"field"} could not be cast to a value that satisfies the schema type: "${r.type}". 

attempted value: ${o} 
`+(a!==o?`result of cast: ${a}`:""))}return s}_cast(e,n){let r=e===void 0?e:this.transforms.reduce((i,s)=>s.call(this,i,e,this),e);return r===void 0&&(r=this.getDefault(n)),r}_validate(e,n={},r,i){let{path:s,originalValue:o=e,strict:a=this.spec.strict}=n,l=e;a||(l=this._cast(l,Object.assign({assert:!1},n)));let u=[];for(let c of Object.values(this.internalTests))c&&u.push(c);this.runTests({path:s,value:l,originalValue:o,options:n,tests:u},r,c=>{if(c.length)return i(c,l);this.runTests({path:s,value:l,originalValue:o,options:n,tests:this.tests},r,i)})}runTests(e,n,r){let i=!1,{tests:s,value:o,originalValue:a,path:l,options:u}=e,c=_=>{i||(i=!0,n(_,o))},h=_=>{i||(i=!0,r(_,o))},d=s.length,p=[];if(!d)return h([]);let g={value:o,originalValue:a,path:l,options:u,schema:this};for(let _=0;_<s.length;_++){const w=s[_];w(g,c,function(m){m&&(Array.isArray(m)?p.push(...m):p.push(m)),--d<=0&&h(p)})}}asNestedTest({key:e,index:n,parent:r,parentPath:i,originalParent:s,options:o}){const a=e??n;if(a==null)throw TypeError("Must include `key` or `index` for nested validations");const l=typeof a=="number";let u=r[a];const c=Object.assign({},o,{strict:!0,parent:r,value:u,originalValue:s[a],key:void 0,[l?"index":"key"]:a,path:l||a.includes(".")?`${i||""}[${u?a:`"${a}"`}]`:(i?`${i}.`:"")+e});return(h,d,p)=>this.resolve(c)._validate(u,c,d,p)}validate(e,n){var r;let i=this.resolve(Object.assign({},n,{value:e})),s=(r=n==null?void 0:n.disableStackTrace)!=null?r:i.spec.disableStackTrace;return new Promise((o,a)=>i._validate(e,n,(l,u)=>{Bt.isError(l)&&(l.value=u),a(l)},(l,u)=>{l.length?a(new Bt(l,u,void 0,void 0,s)):o(u)}))}validateSync(e,n){var r;let i=this.resolve(Object.assign({},n,{value:e})),s,o=(r=n==null?void 0:n.disableStackTrace)!=null?r:i.spec.disableStackTrace;return i._validate(e,Object.assign({},n,{sync:!0}),(a,l)=>{throw Bt.isError(a)&&(a.value=l),a},(a,l)=>{if(a.length)throw new Bt(a,e,void 0,void 0,o);s=l}),s}isValid(e,n){return this.validate(e,n).then(()=>!0,r=>{if(Bt.isError(r))return!1;throw r})}isValidSync(e,n){try{return this.validateSync(e,n),!0}catch(r){if(Bt.isError(r))return!1;throw r}}_getDefault(e){let n=this.spec.default;return n==null?n:typeof n=="function"?n.call(this,e):io(n)}getDefault(e){return this.resolve(e||{})._getDefault(e)}default(e){return arguments.length===0?this._getDefault():this.clone({default:e})}strict(e=!0){return this.clone({strict:e})}nullability(e,n){const r=this.clone({nullable:e});return r.internalTests.nullable=Us({message:n,name:"nullable",test(i){return i===null?this.schema.spec.nullable:!0}}),r}optionality(e,n){const r=this.clone({optional:e});return r.internalTests.optionality=Us({message:n,name:"optionality",test(i){return i===void 0?this.schema.spec.optional:!0}}),r}optional(){return this.optionality(!0)}defined(e=Mn.defined){return this.optionality(!1,e)}nullable(){return this.nullability(!0)}nonNullable(e=Mn.notNull){return this.nullability(!1,e)}required(e=Mn.required){return this.clone().withMutation(n=>n.nonNullable(e).defined(e))}notRequired(){return this.clone().withMutation(e=>e.nullable().optional())}transform(e){let n=this.clone();return n.transforms.push(e),n}test(...e){let n;if(e.length===1?typeof e[0]=="function"?n={test:e[0]}:n=e[0]:e.length===2?n={name:e[0],test:e[1]}:n={name:e[0],message:e[1],test:e[2]},n.message===void 0&&(n.message=Mn.default),typeof n.test!="function")throw new TypeError("`test` is a required parameters");let r=this.clone(),i=Us(n),s=n.exclusive||n.name&&r.exclusiveTests[n.name]===!0;if(n.exclusive&&!n.name)throw new TypeError("Exclusive tests must provide a unique `name` identifying the test");return n.name&&(r.exclusiveTests[n.name]=!!n.exclusive),r.tests=r.tests.filter(o=>!(o.OPTIONS.name===n.name&&(s||o.OPTIONS.test===i.OPTIONS.test))),r.tests.push(i),r}when(e,n){!Array.isArray(e)&&typeof e!="string"&&(n=e,e=".");let r=this.clone(),i=A2(e).map(s=>new Di(s));return i.forEach(s=>{s.isSibling&&r.deps.push(s.key)}),r.conditions.push(typeof n=="function"?new Dh(i,n):Dh.fromOptions(i,n)),r}typeError(e){let n=this.clone();return n.internalTests.typeError=Us({message:e,name:"typeError",skipAbsent:!0,test(r){return this.schema._typeCheck(r)?!0:this.createError({params:{type:this.schema.type}})}}),n}oneOf(e,n=Mn.oneOf){let r=this.clone();return e.forEach(i=>{r._whitelist.add(i),r._blacklist.delete(i)}),r.internalTests.whiteList=Us({message:n,name:"oneOf",skipAbsent:!0,test(i){let s=this.schema._whitelist,o=s.resolveAll(this.resolve);return o.includes(i)?!0:this.createError({params:{values:Array.from(s).join(", "),resolved:o}})}}),r}notOneOf(e,n=Mn.notOneOf){let r=this.clone();return e.forEach(i=>{r._blacklist.add(i),r._whitelist.delete(i)}),r.internalTests.blacklist=Us({message:n,name:"notOneOf",test(i){let s=this.schema._blacklist,o=s.resolveAll(this.resolve);return o.includes(i)?this.createError({params:{values:Array.from(s).join(", "),resolved:o}}):!0}}),r}strip(e=!0){let n=this.clone();return n.spec.strip=e,n}describe(e){const n=(e?this.resolve(e):this).clone(),{label:r,meta:i,optional:s,nullable:o}=n.spec;return{meta:i,label:r,optional:s,nullable:o,default:n.getDefault(e),type:n.type,oneOf:n._whitelist.describe(),notOneOf:n._blacklist.describe(),tests:n.tests.map(l=>({name:l.OPTIONS.name,params:l.OPTIONS.params})).filter((l,u,c)=>c.findIndex(h=>h.name===l.name)===u)}}}Nn.prototype.__isYupSchema__=!0;for(const t of["validate","validateSync"])Nn.prototype[`${t}At`]=function(e,n,r={}){const{parent:i,parentPath:s,schema:o}=Q8(this,e,n,r.context);return o[t](i&&i[s],Object.assign({},r,{parent:i,path:e}))};for(const t of["equals","is"])Nn.prototype[t]=Nn.prototype.oneOf;for(const t of["not","nope"])Nn.prototype[t]=Nn.prototype.notOneOf;let X8=/^[a-zA-Z0-9.!#$%&'*+\/=?^_`{|}~-]+@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/,Y8=/^((https?|ftp):)?\/\/(((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:)*@)?(((\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5]))|((([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.)+(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.?)(:\d*)?)(\/((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)+(\/(([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)*)*)?)?(\?((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)|[\uE000-\uF8FF]|\/|\?)*)?(\#((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)|\/|\?)*)?$/i,J8=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i,Z8=t=>mr(t)||t===t.trim(),ez={}.toString();function Ce(){return new C2}class C2 extends Nn{constructor(){super({type:"string",check(e){return e instanceof String&&(e=e.valueOf()),typeof e=="string"}}),this.withMutation(()=>{this.transform((e,n,r)=>{if(!r.spec.coerce||r.isType(e)||Array.isArray(e))return e;const i=e!=null&&e.toString?e.toString():e;return i===ez?e:i})})}required(e){return super.required(e).withMutation(n=>n.test({message:e||Mn.required,name:"required",skipAbsent:!0,test:r=>!!r.length}))}notRequired(){return super.notRequired().withMutation(e=>(e.tests=e.tests.filter(n=>n.OPTIONS.name!=="required"),e))}length(e,n=Sn.length){return this.test({message:n,name:"length",exclusive:!0,params:{length:e},skipAbsent:!0,test(r){return r.length===this.resolve(e)}})}min(e,n=Sn.min){return this.test({message:n,name:"min",exclusive:!0,params:{min:e},skipAbsent:!0,test(r){return r.length>=this.resolve(e)}})}max(e,n=Sn.max){return this.test({name:"max",exclusive:!0,message:n,params:{max:e},skipAbsent:!0,test(r){return r.length<=this.resolve(e)}})}matches(e,n){let r=!1,i,s;return n&&(typeof n=="object"?{excludeEmptyString:r=!1,message:i,name:s}=n:i=n),this.test({name:s||"matches",message:i||Sn.matches,params:{regex:e},skipAbsent:!0,test:o=>o===""&&r||o.search(e)!==-1})}email(e=Sn.email){return this.matches(X8,{name:"email",message:e,excludeEmptyString:!0})}url(e=Sn.url){return this.matches(Y8,{name:"url",message:e,excludeEmptyString:!0})}uuid(e=Sn.uuid){return this.matches(J8,{name:"uuid",message:e,excludeEmptyString:!1})}ensure(){return this.default("").transform(e=>e===null?"":e)}trim(e=Sn.trim){return this.transform(n=>n!=null?n.trim():n).test({message:e,name:"trim",test:Z8})}lowercase(e=Sn.lowercase){return this.transform(n=>mr(n)?n:n.toLowerCase()).test({message:e,name:"string_case",exclusive:!0,skipAbsent:!0,test:n=>mr(n)||n===n.toLowerCase()})}uppercase(e=Sn.uppercase){return this.transform(n=>mr(n)?n:n.toUpperCase()).test({message:e,name:"string_case",exclusive:!0,skipAbsent:!0,test:n=>mr(n)||n===n.toUpperCase()})}}Ce.prototype=C2.prototype;let tz=t=>t!=+t;function b2(){return new R2}class R2 extends Nn{constructor(){super({type:"number",check(e){return e instanceof Number&&(e=e.valueOf()),typeof e=="number"&&!tz(e)}}),this.withMutation(()=>{this.transform((e,n,r)=>{if(!r.spec.coerce)return e;let i=e;if(typeof i=="string"){if(i=i.replace(/\s/g,""),i==="")return NaN;i=+i}return r.isType(i)||i===null?i:parseFloat(i)})})}min(e,n=jr.min){return this.test({message:n,name:"min",exclusive:!0,params:{min:e},skipAbsent:!0,test(r){return r>=this.resolve(e)}})}max(e,n=jr.max){return this.test({message:n,name:"max",exclusive:!0,params:{max:e},skipAbsent:!0,test(r){return r<=this.resolve(e)}})}lessThan(e,n=jr.lessThan){return this.test({message:n,name:"max",exclusive:!0,params:{less:e},skipAbsent:!0,test(r){return r<this.resolve(e)}})}moreThan(e,n=jr.moreThan){return this.test({message:n,name:"min",exclusive:!0,params:{more:e},skipAbsent:!0,test(r){return r>this.resolve(e)}})}positive(e=jr.positive){return this.moreThan(0,e)}negative(e=jr.negative){return this.lessThan(0,e)}integer(e=jr.integer){return this.test({name:"integer",message:e,skipAbsent:!0,test:n=>Number.isInteger(n)})}truncate(){return this.transform(e=>mr(e)?e:e|0)}round(e){var n;let r=["ceil","floor","round","trunc"];if(e=((n=e)==null?void 0:n.toLowerCase())||"round",e==="trunc")return this.truncate();if(r.indexOf(e.toLowerCase())===-1)throw new TypeError("Only valid options for round() are: "+r.join(", "));return this.transform(i=>mr(i)?i:Math[e](i))}}b2.prototype=R2.prototype;const nz=/^(\d{4}|[+-]\d{6})(?:-?(\d{2})(?:-?(\d{2}))?)?(?:[ T]?(\d{2}):?(\d{2})(?::?(\d{2})(?:[,.](\d{1,}))?)?(?:(Z)|([+-])(\d{2})(?::?(\d{2}))?)?)?$/;function or(t,e=0){return Number(t)||e}function rz(t){const e=nz.exec(t);if(!e)return Date.parse?Date.parse(t):Number.NaN;const n={year:or(e[1]),month:or(e[2],1)-1,day:or(e[3],1),hour:or(e[4]),minute:or(e[5]),second:or(e[6]),millisecond:e[7]?or(e[7].substring(0,3)):0,z:e[8]||void 0,plusMinus:e[9]||void 0,hourOffset:or(e[10]),minuteOffset:or(e[11])};if(n.z===void 0&&n.plusMinus===void 0)return new Date(n.year,n.month,n.day,n.hour,n.minute,n.second,n.millisecond).valueOf();let r=0;return n.z!=="Z"&&n.plusMinus!==void 0&&(r=n.hourOffset*60+n.minuteOffset,n.plusMinus==="+"&&(r=0-r)),Date.UTC(n.year,n.month,n.day,n.hour,n.minute+r,n.second,n.millisecond)}let iz=new Date(""),sz=t=>Object.prototype.toString.call(t)==="[object Date]";class hf extends Nn{constructor(){super({type:"date",check(e){return sz(e)&&!isNaN(e.getTime())}}),this.withMutation(()=>{this.transform((e,n,r)=>!r.spec.coerce||r.isType(e)||e===null?e:(e=rz(e),isNaN(e)?hf.INVALID_DATE:new Date(e)))})}prepareParam(e,n){let r;if(Di.isRef(e))r=e;else{let i=this.cast(e);if(!this._typeCheck(i))throw new TypeError(`\`${n}\` must be a Date or a value that can be \`cast()\` to a Date`);r=i}return r}min(e,n=Sg.min){let r=this.prepareParam(e,"min");return this.test({message:n,name:"min",exclusive:!0,params:{min:e},skipAbsent:!0,test(i){return i>=this.resolve(r)}})}max(e,n=Sg.max){let r=this.prepareParam(e,"max");return this.test({message:n,name:"max",exclusive:!0,params:{max:e},skipAbsent:!0,test(i){return i<=this.resolve(r)}})}}hf.INVALID_DATE=iz;hf.prototype;function oz(t,e=[]){let n=[],r=new Set,i=new Set(e.map(([o,a])=>`${o}-${a}`));function s(o,a){let l=cs.split(o)[0];r.add(l),i.has(`${a}-${l}`)||n.push([a,l])}for(const o of Object.keys(t)){let a=t[o];r.add(o),Di.isRef(a)&&a.isSibling?s(a.path,o):T0(a)&&"deps"in a&&a.deps.forEach(l=>s(l,o))}return M8.array(Array.from(r),n).reverse()}function AE(t,e){let n=1/0;return t.some((r,i)=>{var s;if((s=e.path)!=null&&s.includes(r))return n=i,!0}),n}function k2(t){return(e,n)=>AE(t,e)-AE(t,n)}const az=(t,e,n)=>{if(typeof t!="string")return t;let r=t;try{r=JSON.parse(t)}catch{}return n.isType(r)?r:t};function Dc(t){if("fields"in t){const e={};for(const[n,r]of Object.entries(t.fields))e[n]=Dc(r);return t.setFields(e)}if(t.type==="array"){const e=t.optional();return e.innerType&&(e.innerType=Dc(e.innerType)),e}return t.type==="tuple"?t.optional().clone({types:t.spec.types.map(Dc)}):"optional"in t?t.optional():t}const lz=(t,e)=>{const n=[...cs.normalizePath(e)];if(n.length===1)return n[0]in t;let r=n.pop(),i=cs.getter(cs.join(n),!0)(t);return!!(i&&r in i)};let PE=t=>Object.prototype.toString.call(t)==="[object Object]";function uz(t,e){let n=Object.keys(t.fields);return Object.keys(e).filter(r=>n.indexOf(r)===-1)}const cz=k2([]);function Fo(t){return new N2(t)}class N2 extends Nn{constructor(e){super({type:"object",check(n){return PE(n)||typeof n=="function"}}),this.fields=Object.create(null),this._sortErrors=cz,this._nodes=[],this._excludedEdges=[],this.withMutation(()=>{e&&this.shape(e)})}_cast(e,n={}){var r;let i=super._cast(e,n);if(i===void 0)return this.getDefault(n);if(!this._typeCheck(i))return i;let s=this.fields,o=(r=n.stripUnknown)!=null?r:this.spec.noUnknown,a=[].concat(this._nodes,Object.keys(i).filter(h=>!this._nodes.includes(h))),l={},u=Object.assign({},n,{parent:l,__validating:n.__validating||!1}),c=!1;for(const h of a){let d=s[h],p=h in i;if(d){let g,_=i[h];u.path=(n.path?`${n.path}.`:"")+h,d=d.resolve({value:_,context:n.context,parent:l});let w=d instanceof Nn?d.spec:void 0,v=w==null?void 0:w.strict;if(w!=null&&w.strip){c=c||h in i;continue}g=!n.__validating||!v?d.cast(i[h],u):i[h],g!==void 0&&(l[h]=g)}else p&&!o&&(l[h]=i[h]);(p!==h in l||l[h]!==i[h])&&(c=!0)}return c?l:i}_validate(e,n={},r,i){let{from:s=[],originalValue:o=e,recursive:a=this.spec.recursive}=n;n.from=[{schema:this,value:o},...s],n.__validating=!0,n.originalValue=o,super._validate(e,n,r,(l,u)=>{if(!a||!PE(u)){i(l,u);return}o=o||u;let c=[];for(let h of this._nodes){let d=this.fields[h];!d||Di.isRef(d)||c.push(d.asNestedTest({options:n,key:h,parent:u,parentPath:n.path,originalParent:o}))}this.runTests({tests:c,value:u,originalValue:o,options:n},r,h=>{i(h.sort(this._sortErrors).concat(l),u)})})}clone(e){const n=super.clone(e);return n.fields=Object.assign({},this.fields),n._nodes=this._nodes,n._excludedEdges=this._excludedEdges,n._sortErrors=this._sortErrors,n}concat(e){let n=super.concat(e),r=n.fields;for(let[i,s]of Object.entries(this.fields)){const o=r[i];r[i]=o===void 0?s:o}return n.withMutation(i=>i.setFields(r,[...this._excludedEdges,...e._excludedEdges]))}_getDefault(e){if("default"in this.spec)return super._getDefault(e);if(!this._nodes.length)return;let n={};return this._nodes.forEach(r=>{var i;const s=this.fields[r];let o=e;(i=o)!=null&&i.value&&(o=Object.assign({},o,{parent:o.value,value:o.value[r]})),n[r]=s&&"getDefault"in s?s.getDefault(o):void 0}),n}setFields(e,n){let r=this.clone();return r.fields=e,r._nodes=oz(e,n),r._sortErrors=k2(Object.keys(e)),n&&(r._excludedEdges=n),r}shape(e,n=[]){return this.clone().withMutation(r=>{let i=r._excludedEdges;return n.length&&(Array.isArray(n[0])||(n=[n]),i=[...r._excludedEdges,...n]),r.setFields(Object.assign(r.fields,e),i)})}partial(){const e={};for(const[n,r]of Object.entries(this.fields))e[n]="optional"in r&&r.optional instanceof Function?r.optional():r;return this.setFields(e)}deepPartial(){return Dc(this)}pick(e){const n={};for(const r of e)this.fields[r]&&(n[r]=this.fields[r]);return this.setFields(n,this._excludedEdges.filter(([r,i])=>e.includes(r)&&e.includes(i)))}omit(e){const n=[];for(const r of Object.keys(this.fields))e.includes(r)||n.push(r);return this.pick(n)}from(e,n,r){let i=cs.getter(e,!0);return this.transform(s=>{if(!s)return s;let o=s;return lz(s,e)&&(o=Object.assign({},s),r||delete o[e],o[n]=i(s)),o})}json(){return this.transform(az)}noUnknown(e=!0,n=xg.noUnknown){typeof e!="boolean"&&(n=e,e=!0);let r=this.test({name:"noUnknown",exclusive:!0,message:n,test(i){if(i==null)return!0;const s=uz(this.schema,i);return!e||s.length===0||this.createError({params:{unknown:s.join(", ")}})}});return r.spec.noUnknown=e,r}unknown(e=!0,n=xg.noUnknown){return this.noUnknown(!e,n)}transformKeys(e){return this.transform(n=>{if(!n)return n;const r={};for(const i of Object.keys(n))r[e(i)]=n[i];return r})}camelCase(){return this.transformKeys(Sp.camelCase)}snakeCase(){return this.transformKeys(Sp.snakeCase)}constantCase(){return this.transformKeys(e=>Sp.snakeCase(e).toUpperCase())}describe(e){const n=(e?this.resolve(e):this).clone(),r=super.describe(e);r.fields={};for(const[s,o]of Object.entries(n.fields)){var i;let a=e;(i=a)!=null&&i.value&&(a=Object.assign({},a,{parent:a.value,value:a.value[s]})),r.fields[s]=o.describe(a)}return r}}Fo.prototype=N2.prototype;/*!
 * Compressor.js v1.2.1
 * https://fengyuanchen.github.io/compressorjs
 *
 * Copyright 2018-present Chen Fengyuan
 * Released under the MIT license
 *
 * Date: 2023-02-28T14:09:41.732Z
 */function CE(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function sc(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?CE(Object(n),!0).forEach(function(r){fz(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):CE(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function hz(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function bE(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,D2(r.key),r)}}function dz(t,e,n){return e&&bE(t.prototype,e),n&&bE(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function fz(t,e,n){return e=D2(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Vh(){return Vh=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Vh.apply(this,arguments)}function pz(t,e){if(typeof t!="object"||t===null)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function D2(t){var e=pz(t,"string");return typeof e=="symbol"?e:String(e)}var O2={exports:{}};(function(t){typeof window>"u"||function(e){var n=e.HTMLCanvasElement&&e.HTMLCanvasElement.prototype,r=e.Blob&&function(){try{return!!new Blob}catch{return!1}}(),i=r&&e.Uint8Array&&function(){try{return new Blob([new Uint8Array(100)]).size===100}catch{return!1}}(),s=e.BlobBuilder||e.WebKitBlobBuilder||e.MozBlobBuilder||e.MSBlobBuilder,o=/^data:((.*?)(;charset=.*?)?)(;base64)?,/,a=(r||s)&&e.atob&&e.ArrayBuffer&&e.Uint8Array&&function(l){var u,c,h,d,p,g,_,w,v;if(u=l.match(o),!u)throw new Error("invalid data URI");for(c=u[2]?u[1]:"text/plain"+(u[3]||";charset=US-ASCII"),h=!!u[4],d=l.slice(u[0].length),h?p=atob(d):p=decodeURIComponent(d),g=new ArrayBuffer(p.length),_=new Uint8Array(g),w=0;w<p.length;w+=1)_[w]=p.charCodeAt(w);return r?new Blob([i?_:g],{type:c}):(v=new s,v.append(g),v.getBlob(c))};e.HTMLCanvasElement&&!n.toBlob&&(n.mozGetAsFile?n.toBlob=function(l,u,c){var h=this;setTimeout(function(){c&&n.toDataURL&&a?l(a(h.toDataURL(u,c))):l(h.mozGetAsFile("blob",u))})}:n.toDataURL&&a&&(n.msToBlob?n.toBlob=function(l,u,c){var h=this;setTimeout(function(){(u&&u!=="image/png"||c)&&n.toDataURL&&a?l(a(h.toDataURL(u,c))):l(h.msToBlob(u))})}:n.toBlob=function(l,u,c){var h=this;setTimeout(function(){l(a(h.toDataURL(u,c)))})})),t.exports?t.exports=a:e.dataURLtoBlob=a}(window)})(O2);var RE=O2.exports,mz=function(e){return typeof Blob>"u"?!1:e instanceof Blob||Object.prototype.toString.call(e)==="[object Blob]"},kE={strict:!0,checkOrientation:!0,retainExif:!1,maxWidth:1/0,maxHeight:1/0,minWidth:0,minHeight:0,width:void 0,height:void 0,resize:"none",quality:.8,mimeType:"auto",convertTypes:["image/png"],convertSize:5e6,beforeDraw:null,drew:null,success:null,error:null},gz=typeof window<"u"&&typeof window.document<"u",Ti=gz?window:{},jh=function(e){return e>0&&e<1/0},yz=Array.prototype.slice;function S0(t){return Array.from?Array.from(t):yz.call(t)}var vz=/^image\/.+$/;function Ig(t){return vz.test(t)}function _z(t){var e=Ig(t)?t.substr(6):"";return e==="jpeg"&&(e="jpg"),".".concat(e)}var V2=String.fromCharCode;function wz(t,e,n){var r="",i;for(n+=e,i=e;i<n;i+=1)r+=V2(t.getUint8(i));return r}var Ez=Ti.btoa;function NE(t,e){for(var n=[],r=8192,i=new Uint8Array(t);i.length>0;)n.push(V2.apply(null,S0(i.subarray(0,r)))),i=i.subarray(r);return"data:".concat(e,";base64,").concat(Ez(n.join("")))}function Tz(t){var e=new DataView(t),n;try{var r,i,s;if(e.getUint8(0)===255&&e.getUint8(1)===216)for(var o=e.byteLength,a=2;a+1<o;){if(e.getUint8(a)===255&&e.getUint8(a+1)===225){i=a;break}a+=1}if(i){var l=i+4,u=i+10;if(wz(e,l,4)==="Exif"){var c=e.getUint16(u);if(r=c===18761,(r||c===19789)&&e.getUint16(u+2,r)===42){var h=e.getUint32(u+4,r);h>=8&&(s=u+h)}}}if(s){var d=e.getUint16(s,r),p,g;for(g=0;g<d;g+=1)if(p=s+g*12+2,e.getUint16(p,r)===274){p+=8,n=e.getUint16(p,r),e.setUint16(p,1,r);break}}}catch{n=1}return n}function Sz(t){var e=0,n=1,r=1;switch(t){case 2:n=-1;break;case 3:e=-180;break;case 4:r=-1;break;case 5:e=90,r=-1;break;case 6:e=90;break;case 7:e=90,n=-1;break;case 8:e=-90;break}return{rotate:e,scaleX:n,scaleY:r}}var xz=/\.\d*(?:0|9){12}\d*$/;function DE(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1e11;return xz.test(t)?Math.round(t*e)/e:t}function ma(t){var e=t.aspectRatio,n=t.height,r=t.width,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"none",s=jh(r),o=jh(n);if(s&&o){var a=n*e;(i==="contain"||i==="none")&&a>r||i==="cover"&&a<r?n=r/e:r=n*e}else s?n=r/e:o&&(r=n*e);return{width:r,height:n}}function Iz(t){for(var e=S0(new Uint8Array(t)),n=e.length,r=[],i=0;i+3<n;){var s=e[i],o=e[i+1];if(s===255&&o===218)break;if(s===255&&o===216)i+=2;else{var a=e[i+2]*256+e[i+3],l=i+a+2,u=e.slice(i,l);r.push(u),i=l}}return r.reduce(function(c,h){return h[0]===255&&h[1]===225?c.concat(h):c},[])}function Az(t,e){var n=S0(new Uint8Array(t));if(n[2]!==255||n[3]!==224)return t;var r=n[4]*256+n[5],i=[255,216].concat(e,n.slice(4+r));return new Uint8Array(i)}var Pz=Ti.ArrayBuffer,xp=Ti.FileReader,Fi=Ti.URL||Ti.webkitURL,Cz=/\.\w+$/,bz=Ti.Compressor,Rz=function(){function t(e,n){hz(this,t),this.file=e,this.exif=[],this.image=new Image,this.options=sc(sc({},kE),n),this.aborted=!1,this.result=null,this.init()}return dz(t,[{key:"init",value:function(){var n=this,r=this.file,i=this.options;if(!mz(r)){this.fail(new Error("The first argument must be a File or Blob object."));return}var s=r.type;if(!Ig(s)){this.fail(new Error("The first argument must be an image File or Blob object."));return}if(!Fi||!xp){this.fail(new Error("The current browser does not support image compression."));return}Pz||(i.checkOrientation=!1,i.retainExif=!1);var o=s==="image/jpeg",a=o&&i.checkOrientation,l=o&&i.retainExif;if(Fi&&!a&&!l)this.load({url:Fi.createObjectURL(r)});else{var u=new xp;this.reader=u,u.onload=function(c){var h=c.target,d=h.result,p={},g=1;a&&(g=Tz(d),g>1&&Vh(p,Sz(g))),l&&(n.exif=Iz(d)),a||l?!Fi||g>1?p.url=NE(d,s):p.url=Fi.createObjectURL(r):p.url=d,n.load(p)},u.onabort=function(){n.fail(new Error("Aborted to read the image with FileReader."))},u.onerror=function(){n.fail(new Error("Failed to read the image with FileReader."))},u.onloadend=function(){n.reader=null},a||l?u.readAsArrayBuffer(r):u.readAsDataURL(r)}}},{key:"load",value:function(n){var r=this,i=this.file,s=this.image;s.onload=function(){r.draw(sc(sc({},n),{},{naturalWidth:s.naturalWidth,naturalHeight:s.naturalHeight}))},s.onabort=function(){r.fail(new Error("Aborted to load the image."))},s.onerror=function(){r.fail(new Error("Failed to load the image."))},Ti.navigator&&/(?:iPad|iPhone|iPod).*?AppleWebKit/i.test(Ti.navigator.userAgent)&&(s.crossOrigin="anonymous"),s.alt=i.name,s.src=n.url}},{key:"draw",value:function(n){var r=this,i=n.naturalWidth,s=n.naturalHeight,o=n.rotate,a=o===void 0?0:o,l=n.scaleX,u=l===void 0?1:l,c=n.scaleY,h=c===void 0?1:c,d=this.file,p=this.image,g=this.options,_=document.createElement("canvas"),w=_.getContext("2d"),v=Math.abs(a)%180===90,m=(g.resize==="contain"||g.resize==="cover")&&jh(g.width)&&jh(g.height),y=Math.max(g.maxWidth,0)||1/0,T=Math.max(g.maxHeight,0)||1/0,S=Math.max(g.minWidth,0)||0,x=Math.max(g.minHeight,0)||0,I=i/s,A=g.width,C=g.height;if(v){var k=[T,y];y=k[0],T=k[1];var $=[x,S];S=$[0],x=$[1];var se=[C,A];A=se[0],C=se[1]}m&&(I=A/C);var Y=ma({aspectRatio:I,width:y,height:T},"contain");y=Y.width,T=Y.height;var K=ma({aspectRatio:I,width:S,height:x},"cover");if(S=K.width,x=K.height,m){var F=ma({aspectRatio:I,width:A,height:C},g.resize);A=F.width,C=F.height}else{var _e=ma({aspectRatio:I,width:A,height:C}),Rt=_e.width;A=Rt===void 0?i:Rt;var V=_e.height;C=V===void 0?s:V}A=Math.floor(DE(Math.min(Math.max(A,S),y))),C=Math.floor(DE(Math.min(Math.max(C,x),T)));var G=-A/2,Q=-C/2,z=A,ae=C,Ft=[];if(m){var lt=0,vt=0,Ue=i,kt=s,Vi=ma({aspectRatio:I,width:i,height:s},{contain:"cover",cover:"contain"}[g.resize]);Ue=Vi.width,kt=Vi.height,lt=(i-Ue)/2,vt=(s-kt)/2,Ft.push(lt,vt,Ue,kt)}if(Ft.push(G,Q,z,ae),v){var rr=[C,A];A=rr[0],C=rr[1]}_.width=A,_.height=C,Ig(g.mimeType)||(g.mimeType=d.type);var Dn="transparent";d.size>g.convertSize&&g.convertTypes.indexOf(g.mimeType)>=0&&(g.mimeType="image/jpeg");var $t=g.mimeType==="image/jpeg";if($t&&(Dn="#fff"),w.fillStyle=Dn,w.fillRect(0,0,A,C),g.beforeDraw&&g.beforeDraw.call(this,w,_),!this.aborted&&(w.save(),w.translate(A/2,C/2),w.rotate(a*Math.PI/180),w.scale(u,h),w.drawImage.apply(w,[p].concat(Ft)),w.restore(),g.drew&&g.drew.call(this,w,_),!this.aborted)){var ji=function(Mi){if(!r.aborted){var Pu=function(ir){return r.done({naturalWidth:i,naturalHeight:s,result:ir})};if(Mi&&$t&&g.retainExif&&r.exif&&r.exif.length>0){var Cu=function(ir){return Pu(RE(NE(Az(ir,r.exif),g.mimeType)))};if(Mi.arrayBuffer)Mi.arrayBuffer().then(Cu).catch(function(){r.fail(new Error("Failed to read the compressed image with Blob.arrayBuffer()."))});else{var Dr=new xp;r.reader=Dr,Dr.onload=function(ta){var ir=ta.target;Cu(ir.result)},Dr.onabort=function(){r.fail(new Error("Aborted to read the compressed image with FileReader."))},Dr.onerror=function(){r.fail(new Error("Failed to read the compressed image with FileReader."))},Dr.onloadend=function(){r.reader=null},Dr.readAsArrayBuffer(Mi)}}else Pu(Mi)}};_.toBlob?_.toBlob(ji,g.mimeType,g.quality):ji(RE(_.toDataURL(g.mimeType,g.quality)))}}},{key:"done",value:function(n){var r=n.naturalWidth,i=n.naturalHeight,s=n.result,o=this.file,a=this.image,l=this.options;if(Fi&&a.src.indexOf("blob:")===0&&Fi.revokeObjectURL(a.src),s)if(l.strict&&!l.retainExif&&s.size>o.size&&l.mimeType===o.type&&!(l.width>r||l.height>i||l.minWidth>r||l.minHeight>i||l.maxWidth<r||l.maxHeight<i))s=o;else{var u=new Date;s.lastModified=u.getTime(),s.lastModifiedDate=u,s.name=o.name,s.name&&s.type!==o.type&&(s.name=s.name.replace(Cz,_z(s.type)))}else s=o;this.result=s,l.success&&l.success.call(this,s)}},{key:"fail",value:function(n){var r=this.options;if(r.error)r.error.call(this,n);else throw n}},{key:"abort",value:function(){this.aborted||(this.aborted=!0,this.reader?this.reader.abort():this.image.complete?this.fail(new Error("The compression process has been aborted.")):(this.image.onload=null,this.image.onabort()))}}],[{key:"noConflict",value:function(){return window.Compressor=bz,t}},{key:"setDefaults",value:function(n){Vh(kE,n)}}]),t}();const j2=E.createContext({transformPagePoint:t=>t,isStatic:!1,reducedMotion:"never"}),df=E.createContext({}),ff=E.createContext(null),pf=typeof document<"u",mf=pf?E.useLayoutEffect:E.useEffect,M2=E.createContext({strict:!1}),x0=t=>t.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase(),kz="framerAppearId",L2="data-"+x0(kz);function Nz(t,e,n,r){const{visualElement:i}=E.useContext(df),s=E.useContext(M2),o=E.useContext(ff),a=E.useContext(j2).reducedMotion,l=E.useRef();r=r||s.renderer,!l.current&&r&&(l.current=r(t,{visualState:e,parent:i,props:n,presenceContext:o,blockInitialAnimation:o?o.initial===!1:!1,reducedMotionConfig:a}));const u=l.current;E.useInsertionEffect(()=>{u&&u.update(n,o)});const c=E.useRef(!!(n[L2]&&!window.HandoffComplete));return mf(()=>{u&&(u.render(),c.current&&u.animationState&&u.animationState.animateChanges())}),E.useEffect(()=>{u&&(u.updateFeatures(),!c.current&&u.animationState&&u.animationState.animateChanges(),c.current&&(c.current=!1,window.HandoffComplete=!0))}),u}function so(t){return typeof t=="object"&&Object.prototype.hasOwnProperty.call(t,"current")}function Dz(t,e,n){return E.useCallback(r=>{r&&t.mount&&t.mount(r),e&&(r?e.mount(r):e.unmount()),n&&(typeof n=="function"?n(r):so(n)&&(n.current=r))},[e])}function Ul(t){return typeof t=="string"||Array.isArray(t)}function gf(t){return typeof t=="object"&&typeof t.start=="function"}const I0=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],A0=["initial",...I0];function yf(t){return gf(t.animate)||A0.some(e=>Ul(t[e]))}function F2(t){return!!(yf(t)||t.variants)}function Oz(t,e){if(yf(t)){const{initial:n,animate:r}=t;return{initial:n===!1||Ul(n)?n:void 0,animate:Ul(r)?r:void 0}}return t.inherit!==!1?e:{}}function Vz(t){const{initial:e,animate:n}=Oz(t,E.useContext(df));return E.useMemo(()=>({initial:e,animate:n}),[OE(e),OE(n)])}function OE(t){return Array.isArray(t)?t.join(" "):t}const VE={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},Bl={};for(const t in VE)Bl[t]={isEnabled:e=>VE[t].some(n=>!!e[n])};function jz(t){for(const e in t)Bl[e]={...Bl[e],...t[e]}}const P0=E.createContext({}),$2=E.createContext({}),Mz=Symbol.for("motionComponentSymbol");function Lz({preloadedFeatures:t,createVisualElement:e,useRender:n,useVisualState:r,Component:i}){t&&jz(t);function s(a,l){let u;const c={...E.useContext(j2),...a,layoutId:Fz(a)},{isStatic:h}=c,d=Vz(a),p=r(a,h);if(!h&&pf){d.visualElement=Nz(i,p,c,e);const g=E.useContext($2),_=E.useContext(M2).strict;d.visualElement&&(u=d.visualElement.loadFeatures(c,_,t,g))}return E.createElement(df.Provider,{value:d},u&&d.visualElement?E.createElement(u,{visualElement:d.visualElement,...c}):null,n(i,a,Dz(p,d.visualElement,l),p,h,d.visualElement))}const o=E.forwardRef(s);return o[Mz]=i,o}function Fz({layoutId:t}){const e=E.useContext(P0).id;return e&&t!==void 0?e+"-"+t:t}function $z(t){function e(r,i={}){return Lz(t(r,i))}if(typeof Proxy>"u")return e;const n=new Map;return new Proxy(e,{get:(r,i)=>(n.has(i)||n.set(i,e(i)),n.get(i))})}const Uz=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function C0(t){return typeof t!="string"||t.includes("-")?!1:!!(Uz.indexOf(t)>-1||/[A-Z]/.test(t))}const Mh={};function Bz(t){Object.assign(Mh,t)}const Tu=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],js=new Set(Tu);function U2(t,{layout:e,layoutId:n}){return js.has(t)||t.startsWith("origin")||(e||n!==void 0)&&(!!Mh[t]||t==="opacity")}const Qt=t=>!!(t&&t.getVelocity),zz={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},Wz=Tu.length;function Hz(t,{enableHardwareAcceleration:e=!0,allowTransformNone:n=!0},r,i){let s="";for(let o=0;o<Wz;o++){const a=Tu[o];if(t[a]!==void 0){const l=zz[a]||a;s+=`${l}(${t[a]}) `}}return e&&!t.z&&(s+="translateZ(0)"),s=s.trim(),i?s=i(t,r?"":s):n&&r&&(s="none"),s}const B2=t=>e=>typeof e=="string"&&e.startsWith(t),z2=B2("--"),Ag=B2("var(--"),Gz=/var\s*\(\s*--[\w-]+(\s*,\s*(?:(?:[^)(]|\((?:[^)(]+|\([^)(]*\))*\))*)+)?\s*\)/g,qz=(t,e)=>e&&typeof t=="number"?e.transform(t):t,Si=(t,e,n)=>Math.min(Math.max(n,t),e),Ms={test:t=>typeof t=="number",parse:parseFloat,transform:t=>t},Qa={...Ms,transform:t=>Si(0,1,t)},oc={...Ms,default:1},Xa=t=>Math.round(t*1e5)/1e5,vf=/(-)?([\d]*\.?[\d])+/g,W2=/(#[0-9a-f]{3,8}|(rgb|hsl)a?\((-?[\d\.]+%?[,\s]+){2}(-?[\d\.]+%?)\s*[\,\/]?\s*[\d\.]*%?\))/gi,Kz=/^(#[0-9a-f]{3,8}|(rgb|hsl)a?\((-?[\d\.]+%?[,\s]+){2}(-?[\d\.]+%?)\s*[\,\/]?\s*[\d\.]*%?\))$/i;function Su(t){return typeof t=="string"}const xu=t=>({test:e=>Su(e)&&e.endsWith(t)&&e.split(" ").length===1,parse:parseFloat,transform:e=>`${e}${t}`}),Mr=xu("deg"),Jn=xu("%"),q=xu("px"),Qz=xu("vh"),Xz=xu("vw"),jE={...Jn,parse:t=>Jn.parse(t)/100,transform:t=>Jn.transform(t*100)},ME={...Ms,transform:Math.round},H2={borderWidth:q,borderTopWidth:q,borderRightWidth:q,borderBottomWidth:q,borderLeftWidth:q,borderRadius:q,radius:q,borderTopLeftRadius:q,borderTopRightRadius:q,borderBottomRightRadius:q,borderBottomLeftRadius:q,width:q,maxWidth:q,height:q,maxHeight:q,size:q,top:q,right:q,bottom:q,left:q,padding:q,paddingTop:q,paddingRight:q,paddingBottom:q,paddingLeft:q,margin:q,marginTop:q,marginRight:q,marginBottom:q,marginLeft:q,rotate:Mr,rotateX:Mr,rotateY:Mr,rotateZ:Mr,scale:oc,scaleX:oc,scaleY:oc,scaleZ:oc,skew:Mr,skewX:Mr,skewY:Mr,distance:q,translateX:q,translateY:q,translateZ:q,x:q,y:q,z:q,perspective:q,transformPerspective:q,opacity:Qa,originX:jE,originY:jE,originZ:q,zIndex:ME,fillOpacity:Qa,strokeOpacity:Qa,numOctaves:ME};function b0(t,e,n,r){const{style:i,vars:s,transform:o,transformOrigin:a}=t;let l=!1,u=!1,c=!0;for(const h in e){const d=e[h];if(z2(h)){s[h]=d;continue}const p=H2[h],g=qz(d,p);if(js.has(h)){if(l=!0,o[h]=g,!c)continue;d!==(p.default||0)&&(c=!1)}else h.startsWith("origin")?(u=!0,a[h]=g):i[h]=g}if(e.transform||(l||r?i.transform=Hz(t.transform,n,c,r):i.transform&&(i.transform="none")),u){const{originX:h="50%",originY:d="50%",originZ:p=0}=a;i.transformOrigin=`${h} ${d} ${p}`}}const R0=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function G2(t,e,n){for(const r in e)!Qt(e[r])&&!U2(r,n)&&(t[r]=e[r])}function Yz({transformTemplate:t},e,n){return E.useMemo(()=>{const r=R0();return b0(r,e,{enableHardwareAcceleration:!n},t),Object.assign({},r.vars,r.style)},[e])}function Jz(t,e,n){const r=t.style||{},i={};return G2(i,r,t),Object.assign(i,Yz(t,e,n)),t.transformValues?t.transformValues(i):i}function Zz(t,e,n){const r={},i=Jz(t,e,n);return t.drag&&t.dragListener!==!1&&(r.draggable=!1,i.userSelect=i.WebkitUserSelect=i.WebkitTouchCallout="none",i.touchAction=t.drag===!0?"none":`pan-${t.drag==="x"?"y":"x"}`),t.tabIndex===void 0&&(t.onTap||t.onTapStart||t.whileTap)&&(r.tabIndex=0),r.style=i,r}const e7=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","transformValues","custom","inherit","onLayoutAnimationStart","onLayoutAnimationComplete","onLayoutMeasure","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","ignoreStrict","viewport"]);function Lh(t){return t.startsWith("while")||t.startsWith("drag")&&t!=="draggable"||t.startsWith("layout")||t.startsWith("onTap")||t.startsWith("onPan")||e7.has(t)}let q2=t=>!Lh(t);function t7(t){t&&(q2=e=>e.startsWith("on")?!Lh(e):t(e))}try{t7(require("@emotion/is-prop-valid").default)}catch{}function n7(t,e,n){const r={};for(const i in t)i==="values"&&typeof t.values=="object"||(q2(i)||n===!0&&Lh(i)||!e&&!Lh(i)||t.draggable&&i.startsWith("onDrag"))&&(r[i]=t[i]);return r}function LE(t,e,n){return typeof t=="string"?t:q.transform(e+n*t)}function r7(t,e,n){const r=LE(e,t.x,t.width),i=LE(n,t.y,t.height);return`${r} ${i}`}const i7={offset:"stroke-dashoffset",array:"stroke-dasharray"},s7={offset:"strokeDashoffset",array:"strokeDasharray"};function o7(t,e,n=1,r=0,i=!0){t.pathLength=1;const s=i?i7:s7;t[s.offset]=q.transform(-r);const o=q.transform(e),a=q.transform(n);t[s.array]=`${o} ${a}`}function k0(t,{attrX:e,attrY:n,attrScale:r,originX:i,originY:s,pathLength:o,pathSpacing:a=1,pathOffset:l=0,...u},c,h,d){if(b0(t,u,c,d),h){t.style.viewBox&&(t.attrs.viewBox=t.style.viewBox);return}t.attrs=t.style,t.style={};const{attrs:p,style:g,dimensions:_}=t;p.transform&&(_&&(g.transform=p.transform),delete p.transform),_&&(i!==void 0||s!==void 0||g.transform)&&(g.transformOrigin=r7(_,i!==void 0?i:.5,s!==void 0?s:.5)),e!==void 0&&(p.x=e),n!==void 0&&(p.y=n),r!==void 0&&(p.scale=r),o!==void 0&&o7(p,o,a,l,!1)}const K2=()=>({...R0(),attrs:{}}),N0=t=>typeof t=="string"&&t.toLowerCase()==="svg";function a7(t,e,n,r){const i=E.useMemo(()=>{const s=K2();return k0(s,e,{enableHardwareAcceleration:!1},N0(r),t.transformTemplate),{...s.attrs,style:{...s.style}}},[e]);if(t.style){const s={};G2(s,t.style,t),i.style={...s,...i.style}}return i}function l7(t=!1){return(n,r,i,{latestValues:s},o)=>{const l=(C0(n)?a7:Zz)(r,s,o,n),c={...n7(r,typeof n=="string",t),...l,ref:i},{children:h}=r,d=E.useMemo(()=>Qt(h)?h.get():h,[h]);return E.createElement(n,{...c,children:d})}}function Q2(t,{style:e,vars:n},r,i){Object.assign(t.style,e,i&&i.getProjectionStyles(r));for(const s in n)t.style.setProperty(s,n[s])}const X2=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function Y2(t,e,n,r){Q2(t,e,void 0,r);for(const i in e.attrs)t.setAttribute(X2.has(i)?i:x0(i),e.attrs[i])}function D0(t,e){const{style:n}=t,r={};for(const i in n)(Qt(n[i])||e.style&&Qt(e.style[i])||U2(i,t))&&(r[i]=n[i]);return r}function J2(t,e){const n=D0(t,e);for(const r in t)if(Qt(t[r])||Qt(e[r])){const i=Tu.indexOf(r)!==-1?"attr"+r.charAt(0).toUpperCase()+r.substring(1):r;n[i]=t[r]}return n}function O0(t,e,n,r={},i={}){return typeof e=="function"&&(e=e(n!==void 0?n:t.custom,r,i)),typeof e=="string"&&(e=t.variants&&t.variants[e]),typeof e=="function"&&(e=e(n!==void 0?n:t.custom,r,i)),e}function V0(t){const e=E.useRef(null);return e.current===null&&(e.current=t()),e.current}const Fh=t=>Array.isArray(t),u7=t=>!!(t&&typeof t=="object"&&t.mix&&t.toValue),c7=t=>Fh(t)?t[t.length-1]||0:t;function Oc(t){const e=Qt(t)?t.get():t;return u7(e)?e.toValue():e}function h7({scrapeMotionValuesFromProps:t,createRenderState:e,onMount:n},r,i,s){const o={latestValues:d7(r,i,s,t),renderState:e()};return n&&(o.mount=a=>n(r,a,o)),o}const Z2=t=>(e,n)=>{const r=E.useContext(df),i=E.useContext(ff),s=()=>h7(t,e,r,i);return n?s():V0(s)};function d7(t,e,n,r){const i={},s=r(t,{});for(const d in s)i[d]=Oc(s[d]);let{initial:o,animate:a}=t;const l=yf(t),u=F2(t);e&&u&&!l&&t.inherit!==!1&&(o===void 0&&(o=e.initial),a===void 0&&(a=e.animate));let c=n?n.initial===!1:!1;c=c||o===!1;const h=c?a:o;return h&&typeof h!="boolean"&&!gf(h)&&(Array.isArray(h)?h:[h]).forEach(p=>{const g=O0(t,p);if(!g)return;const{transitionEnd:_,transition:w,...v}=g;for(const m in v){let y=v[m];if(Array.isArray(y)){const T=c?y.length-1:0;y=y[T]}y!==null&&(i[m]=y)}for(const m in _)i[m]=_[m]}),i}const Ve=t=>t;class FE{constructor(){this.order=[],this.scheduled=new Set}add(e){if(!this.scheduled.has(e))return this.scheduled.add(e),this.order.push(e),!0}remove(e){const n=this.order.indexOf(e);n!==-1&&(this.order.splice(n,1),this.scheduled.delete(e))}clear(){this.order.length=0,this.scheduled.clear()}}function f7(t){let e=new FE,n=new FE,r=0,i=!1,s=!1;const o=new WeakSet,a={schedule:(l,u=!1,c=!1)=>{const h=c&&i,d=h?e:n;return u&&o.add(l),d.add(l)&&h&&i&&(r=e.order.length),l},cancel:l=>{n.remove(l),o.delete(l)},process:l=>{if(i){s=!0;return}if(i=!0,[e,n]=[n,e],n.clear(),r=e.order.length,r)for(let u=0;u<r;u++){const c=e.order[u];c(l),o.has(c)&&(a.schedule(c),t())}i=!1,s&&(s=!1,a.process(l))}};return a}const ac=["prepare","read","update","preRender","render","postRender"],p7=40;function m7(t,e){let n=!1,r=!0;const i={delta:0,timestamp:0,isProcessing:!1},s=ac.reduce((h,d)=>(h[d]=f7(()=>n=!0),h),{}),o=h=>s[h].process(i),a=()=>{const h=performance.now();n=!1,i.delta=r?1e3/60:Math.max(Math.min(h-i.timestamp,p7),1),i.timestamp=h,i.isProcessing=!0,ac.forEach(o),i.isProcessing=!1,n&&e&&(r=!1,t(a))},l=()=>{n=!0,r=!0,i.isProcessing||t(a)};return{schedule:ac.reduce((h,d)=>{const p=s[d];return h[d]=(g,_=!1,w=!1)=>(n||l(),p.schedule(g,_,w)),h},{}),cancel:h=>ac.forEach(d=>s[d].cancel(h)),state:i,steps:s}}const{schedule:ye,cancel:Pr,state:Tt,steps:Ip}=m7(typeof requestAnimationFrame<"u"?requestAnimationFrame:Ve,!0),g7={useVisualState:Z2({scrapeMotionValuesFromProps:J2,createRenderState:K2,onMount:(t,e,{renderState:n,latestValues:r})=>{ye.read(()=>{try{n.dimensions=typeof e.getBBox=="function"?e.getBBox():e.getBoundingClientRect()}catch{n.dimensions={x:0,y:0,width:0,height:0}}}),ye.render(()=>{k0(n,r,{enableHardwareAcceleration:!1},N0(e.tagName),t.transformTemplate),Y2(e,n)})}})},y7={useVisualState:Z2({scrapeMotionValuesFromProps:D0,createRenderState:R0})};function v7(t,{forwardMotionProps:e=!1},n,r){return{...C0(t)?g7:y7,preloadedFeatures:n,useRender:l7(e),createVisualElement:r,Component:t}}function gr(t,e,n,r={passive:!0}){return t.addEventListener(e,n,r),()=>t.removeEventListener(e,n)}const eb=t=>t.pointerType==="mouse"?typeof t.button!="number"||t.button<=0:t.isPrimary!==!1;function _f(t,e="page"){return{point:{x:t[e+"X"],y:t[e+"Y"]}}}const _7=t=>e=>eb(e)&&t(e,_f(e));function vr(t,e,n,r){return gr(t,e,_7(n),r)}const w7=(t,e)=>n=>e(t(n)),fi=(...t)=>t.reduce(w7);function tb(t){let e=null;return()=>{const n=()=>{e=null};return e===null?(e=t,n):!1}}const $E=tb("dragHorizontal"),UE=tb("dragVertical");function nb(t){let e=!1;if(t==="y")e=UE();else if(t==="x")e=$E();else{const n=$E(),r=UE();n&&r?e=()=>{n(),r()}:(n&&n(),r&&r())}return e}function rb(){const t=nb(!0);return t?(t(),!1):!0}class Oi{constructor(e){this.isMounted=!1,this.node=e}update(){}}function BE(t,e){const n="pointer"+(e?"enter":"leave"),r="onHover"+(e?"Start":"End"),i=(s,o)=>{if(s.type==="touch"||rb())return;const a=t.getProps();t.animationState&&a.whileHover&&t.animationState.setActive("whileHover",e),a[r]&&ye.update(()=>a[r](s,o))};return vr(t.current,n,i,{passive:!t.getProps()[r]})}class E7 extends Oi{mount(){this.unmount=fi(BE(this.node,!0),BE(this.node,!1))}unmount(){}}class T7 extends Oi{constructor(){super(...arguments),this.isActive=!1}onFocus(){let e=!1;try{e=this.node.current.matches(":focus-visible")}catch{e=!0}!e||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=fi(gr(this.node.current,"focus",()=>this.onFocus()),gr(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}const ib=(t,e)=>e?t===e?!0:ib(t,e.parentElement):!1;function Ap(t,e){if(!e)return;const n=new PointerEvent("pointer"+t);e(n,_f(n))}class S7 extends Oi{constructor(){super(...arguments),this.removeStartListeners=Ve,this.removeEndListeners=Ve,this.removeAccessibleListeners=Ve,this.startPointerPress=(e,n)=>{if(this.removeEndListeners(),this.isPressing)return;const r=this.node.getProps(),s=vr(window,"pointerup",(a,l)=>{if(!this.checkPressEnd())return;const{onTap:u,onTapCancel:c}=this.node.getProps();ye.update(()=>{ib(this.node.current,a.target)?u&&u(a,l):c&&c(a,l)})},{passive:!(r.onTap||r.onPointerUp)}),o=vr(window,"pointercancel",(a,l)=>this.cancelPress(a,l),{passive:!(r.onTapCancel||r.onPointerCancel)});this.removeEndListeners=fi(s,o),this.startPress(e,n)},this.startAccessiblePress=()=>{const e=s=>{if(s.key!=="Enter"||this.isPressing)return;const o=a=>{a.key!=="Enter"||!this.checkPressEnd()||Ap("up",(l,u)=>{const{onTap:c}=this.node.getProps();c&&ye.update(()=>c(l,u))})};this.removeEndListeners(),this.removeEndListeners=gr(this.node.current,"keyup",o),Ap("down",(a,l)=>{this.startPress(a,l)})},n=gr(this.node.current,"keydown",e),r=()=>{this.isPressing&&Ap("cancel",(s,o)=>this.cancelPress(s,o))},i=gr(this.node.current,"blur",r);this.removeAccessibleListeners=fi(n,i)}}startPress(e,n){this.isPressing=!0;const{onTapStart:r,whileTap:i}=this.node.getProps();i&&this.node.animationState&&this.node.animationState.setActive("whileTap",!0),r&&ye.update(()=>r(e,n))}checkPressEnd(){return this.removeEndListeners(),this.isPressing=!1,this.node.getProps().whileTap&&this.node.animationState&&this.node.animationState.setActive("whileTap",!1),!rb()}cancelPress(e,n){if(!this.checkPressEnd())return;const{onTapCancel:r}=this.node.getProps();r&&ye.update(()=>r(e,n))}mount(){const e=this.node.getProps(),n=vr(this.node.current,"pointerdown",this.startPointerPress,{passive:!(e.onTapStart||e.onPointerStart)}),r=gr(this.node.current,"focus",this.startAccessiblePress);this.removeStartListeners=fi(n,r)}unmount(){this.removeStartListeners(),this.removeEndListeners(),this.removeAccessibleListeners()}}const Pg=new WeakMap,Pp=new WeakMap,x7=t=>{const e=Pg.get(t.target);e&&e(t)},I7=t=>{t.forEach(x7)};function A7({root:t,...e}){const n=t||document;Pp.has(n)||Pp.set(n,{});const r=Pp.get(n),i=JSON.stringify(e);return r[i]||(r[i]=new IntersectionObserver(I7,{root:t,...e})),r[i]}function P7(t,e,n){const r=A7(e);return Pg.set(t,n),r.observe(t),()=>{Pg.delete(t),r.unobserve(t)}}const C7={some:0,all:1};class b7 extends Oi{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:e={}}=this.node.getProps(),{root:n,margin:r,amount:i="some",once:s}=e,o={root:n?n.current:void 0,rootMargin:r,threshold:typeof i=="number"?i:C7[i]},a=l=>{const{isIntersecting:u}=l;if(this.isInView===u||(this.isInView=u,s&&!u&&this.hasEnteredView))return;u&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",u);const{onViewportEnter:c,onViewportLeave:h}=this.node.getProps(),d=u?c:h;d&&d(l)};return P7(this.node.current,o,a)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:e,prevProps:n}=this.node;["amount","margin","root"].some(R7(e,n))&&this.startObserver()}unmount(){}}function R7({viewport:t={}},{viewport:e={}}={}){return n=>t[n]!==e[n]}const k7={inView:{Feature:b7},tap:{Feature:S7},focus:{Feature:T7},hover:{Feature:E7}};function sb(t,e){if(!Array.isArray(e))return!1;const n=e.length;if(n!==t.length)return!1;for(let r=0;r<n;r++)if(e[r]!==t[r])return!1;return!0}function N7(t){const e={};return t.values.forEach((n,r)=>e[r]=n.get()),e}function D7(t){const e={};return t.values.forEach((n,r)=>e[r]=n.getVelocity()),e}function wf(t,e,n){const r=t.getProps();return O0(r,e,n!==void 0?n:r.custom,N7(t),D7(t))}let O7=Ve,j0=Ve;const pi=t=>t*1e3,_r=t=>t/1e3,V7={current:!1},ob=t=>Array.isArray(t)&&typeof t[0]=="number";function ab(t){return!!(!t||typeof t=="string"&&lb[t]||ob(t)||Array.isArray(t)&&t.every(ab))}const ba=([t,e,n,r])=>`cubic-bezier(${t}, ${e}, ${n}, ${r})`,lb={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:ba([0,.65,.55,1]),circOut:ba([.55,0,1,.45]),backIn:ba([.31,.01,.66,-.59]),backOut:ba([.33,1.53,.69,.99])};function ub(t){if(t)return ob(t)?ba(t):Array.isArray(t)?t.map(ub):lb[t]}function j7(t,e,n,{delay:r=0,duration:i,repeat:s=0,repeatType:o="loop",ease:a,times:l}={}){const u={[e]:n};l&&(u.offset=l);const c=ub(a);return Array.isArray(c)&&(u.easing=c),t.animate(u,{delay:r,duration:i,easing:Array.isArray(c)?"linear":c,fill:"both",iterations:s+1,direction:o==="reverse"?"alternate":"normal"})}function M7(t,{repeat:e,repeatType:n="loop"}){const r=e&&n!=="loop"&&e%2===1?0:t.length-1;return t[r]}const cb=(t,e,n)=>(((1-3*n+3*e)*t+(3*n-6*e))*t+3*e)*t,L7=1e-7,F7=12;function $7(t,e,n,r,i){let s,o,a=0;do o=e+(n-e)/2,s=cb(o,r,i)-t,s>0?n=o:e=o;while(Math.abs(s)>L7&&++a<F7);return o}function Iu(t,e,n,r){if(t===e&&n===r)return Ve;const i=s=>$7(s,0,1,t,n);return s=>s===0||s===1?s:cb(i(s),e,r)}const U7=Iu(.42,0,1,1),B7=Iu(0,0,.58,1),hb=Iu(.42,0,.58,1),z7=t=>Array.isArray(t)&&typeof t[0]!="number",db=t=>e=>e<=.5?t(2*e)/2:(2-t(2*(1-e)))/2,fb=t=>e=>1-t(1-e),M0=t=>1-Math.sin(Math.acos(t)),pb=fb(M0),W7=db(M0),mb=Iu(.33,1.53,.69,.99),L0=fb(mb),H7=db(L0),G7=t=>(t*=2)<1?.5*L0(t):.5*(2-Math.pow(2,-10*(t-1))),q7={linear:Ve,easeIn:U7,easeInOut:hb,easeOut:B7,circIn:M0,circInOut:W7,circOut:pb,backIn:L0,backInOut:H7,backOut:mb,anticipate:G7},zE=t=>{if(Array.isArray(t)){j0(t.length===4);const[e,n,r,i]=t;return Iu(e,n,r,i)}else if(typeof t=="string")return q7[t];return t},F0=(t,e)=>n=>!!(Su(n)&&Kz.test(n)&&n.startsWith(t)||e&&Object.prototype.hasOwnProperty.call(n,e)),gb=(t,e,n)=>r=>{if(!Su(r))return r;const[i,s,o,a]=r.match(vf);return{[t]:parseFloat(i),[e]:parseFloat(s),[n]:parseFloat(o),alpha:a!==void 0?parseFloat(a):1}},K7=t=>Si(0,255,t),Cp={...Ms,transform:t=>Math.round(K7(t))},rs={test:F0("rgb","red"),parse:gb("red","green","blue"),transform:({red:t,green:e,blue:n,alpha:r=1})=>"rgba("+Cp.transform(t)+", "+Cp.transform(e)+", "+Cp.transform(n)+", "+Xa(Qa.transform(r))+")"};function Q7(t){let e="",n="",r="",i="";return t.length>5?(e=t.substring(1,3),n=t.substring(3,5),r=t.substring(5,7),i=t.substring(7,9)):(e=t.substring(1,2),n=t.substring(2,3),r=t.substring(3,4),i=t.substring(4,5),e+=e,n+=n,r+=r,i+=i),{red:parseInt(e,16),green:parseInt(n,16),blue:parseInt(r,16),alpha:i?parseInt(i,16)/255:1}}const Cg={test:F0("#"),parse:Q7,transform:rs.transform},oo={test:F0("hsl","hue"),parse:gb("hue","saturation","lightness"),transform:({hue:t,saturation:e,lightness:n,alpha:r=1})=>"hsla("+Math.round(t)+", "+Jn.transform(Xa(e))+", "+Jn.transform(Xa(n))+", "+Xa(Qa.transform(r))+")"},Dt={test:t=>rs.test(t)||Cg.test(t)||oo.test(t),parse:t=>rs.test(t)?rs.parse(t):oo.test(t)?oo.parse(t):Cg.parse(t),transform:t=>Su(t)?t:t.hasOwnProperty("red")?rs.transform(t):oo.transform(t)},Re=(t,e,n)=>-n*t+n*e+t;function bp(t,e,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?t+(e-t)*6*n:n<1/2?e:n<2/3?t+(e-t)*(2/3-n)*6:t}function X7({hue:t,saturation:e,lightness:n,alpha:r}){t/=360,e/=100,n/=100;let i=0,s=0,o=0;if(!e)i=s=o=n;else{const a=n<.5?n*(1+e):n+e-n*e,l=2*n-a;i=bp(l,a,t+1/3),s=bp(l,a,t),o=bp(l,a,t-1/3)}return{red:Math.round(i*255),green:Math.round(s*255),blue:Math.round(o*255),alpha:r}}const Rp=(t,e,n)=>{const r=t*t;return Math.sqrt(Math.max(0,n*(e*e-r)+r))},Y7=[Cg,rs,oo],J7=t=>Y7.find(e=>e.test(t));function WE(t){const e=J7(t);let n=e.parse(t);return e===oo&&(n=X7(n)),n}const yb=(t,e)=>{const n=WE(t),r=WE(e),i={...n};return s=>(i.red=Rp(n.red,r.red,s),i.green=Rp(n.green,r.green,s),i.blue=Rp(n.blue,r.blue,s),i.alpha=Re(n.alpha,r.alpha,s),rs.transform(i))};function Z7(t){var e,n;return isNaN(t)&&Su(t)&&(((e=t.match(vf))===null||e===void 0?void 0:e.length)||0)+(((n=t.match(W2))===null||n===void 0?void 0:n.length)||0)>0}const vb={regex:Gz,countKey:"Vars",token:"${v}",parse:Ve},_b={regex:W2,countKey:"Colors",token:"${c}",parse:Dt.parse},wb={regex:vf,countKey:"Numbers",token:"${n}",parse:Ms.parse};function kp(t,{regex:e,countKey:n,token:r,parse:i}){const s=t.tokenised.match(e);s&&(t["num"+n]=s.length,t.tokenised=t.tokenised.replace(e,r),t.values.push(...s.map(i)))}function $h(t){const e=t.toString(),n={value:e,tokenised:e,values:[],numVars:0,numColors:0,numNumbers:0};return n.value.includes("var(--")&&kp(n,vb),kp(n,_b),kp(n,wb),n}function Eb(t){return $h(t).values}function Tb(t){const{values:e,numColors:n,numVars:r,tokenised:i}=$h(t),s=e.length;return o=>{let a=i;for(let l=0;l<s;l++)l<r?a=a.replace(vb.token,o[l]):l<r+n?a=a.replace(_b.token,Dt.transform(o[l])):a=a.replace(wb.token,Xa(o[l]));return a}}const eW=t=>typeof t=="number"?0:t;function tW(t){const e=Eb(t);return Tb(t)(e.map(eW))}const xi={test:Z7,parse:Eb,createTransformer:Tb,getAnimatableNone:tW},Sb=(t,e)=>n=>`${n>0?e:t}`;function xb(t,e){return typeof t=="number"?n=>Re(t,e,n):Dt.test(t)?yb(t,e):t.startsWith("var(")?Sb(t,e):Ab(t,e)}const Ib=(t,e)=>{const n=[...t],r=n.length,i=t.map((s,o)=>xb(s,e[o]));return s=>{for(let o=0;o<r;o++)n[o]=i[o](s);return n}},nW=(t,e)=>{const n={...t,...e},r={};for(const i in n)t[i]!==void 0&&e[i]!==void 0&&(r[i]=xb(t[i],e[i]));return i=>{for(const s in r)n[s]=r[s](i);return n}},Ab=(t,e)=>{const n=xi.createTransformer(e),r=$h(t),i=$h(e);return r.numVars===i.numVars&&r.numColors===i.numColors&&r.numNumbers>=i.numNumbers?fi(Ib(r.values,i.values),n):Sb(t,e)},zl=(t,e,n)=>{const r=e-t;return r===0?1:(n-t)/r},HE=(t,e)=>n=>Re(t,e,n);function rW(t){return typeof t=="number"?HE:typeof t=="string"?Dt.test(t)?yb:Ab:Array.isArray(t)?Ib:typeof t=="object"?nW:HE}function iW(t,e,n){const r=[],i=n||rW(t[0]),s=t.length-1;for(let o=0;o<s;o++){let a=i(t[o],t[o+1]);if(e){const l=Array.isArray(e)?e[o]||Ve:e;a=fi(l,a)}r.push(a)}return r}function Pb(t,e,{clamp:n=!0,ease:r,mixer:i}={}){const s=t.length;if(j0(s===e.length),s===1)return()=>e[0];t[0]>t[s-1]&&(t=[...t].reverse(),e=[...e].reverse());const o=iW(e,r,i),a=o.length,l=u=>{let c=0;if(a>1)for(;c<t.length-2&&!(u<t[c+1]);c++);const h=zl(t[c],t[c+1],u);return o[c](h)};return n?u=>l(Si(t[0],t[s-1],u)):l}function sW(t,e){const n=t[t.length-1];for(let r=1;r<=e;r++){const i=zl(0,e,r);t.push(Re(n,1,i))}}function oW(t){const e=[0];return sW(e,t.length-1),e}function aW(t,e){return t.map(n=>n*e)}function lW(t,e){return t.map(()=>e||hb).splice(0,t.length-1)}function Uh({duration:t=300,keyframes:e,times:n,ease:r="easeInOut"}){const i=z7(r)?r.map(zE):zE(r),s={done:!1,value:e[0]},o=aW(n&&n.length===e.length?n:oW(e),t),a=Pb(o,e,{ease:Array.isArray(i)?i:lW(e,i)});return{calculatedDuration:t,next:l=>(s.value=a(l),s.done=l>=t,s)}}function Cb(t,e){return e?t*(1e3/e):0}const uW=5;function bb(t,e,n){const r=Math.max(e-uW,0);return Cb(n-t(r),e-r)}const Np=.001,cW=.01,GE=10,hW=.05,dW=1;function fW({duration:t=800,bounce:e=.25,velocity:n=0,mass:r=1}){let i,s;O7(t<=pi(GE));let o=1-e;o=Si(hW,dW,o),t=Si(cW,GE,_r(t)),o<1?(i=u=>{const c=u*o,h=c*t,d=c-n,p=bg(u,o),g=Math.exp(-h);return Np-d/p*g},s=u=>{const h=u*o*t,d=h*n+n,p=Math.pow(o,2)*Math.pow(u,2)*t,g=Math.exp(-h),_=bg(Math.pow(u,2),o);return(-i(u)+Np>0?-1:1)*((d-p)*g)/_}):(i=u=>{const c=Math.exp(-u*t),h=(u-n)*t+1;return-Np+c*h},s=u=>{const c=Math.exp(-u*t),h=(n-u)*(t*t);return c*h});const a=5/t,l=mW(i,s,a);if(t=pi(t),isNaN(l))return{stiffness:100,damping:10,duration:t};{const u=Math.pow(l,2)*r;return{stiffness:u,damping:o*2*Math.sqrt(r*u),duration:t}}}const pW=12;function mW(t,e,n){let r=n;for(let i=1;i<pW;i++)r=r-t(r)/e(r);return r}function bg(t,e){return t*Math.sqrt(1-e*e)}const gW=["duration","bounce"],yW=["stiffness","damping","mass"];function qE(t,e){return e.some(n=>t[n]!==void 0)}function vW(t){let e={velocity:0,stiffness:100,damping:10,mass:1,isResolvedFromDuration:!1,...t};if(!qE(t,yW)&&qE(t,gW)){const n=fW(t);e={...e,...n,velocity:0,mass:1},e.isResolvedFromDuration=!0}return e}function Rb({keyframes:t,restDelta:e,restSpeed:n,...r}){const i=t[0],s=t[t.length-1],o={done:!1,value:i},{stiffness:a,damping:l,mass:u,velocity:c,duration:h,isResolvedFromDuration:d}=vW(r),p=c?-_r(c):0,g=l/(2*Math.sqrt(a*u)),_=s-i,w=_r(Math.sqrt(a/u)),v=Math.abs(_)<5;n||(n=v?.01:2),e||(e=v?.005:.5);let m;if(g<1){const y=bg(w,g);m=T=>{const S=Math.exp(-g*w*T);return s-S*((p+g*w*_)/y*Math.sin(y*T)+_*Math.cos(y*T))}}else if(g===1)m=y=>s-Math.exp(-w*y)*(_+(p+w*_)*y);else{const y=w*Math.sqrt(g*g-1);m=T=>{const S=Math.exp(-g*w*T),x=Math.min(y*T,300);return s-S*((p+g*w*_)*Math.sinh(x)+y*_*Math.cosh(x))/y}}return{calculatedDuration:d&&h||null,next:y=>{const T=m(y);if(d)o.done=y>=h;else{let S=p;y!==0&&(g<1?S=bb(m,y,T):S=0);const x=Math.abs(S)<=n,I=Math.abs(s-T)<=e;o.done=x&&I}return o.value=o.done?s:T,o}}}function KE({keyframes:t,velocity:e=0,power:n=.8,timeConstant:r=325,bounceDamping:i=10,bounceStiffness:s=500,modifyTarget:o,min:a,max:l,restDelta:u=.5,restSpeed:c}){const h=t[0],d={done:!1,value:h},p=A=>a!==void 0&&A<a||l!==void 0&&A>l,g=A=>a===void 0?l:l===void 0||Math.abs(a-A)<Math.abs(l-A)?a:l;let _=n*e;const w=h+_,v=o===void 0?w:o(w);v!==w&&(_=v-h);const m=A=>-_*Math.exp(-A/r),y=A=>v+m(A),T=A=>{const C=m(A),k=y(A);d.done=Math.abs(C)<=u,d.value=d.done?v:k};let S,x;const I=A=>{p(d.value)&&(S=A,x=Rb({keyframes:[d.value,g(d.value)],velocity:bb(y,A,d.value),damping:i,stiffness:s,restDelta:u,restSpeed:c}))};return I(0),{calculatedDuration:null,next:A=>{let C=!1;return!x&&S===void 0&&(C=!0,T(A),I(A)),S!==void 0&&A>S?x.next(A-S):(!C&&T(A),d)}}}const _W=t=>{const e=({timestamp:n})=>t(n);return{start:()=>ye.update(e,!0),stop:()=>Pr(e),now:()=>Tt.isProcessing?Tt.timestamp:performance.now()}},QE=2e4;function XE(t){let e=0;const n=50;let r=t.next(e);for(;!r.done&&e<QE;)e+=n,r=t.next(e);return e>=QE?1/0:e}const wW={decay:KE,inertia:KE,tween:Uh,keyframes:Uh,spring:Rb};function Bh({autoplay:t=!0,delay:e=0,driver:n=_W,keyframes:r,type:i="keyframes",repeat:s=0,repeatDelay:o=0,repeatType:a="loop",onPlay:l,onStop:u,onComplete:c,onUpdate:h,...d}){let p=1,g=!1,_,w;const v=()=>{w=new Promise(z=>{_=z})};v();let m;const y=wW[i]||Uh;let T;y!==Uh&&typeof r[0]!="number"&&(T=Pb([0,100],r,{clamp:!1}),r=[0,100]);const S=y({...d,keyframes:r});let x;a==="mirror"&&(x=y({...d,keyframes:[...r].reverse(),velocity:-(d.velocity||0)}));let I="idle",A=null,C=null,k=null;S.calculatedDuration===null&&s&&(S.calculatedDuration=XE(S));const{calculatedDuration:$}=S;let se=1/0,Y=1/0;$!==null&&(se=$+o,Y=se*(s+1)-o);let K=0;const F=z=>{if(C===null)return;p>0&&(C=Math.min(C,z)),p<0&&(C=Math.min(z-Y/p,C)),A!==null?K=A:K=Math.round(z-C)*p;const ae=K-e*(p>=0?1:-1),Ft=p>=0?ae<0:ae>Y;K=Math.max(ae,0),I==="finished"&&A===null&&(K=Y);let lt=K,vt=S;if(s){const rr=K/se;let Dn=Math.floor(rr),$t=rr%1;!$t&&rr>=1&&($t=1),$t===1&&Dn--,Dn=Math.min(Dn,s+1);const ji=!!(Dn%2);ji&&(a==="reverse"?($t=1-$t,o&&($t-=o/se)):a==="mirror"&&(vt=x));let Ls=Si(0,1,$t);K>Y&&(Ls=a==="reverse"&&ji?1:0),lt=Ls*se}const Ue=Ft?{done:!1,value:r[0]}:vt.next(lt);T&&(Ue.value=T(Ue.value));let{done:kt}=Ue;!Ft&&$!==null&&(kt=p>=0?K>=Y:K<=0);const Vi=A===null&&(I==="finished"||I==="running"&&kt);return h&&h(Ue.value),Vi&&V(),Ue},_e=()=>{m&&m.stop(),m=void 0},Rt=()=>{I="idle",_e(),_(),v(),C=k=null},V=()=>{I="finished",c&&c(),_e(),_()},G=()=>{if(g)return;m||(m=n(F));const z=m.now();l&&l(),A!==null?C=z-A:(!C||I==="finished")&&(C=z),I==="finished"&&v(),k=C,A=null,I="running",m.start()};t&&G();const Q={then(z,ae){return w.then(z,ae)},get time(){return _r(K)},set time(z){z=pi(z),K=z,A!==null||!m||p===0?A=z:C=m.now()-z/p},get duration(){const z=S.calculatedDuration===null?XE(S):S.calculatedDuration;return _r(z)},get speed(){return p},set speed(z){z===p||!m||(p=z,Q.time=_r(K))},get state(){return I},play:G,pause:()=>{I="paused",A=K},stop:()=>{g=!0,I!=="idle"&&(I="idle",u&&u(),Rt())},cancel:()=>{k!==null&&F(k),Rt()},complete:()=>{I="finished"},sample:z=>(C=0,F(z))};return Q}function EW(t){let e;return()=>(e===void 0&&(e=t()),e)}const TW=EW(()=>Object.hasOwnProperty.call(Element.prototype,"animate")),SW=new Set(["opacity","clipPath","filter","transform","backgroundColor"]),lc=10,xW=2e4,IW=(t,e)=>e.type==="spring"||t==="backgroundColor"||!ab(e.ease);function AW(t,e,{onUpdate:n,onComplete:r,...i}){if(!(TW()&&SW.has(e)&&!i.repeatDelay&&i.repeatType!=="mirror"&&i.damping!==0&&i.type!=="inertia"))return!1;let o=!1,a,l;const u=()=>{l=new Promise(m=>{a=m})};u();let{keyframes:c,duration:h=300,ease:d,times:p}=i;if(IW(e,i)){const m=Bh({...i,repeat:0,delay:0});let y={done:!1,value:c[0]};const T=[];let S=0;for(;!y.done&&S<xW;)y=m.sample(S),T.push(y.value),S+=lc;p=void 0,c=T,h=S-lc,d="linear"}const g=j7(t.owner.current,e,c,{...i,duration:h,ease:d,times:p}),_=()=>g.cancel(),w=()=>{ye.update(_),a(),u()};return g.onfinish=()=>{t.set(M7(c,i)),r&&r(),w()},{then(m,y){return l.then(m,y)},attachTimeline(m){return g.timeline=m,g.onfinish=null,Ve},get time(){return _r(g.currentTime||0)},set time(m){g.currentTime=pi(m)},get speed(){return g.playbackRate},set speed(m){g.playbackRate=m},get duration(){return _r(h)},play:()=>{o||(g.play(),Pr(_))},pause:()=>g.pause(),stop:()=>{if(o=!0,g.playState==="idle")return;const{currentTime:m}=g;if(m){const y=Bh({...i,autoplay:!1});t.setWithVelocity(y.sample(m-lc).value,y.sample(m).value,lc)}w()},complete:()=>g.finish(),cancel:w}}function PW({keyframes:t,delay:e,onUpdate:n,onComplete:r}){const i=()=>(n&&n(t[t.length-1]),r&&r(),{time:0,speed:1,duration:0,play:Ve,pause:Ve,stop:Ve,then:s=>(s(),Promise.resolve()),cancel:Ve,complete:Ve});return e?Bh({keyframes:[0,1],duration:0,delay:e,onComplete:i}):i()}const CW={type:"spring",stiffness:500,damping:25,restSpeed:10},bW=t=>({type:"spring",stiffness:550,damping:t===0?2*Math.sqrt(550):30,restSpeed:10}),RW={type:"keyframes",duration:.8},kW={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},NW=(t,{keyframes:e})=>e.length>2?RW:js.has(t)?t.startsWith("scale")?bW(e[1]):CW:kW,Rg=(t,e)=>t==="zIndex"?!1:!!(typeof e=="number"||Array.isArray(e)||typeof e=="string"&&(xi.test(e)||e==="0")&&!e.startsWith("url(")),DW=new Set(["brightness","contrast","saturate","opacity"]);function OW(t){const[e,n]=t.slice(0,-1).split("(");if(e==="drop-shadow")return t;const[r]=n.match(vf)||[];if(!r)return t;const i=n.replace(r,"");let s=DW.has(e)?1:0;return r!==n&&(s*=100),e+"("+s+i+")"}const VW=/([a-z-]*)\(.*?\)/g,kg={...xi,getAnimatableNone:t=>{const e=t.match(VW);return e?e.map(OW).join(" "):t}},jW={...H2,color:Dt,backgroundColor:Dt,outlineColor:Dt,fill:Dt,stroke:Dt,borderColor:Dt,borderTopColor:Dt,borderRightColor:Dt,borderBottomColor:Dt,borderLeftColor:Dt,filter:kg,WebkitFilter:kg},$0=t=>jW[t];function kb(t,e){let n=$0(t);return n!==kg&&(n=xi),n.getAnimatableNone?n.getAnimatableNone(e):void 0}const Nb=t=>/^0[^.\s]+$/.test(t);function MW(t){if(typeof t=="number")return t===0;if(t!==null)return t==="none"||t==="0"||Nb(t)}function LW(t,e,n,r){const i=Rg(e,n);let s;Array.isArray(n)?s=[...n]:s=[null,n];const o=r.from!==void 0?r.from:t.get();let a;const l=[];for(let u=0;u<s.length;u++)s[u]===null&&(s[u]=u===0?o:s[u-1]),MW(s[u])&&l.push(u),typeof s[u]=="string"&&s[u]!=="none"&&s[u]!=="0"&&(a=s[u]);if(i&&l.length&&a)for(let u=0;u<l.length;u++){const c=l[u];s[c]=kb(e,a)}return s}function FW({when:t,delay:e,delayChildren:n,staggerChildren:r,staggerDirection:i,repeat:s,repeatType:o,repeatDelay:a,from:l,elapsed:u,...c}){return!!Object.keys(c).length}function U0(t,e){return t[e]||t.default||t}const B0=(t,e,n,r={})=>i=>{const s=U0(r,t)||{},o=s.delay||r.delay||0;let{elapsed:a=0}=r;a=a-pi(o);const l=LW(e,t,n,s),u=l[0],c=l[l.length-1],h=Rg(t,u),d=Rg(t,c);let p={keyframes:l,velocity:e.getVelocity(),ease:"easeOut",...s,delay:-a,onUpdate:g=>{e.set(g),s.onUpdate&&s.onUpdate(g)},onComplete:()=>{i(),s.onComplete&&s.onComplete()}};if(FW(s)||(p={...p,...NW(t,p)}),p.duration&&(p.duration=pi(p.duration)),p.repeatDelay&&(p.repeatDelay=pi(p.repeatDelay)),!h||!d||V7.current||s.type===!1)return PW(p);if(!r.isHandoff&&e.owner&&e.owner.current instanceof HTMLElement&&!e.owner.getProps().onUpdate){const g=AW(e,t,p);if(g)return g}return Bh(p)};function zh(t){return!!(Qt(t)&&t.add)}const Db=t=>/^\-?\d*\.?\d+$/.test(t);function z0(t,e){t.indexOf(e)===-1&&t.push(e)}function W0(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}class H0{constructor(){this.subscriptions=[]}add(e){return z0(this.subscriptions,e),()=>W0(this.subscriptions,e)}notify(e,n,r){const i=this.subscriptions.length;if(i)if(i===1)this.subscriptions[0](e,n,r);else for(let s=0;s<i;s++){const o=this.subscriptions[s];o&&o(e,n,r)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const $W=t=>!isNaN(parseFloat(t));class UW{constructor(e,n={}){this.version="10.16.16",this.timeDelta=0,this.lastUpdated=0,this.canTrackVelocity=!1,this.events={},this.updateAndNotify=(r,i=!0)=>{this.prev=this.current,this.current=r;const{delta:s,timestamp:o}=Tt;this.lastUpdated!==o&&(this.timeDelta=s,this.lastUpdated=o,ye.postRender(this.scheduleVelocityCheck)),this.prev!==this.current&&this.events.change&&this.events.change.notify(this.current),this.events.velocityChange&&this.events.velocityChange.notify(this.getVelocity()),i&&this.events.renderRequest&&this.events.renderRequest.notify(this.current)},this.scheduleVelocityCheck=()=>ye.postRender(this.velocityCheck),this.velocityCheck=({timestamp:r})=>{r!==this.lastUpdated&&(this.prev=this.current,this.events.velocityChange&&this.events.velocityChange.notify(this.getVelocity()))},this.hasAnimated=!1,this.prev=this.current=e,this.canTrackVelocity=$W(this.current),this.owner=n.owner}onChange(e){return this.on("change",e)}on(e,n){this.events[e]||(this.events[e]=new H0);const r=this.events[e].add(n);return e==="change"?()=>{r(),ye.read(()=>{this.events.change.getSize()||this.stop()})}:r}clearListeners(){for(const e in this.events)this.events[e].clear()}attach(e,n){this.passiveEffect=e,this.stopPassiveEffect=n}set(e,n=!0){!n||!this.passiveEffect?this.updateAndNotify(e,n):this.passiveEffect(e,this.updateAndNotify)}setWithVelocity(e,n,r){this.set(n),this.prev=e,this.timeDelta=r}jump(e){this.updateAndNotify(e),this.prev=e,this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}get(){return this.current}getPrevious(){return this.prev}getVelocity(){return this.canTrackVelocity?Cb(parseFloat(this.current)-parseFloat(this.prev),this.timeDelta):0}start(e){return this.stop(),new Promise(n=>{this.hasAnimated=!0,this.animation=e(n),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function $o(t,e){return new UW(t,e)}const Ob=t=>e=>e.test(t),BW={test:t=>t==="auto",parse:t=>t},Vb=[Ms,q,Jn,Mr,Xz,Qz,BW],ga=t=>Vb.find(Ob(t)),zW=[...Vb,Dt,xi],WW=t=>zW.find(Ob(t));function HW(t,e,n){t.hasValue(e)?t.getValue(e).set(n):t.addValue(e,$o(n))}function G0(t,e){const n=wf(t,e);let{transitionEnd:r={},transition:i={},...s}=n?t.makeTargetAnimatable(n,!1):{};s={...s,...r};for(const o in s){const a=c7(s[o]);HW(t,o,a)}}function Ng(t,e){[...e].reverse().forEach(r=>{const i=t.getVariant(r);i&&G0(t,i),t.variantChildren&&t.variantChildren.forEach(s=>{Ng(s,e)})})}function GW(t,e){if(Array.isArray(e))return Ng(t,e);if(typeof e=="string")return Ng(t,[e]);G0(t,e)}function qW(t,e,n){var r,i;const s=Object.keys(e).filter(a=>!t.hasValue(a)),o=s.length;if(o)for(let a=0;a<o;a++){const l=s[a],u=e[l];let c=null;Array.isArray(u)&&(c=u[0]),c===null&&(c=(i=(r=n[l])!==null&&r!==void 0?r:t.readValue(l))!==null&&i!==void 0?i:e[l]),c!=null&&(typeof c=="string"&&(Db(c)||Nb(c))?c=parseFloat(c):!WW(c)&&xi.test(u)&&(c=kb(l,u)),t.addValue(l,$o(c,{owner:t})),n[l]===void 0&&(n[l]=c),c!==null&&t.setBaseTarget(l,c))}}function KW(t,e){return e?(e[t]||e.default||e).from:void 0}function QW(t,e,n){const r={};for(const i in t){const s=KW(i,e);if(s!==void 0)r[i]=s;else{const o=n.getValue(i);o&&(r[i]=o.get())}}return r}function XW({protectedKeys:t,needsAnimating:e},n){const r=t.hasOwnProperty(n)&&e[n]!==!0;return e[n]=!1,r}function YW(t,e){const n=t.get();if(Array.isArray(e)){for(let r=0;r<e.length;r++)if(e[r]!==n)return!0}else return n!==e}function jb(t,e,{delay:n=0,transitionOverride:r,type:i}={}){let{transition:s=t.getDefaultTransition(),transitionEnd:o,...a}=t.makeTargetAnimatable(e);const l=t.getValue("willChange");r&&(s=r);const u=[],c=i&&t.animationState&&t.animationState.getState()[i];for(const h in a){const d=t.getValue(h),p=a[h];if(!d||p===void 0||c&&XW(c,h))continue;const g={delay:n,elapsed:0,...U0(s||{},h)};if(window.HandoffAppearAnimations){const v=t.getProps()[L2];if(v){const m=window.HandoffAppearAnimations(v,h,d,ye);m!==null&&(g.elapsed=m,g.isHandoff=!0)}}let _=!g.isHandoff&&!YW(d,p);if(g.type==="spring"&&(d.getVelocity()||g.velocity)&&(_=!1),d.animation&&(_=!1),_)continue;d.start(B0(h,d,p,t.shouldReduceMotion&&js.has(h)?{type:!1}:g));const w=d.animation;zh(l)&&(l.add(h),w.then(()=>l.remove(h))),u.push(w)}return o&&Promise.all(u).then(()=>{o&&G0(t,o)}),u}function Dg(t,e,n={}){const r=wf(t,e,n.custom);let{transition:i=t.getDefaultTransition()||{}}=r||{};n.transitionOverride&&(i=n.transitionOverride);const s=r?()=>Promise.all(jb(t,r,n)):()=>Promise.resolve(),o=t.variantChildren&&t.variantChildren.size?(l=0)=>{const{delayChildren:u=0,staggerChildren:c,staggerDirection:h}=i;return JW(t,e,u+l,c,h,n)}:()=>Promise.resolve(),{when:a}=i;if(a){const[l,u]=a==="beforeChildren"?[s,o]:[o,s];return l().then(()=>u())}else return Promise.all([s(),o(n.delay)])}function JW(t,e,n=0,r=0,i=1,s){const o=[],a=(t.variantChildren.size-1)*r,l=i===1?(u=0)=>u*r:(u=0)=>a-u*r;return Array.from(t.variantChildren).sort(ZW).forEach((u,c)=>{u.notify("AnimationStart",e),o.push(Dg(u,e,{...s,delay:n+l(c)}).then(()=>u.notify("AnimationComplete",e)))}),Promise.all(o)}function ZW(t,e){return t.sortNodePosition(e)}function Mb(t,e,n={}){t.notify("AnimationStart",e);let r;if(Array.isArray(e)){const i=e.map(s=>Dg(t,s,n));r=Promise.all(i)}else if(typeof e=="string")r=Dg(t,e,n);else{const i=typeof e=="function"?wf(t,e,n.custom):e;r=Promise.all(jb(t,i,n))}return r.then(()=>t.notify("AnimationComplete",e))}const eH=[...I0].reverse(),tH=I0.length;function nH(t){return e=>Promise.all(e.map(({animation:n,options:r})=>Mb(t,n,r)))}function rH(t){let e=nH(t);const n=sH();let r=!0;const i=(l,u)=>{const c=wf(t,u);if(c){const{transition:h,transitionEnd:d,...p}=c;l={...l,...p,...d}}return l};function s(l){e=l(t)}function o(l,u){const c=t.getProps(),h=t.getVariantContext(!0)||{},d=[],p=new Set;let g={},_=1/0;for(let v=0;v<tH;v++){const m=eH[v],y=n[m],T=c[m]!==void 0?c[m]:h[m],S=Ul(T),x=m===u?y.isActive:null;x===!1&&(_=v);let I=T===h[m]&&T!==c[m]&&S;if(I&&r&&t.manuallyAnimateOnMount&&(I=!1),y.protectedKeys={...g},!y.isActive&&x===null||!T&&!y.prevProp||gf(T)||typeof T=="boolean")continue;const A=iH(y.prevProp,T);let C=A||m===u&&y.isActive&&!I&&S||v>_&&S;const k=Array.isArray(T)?T:[T];let $=k.reduce(i,{});x===!1&&($={});const{prevResolvedValues:se={}}=y,Y={...se,...$},K=F=>{C=!0,p.delete(F),y.needsAnimating[F]=!0};for(const F in Y){const _e=$[F],Rt=se[F];g.hasOwnProperty(F)||(_e!==Rt?Fh(_e)&&Fh(Rt)?!sb(_e,Rt)||A?K(F):y.protectedKeys[F]=!0:_e!==void 0?K(F):p.add(F):_e!==void 0&&p.has(F)?K(F):y.protectedKeys[F]=!0)}y.prevProp=T,y.prevResolvedValues=$,y.isActive&&(g={...g,...$}),r&&t.blockInitialAnimation&&(C=!1),C&&!I&&d.push(...k.map(F=>({animation:F,options:{type:m,...l}})))}if(p.size){const v={};p.forEach(m=>{const y=t.getBaseTarget(m);y!==void 0&&(v[m]=y)}),d.push({animation:v})}let w=!!d.length;return r&&(c.initial===!1||c.initial===c.animate)&&!t.manuallyAnimateOnMount&&(w=!1),r=!1,w?e(d):Promise.resolve()}function a(l,u,c){var h;if(n[l].isActive===u)return Promise.resolve();(h=t.variantChildren)===null||h===void 0||h.forEach(p=>{var g;return(g=p.animationState)===null||g===void 0?void 0:g.setActive(l,u)}),n[l].isActive=u;const d=o(c,l);for(const p in n)n[p].protectedKeys={};return d}return{animateChanges:o,setActive:a,setAnimateFunction:s,getState:()=>n}}function iH(t,e){return typeof e=="string"?e!==t:Array.isArray(e)?!sb(e,t):!1}function $i(t=!1){return{isActive:t,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function sH(){return{animate:$i(!0),whileInView:$i(),whileHover:$i(),whileTap:$i(),whileDrag:$i(),whileFocus:$i(),exit:$i()}}class oH extends Oi{constructor(e){super(e),e.animationState||(e.animationState=rH(e))}updateAnimationControlsSubscription(){const{animate:e}=this.node.getProps();this.unmount(),gf(e)&&(this.unmount=e.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:e}=this.node.getProps(),{animate:n}=this.node.prevProps||{};e!==n&&this.updateAnimationControlsSubscription()}unmount(){}}let aH=0;class lH extends Oi{constructor(){super(...arguments),this.id=aH++}update(){if(!this.node.presenceContext)return;const{isPresent:e,onExitComplete:n,custom:r}=this.node.presenceContext,{isPresent:i}=this.node.prevPresenceContext||{};if(!this.node.animationState||e===i)return;const s=this.node.animationState.setActive("exit",!e,{custom:r??this.node.getProps().custom});n&&!e&&s.then(()=>n(this.id))}mount(){const{register:e}=this.node.presenceContext||{};e&&(this.unmount=e(this.id))}unmount(){}}const uH={animation:{Feature:oH},exit:{Feature:lH}},YE=(t,e)=>Math.abs(t-e);function cH(t,e){const n=YE(t.x,e.x),r=YE(t.y,e.y);return Math.sqrt(n**2+r**2)}class Lb{constructor(e,n,{transformPagePoint:r,contextWindow:i}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const c=Op(this.lastMoveEventInfo,this.history),h=this.startEvent!==null,d=cH(c.offset,{x:0,y:0})>=3;if(!h&&!d)return;const{point:p}=c,{timestamp:g}=Tt;this.history.push({...p,timestamp:g});const{onStart:_,onMove:w}=this.handlers;h||(_&&_(this.lastMoveEvent,c),this.startEvent=this.lastMoveEvent),w&&w(this.lastMoveEvent,c)},this.handlePointerMove=(c,h)=>{this.lastMoveEvent=c,this.lastMoveEventInfo=Dp(h,this.transformPagePoint),ye.update(this.updatePoint,!0)},this.handlePointerUp=(c,h)=>{if(this.end(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const{onEnd:d,onSessionEnd:p}=this.handlers,g=Op(c.type==="pointercancel"?this.lastMoveEventInfo:Dp(h,this.transformPagePoint),this.history);this.startEvent&&d&&d(c,g),p&&p(c,g)},!eb(e))return;this.handlers=n,this.transformPagePoint=r,this.contextWindow=i||window;const s=_f(e),o=Dp(s,this.transformPagePoint),{point:a}=o,{timestamp:l}=Tt;this.history=[{...a,timestamp:l}];const{onSessionStart:u}=n;u&&u(e,Op(o,this.history)),this.removeListeners=fi(vr(this.contextWindow,"pointermove",this.handlePointerMove),vr(this.contextWindow,"pointerup",this.handlePointerUp),vr(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(e){this.handlers=e}end(){this.removeListeners&&this.removeListeners(),Pr(this.updatePoint)}}function Dp(t,e){return e?{point:e(t.point)}:t}function JE(t,e){return{x:t.x-e.x,y:t.y-e.y}}function Op({point:t},e){return{point:t,delta:JE(t,Fb(e)),offset:JE(t,hH(e)),velocity:dH(e,.1)}}function hH(t){return t[0]}function Fb(t){return t[t.length-1]}function dH(t,e){if(t.length<2)return{x:0,y:0};let n=t.length-1,r=null;const i=Fb(t);for(;n>=0&&(r=t[n],!(i.timestamp-r.timestamp>pi(e)));)n--;if(!r)return{x:0,y:0};const s=_r(i.timestamp-r.timestamp);if(s===0)return{x:0,y:0};const o={x:(i.x-r.x)/s,y:(i.y-r.y)/s};return o.x===1/0&&(o.x=0),o.y===1/0&&(o.y=0),o}function ln(t){return t.max-t.min}function Og(t,e=0,n=.01){return Math.abs(t-e)<=n}function ZE(t,e,n,r=.5){t.origin=r,t.originPoint=Re(e.min,e.max,t.origin),t.scale=ln(n)/ln(e),(Og(t.scale,1,1e-4)||isNaN(t.scale))&&(t.scale=1),t.translate=Re(n.min,n.max,t.origin)-t.originPoint,(Og(t.translate)||isNaN(t.translate))&&(t.translate=0)}function Ya(t,e,n,r){ZE(t.x,e.x,n.x,r?r.originX:void 0),ZE(t.y,e.y,n.y,r?r.originY:void 0)}function eT(t,e,n){t.min=n.min+e.min,t.max=t.min+ln(e)}function fH(t,e,n){eT(t.x,e.x,n.x),eT(t.y,e.y,n.y)}function tT(t,e,n){t.min=e.min-n.min,t.max=t.min+ln(e)}function Ja(t,e,n){tT(t.x,e.x,n.x),tT(t.y,e.y,n.y)}function pH(t,{min:e,max:n},r){return e!==void 0&&t<e?t=r?Re(e,t,r.min):Math.max(t,e):n!==void 0&&t>n&&(t=r?Re(n,t,r.max):Math.min(t,n)),t}function nT(t,e,n){return{min:e!==void 0?t.min+e:void 0,max:n!==void 0?t.max+n-(t.max-t.min):void 0}}function mH(t,{top:e,left:n,bottom:r,right:i}){return{x:nT(t.x,n,i),y:nT(t.y,e,r)}}function rT(t,e){let n=e.min-t.min,r=e.max-t.max;return e.max-e.min<t.max-t.min&&([n,r]=[r,n]),{min:n,max:r}}function gH(t,e){return{x:rT(t.x,e.x),y:rT(t.y,e.y)}}function yH(t,e){let n=.5;const r=ln(t),i=ln(e);return i>r?n=zl(e.min,e.max-r,t.min):r>i&&(n=zl(t.min,t.max-i,e.min)),Si(0,1,n)}function vH(t,e){const n={};return e.min!==void 0&&(n.min=e.min-t.min),e.max!==void 0&&(n.max=e.max-t.min),n}const Vg=.35;function _H(t=Vg){return t===!1?t=0:t===!0&&(t=Vg),{x:iT(t,"left","right"),y:iT(t,"top","bottom")}}function iT(t,e,n){return{min:sT(t,e),max:sT(t,n)}}function sT(t,e){return typeof t=="number"?t:t[e]||0}const oT=()=>({translate:0,scale:1,origin:0,originPoint:0}),ao=()=>({x:oT(),y:oT()}),aT=()=>({min:0,max:0}),ze=()=>({x:aT(),y:aT()});function jn(t){return[t("x"),t("y")]}function $b({top:t,left:e,right:n,bottom:r}){return{x:{min:e,max:n},y:{min:t,max:r}}}function wH({x:t,y:e}){return{top:e.min,right:t.max,bottom:e.max,left:t.min}}function EH(t,e){if(!e)return t;const n=e({x:t.left,y:t.top}),r=e({x:t.right,y:t.bottom});return{top:n.y,left:n.x,bottom:r.y,right:r.x}}function Vp(t){return t===void 0||t===1}function jg({scale:t,scaleX:e,scaleY:n}){return!Vp(t)||!Vp(e)||!Vp(n)}function Hi(t){return jg(t)||Ub(t)||t.z||t.rotate||t.rotateX||t.rotateY}function Ub(t){return lT(t.x)||lT(t.y)}function lT(t){return t&&t!=="0%"}function Wh(t,e,n){const r=t-n,i=e*r;return n+i}function uT(t,e,n,r,i){return i!==void 0&&(t=Wh(t,i,r)),Wh(t,n,r)+e}function Mg(t,e=0,n=1,r,i){t.min=uT(t.min,e,n,r,i),t.max=uT(t.max,e,n,r,i)}function Bb(t,{x:e,y:n}){Mg(t.x,e.translate,e.scale,e.originPoint),Mg(t.y,n.translate,n.scale,n.originPoint)}function TH(t,e,n,r=!1){const i=n.length;if(!i)return;e.x=e.y=1;let s,o;for(let a=0;a<i;a++){s=n[a],o=s.projectionDelta;const l=s.instance;l&&l.style&&l.style.display==="contents"||(r&&s.options.layoutScroll&&s.scroll&&s!==s.root&&lo(t,{x:-s.scroll.offset.x,y:-s.scroll.offset.y}),o&&(e.x*=o.x.scale,e.y*=o.y.scale,Bb(t,o)),r&&Hi(s.latestValues)&&lo(t,s.latestValues))}e.x=cT(e.x),e.y=cT(e.y)}function cT(t){return Number.isInteger(t)||t>1.0000000000001||t<.999999999999?t:1}function Ur(t,e){t.min=t.min+e,t.max=t.max+e}function hT(t,e,[n,r,i]){const s=e[i]!==void 0?e[i]:.5,o=Re(t.min,t.max,s);Mg(t,e[n],e[r],o,e.scale)}const SH=["x","scaleX","originX"],xH=["y","scaleY","originY"];function lo(t,e){hT(t.x,e,SH),hT(t.y,e,xH)}function zb(t,e){return $b(EH(t.getBoundingClientRect(),e))}function IH(t,e,n){const r=zb(t,n),{scroll:i}=e;return i&&(Ur(r.x,i.offset.x),Ur(r.y,i.offset.y)),r}const Wb=({current:t})=>t?t.ownerDocument.defaultView:null,AH=new WeakMap;class PH{constructor(e){this.openGlobalLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=ze(),this.visualElement=e}start(e,{snapToCursor:n=!1}={}){const{presenceContext:r}=this.visualElement;if(r&&r.isPresent===!1)return;const i=l=>{this.stopAnimation(),n&&this.snapToCursor(_f(l,"page").point)},s=(l,u)=>{const{drag:c,dragPropagation:h,onDragStart:d}=this.getProps();if(c&&!h&&(this.openGlobalLock&&this.openGlobalLock(),this.openGlobalLock=nb(c),!this.openGlobalLock))return;this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),jn(g=>{let _=this.getAxisMotionValue(g).get()||0;if(Jn.test(_)){const{projection:w}=this.visualElement;if(w&&w.layout){const v=w.layout.layoutBox[g];v&&(_=ln(v)*(parseFloat(_)/100))}}this.originPoint[g]=_}),d&&ye.update(()=>d(l,u),!1,!0);const{animationState:p}=this.visualElement;p&&p.setActive("whileDrag",!0)},o=(l,u)=>{const{dragPropagation:c,dragDirectionLock:h,onDirectionLock:d,onDrag:p}=this.getProps();if(!c&&!this.openGlobalLock)return;const{offset:g}=u;if(h&&this.currentDirection===null){this.currentDirection=CH(g),this.currentDirection!==null&&d&&d(this.currentDirection);return}this.updateAxis("x",u.point,g),this.updateAxis("y",u.point,g),this.visualElement.render(),p&&p(l,u)},a=(l,u)=>this.stop(l,u);this.panSession=new Lb(e,{onSessionStart:i,onStart:s,onMove:o,onSessionEnd:a},{transformPagePoint:this.visualElement.getTransformPagePoint(),contextWindow:Wb(this.visualElement)})}stop(e,n){const r=this.isDragging;if(this.cancel(),!r)return;const{velocity:i}=n;this.startAnimation(i);const{onDragEnd:s}=this.getProps();s&&ye.update(()=>s(e,n))}cancel(){this.isDragging=!1;const{projection:e,animationState:n}=this.visualElement;e&&(e.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:r}=this.getProps();!r&&this.openGlobalLock&&(this.openGlobalLock(),this.openGlobalLock=null),n&&n.setActive("whileDrag",!1)}updateAxis(e,n,r){const{drag:i}=this.getProps();if(!r||!uc(e,i,this.currentDirection))return;const s=this.getAxisMotionValue(e);let o=this.originPoint[e]+r[e];this.constraints&&this.constraints[e]&&(o=pH(o,this.constraints[e],this.elastic[e])),s.set(o)}resolveConstraints(){var e;const{dragConstraints:n,dragElastic:r}=this.getProps(),i=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(e=this.visualElement.projection)===null||e===void 0?void 0:e.layout,s=this.constraints;n&&so(n)?this.constraints||(this.constraints=this.resolveRefConstraints()):n&&i?this.constraints=mH(i.layoutBox,n):this.constraints=!1,this.elastic=_H(r),s!==this.constraints&&i&&this.constraints&&!this.hasMutatedConstraints&&jn(o=>{this.getAxisMotionValue(o)&&(this.constraints[o]=vH(i.layoutBox[o],this.constraints[o]))})}resolveRefConstraints(){const{dragConstraints:e,onMeasureDragConstraints:n}=this.getProps();if(!e||!so(e))return!1;const r=e.current,{projection:i}=this.visualElement;if(!i||!i.layout)return!1;const s=IH(r,i.root,this.visualElement.getTransformPagePoint());let o=gH(i.layout.layoutBox,s);if(n){const a=n(wH(o));this.hasMutatedConstraints=!!a,a&&(o=$b(a))}return o}startAnimation(e){const{drag:n,dragMomentum:r,dragElastic:i,dragTransition:s,dragSnapToOrigin:o,onDragTransitionEnd:a}=this.getProps(),l=this.constraints||{},u=jn(c=>{if(!uc(c,n,this.currentDirection))return;let h=l&&l[c]||{};o&&(h={min:0,max:0});const d=i?200:1e6,p=i?40:1e7,g={type:"inertia",velocity:r?e[c]:0,bounceStiffness:d,bounceDamping:p,timeConstant:750,restDelta:1,restSpeed:10,...s,...h};return this.startAxisValueAnimation(c,g)});return Promise.all(u).then(a)}startAxisValueAnimation(e,n){const r=this.getAxisMotionValue(e);return r.start(B0(e,r,0,n))}stopAnimation(){jn(e=>this.getAxisMotionValue(e).stop())}getAxisMotionValue(e){const n="_drag"+e.toUpperCase(),r=this.visualElement.getProps(),i=r[n];return i||this.visualElement.getValue(e,(r.initial?r.initial[e]:void 0)||0)}snapToCursor(e){jn(n=>{const{drag:r}=this.getProps();if(!uc(n,r,this.currentDirection))return;const{projection:i}=this.visualElement,s=this.getAxisMotionValue(n);if(i&&i.layout){const{min:o,max:a}=i.layout.layoutBox[n];s.set(e[n]-Re(o,a,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:e,dragConstraints:n}=this.getProps(),{projection:r}=this.visualElement;if(!so(n)||!r||!this.constraints)return;this.stopAnimation();const i={x:0,y:0};jn(o=>{const a=this.getAxisMotionValue(o);if(a){const l=a.get();i[o]=yH({min:l,max:l},this.constraints[o])}});const{transformTemplate:s}=this.visualElement.getProps();this.visualElement.current.style.transform=s?s({},""):"none",r.root&&r.root.updateScroll(),r.updateLayout(),this.resolveConstraints(),jn(o=>{if(!uc(o,e,null))return;const a=this.getAxisMotionValue(o),{min:l,max:u}=this.constraints[o];a.set(Re(l,u,i[o]))})}addListeners(){if(!this.visualElement.current)return;AH.set(this.visualElement,this);const e=this.visualElement.current,n=vr(e,"pointerdown",l=>{const{drag:u,dragListener:c=!0}=this.getProps();u&&c&&this.start(l)}),r=()=>{const{dragConstraints:l}=this.getProps();so(l)&&(this.constraints=this.resolveRefConstraints())},{projection:i}=this.visualElement,s=i.addEventListener("measure",r);i&&!i.layout&&(i.root&&i.root.updateScroll(),i.updateLayout()),r();const o=gr(window,"resize",()=>this.scalePositionWithinConstraints()),a=i.addEventListener("didUpdate",({delta:l,hasLayoutChanged:u})=>{this.isDragging&&u&&(jn(c=>{const h=this.getAxisMotionValue(c);h&&(this.originPoint[c]+=l[c].translate,h.set(h.get()+l[c].translate))}),this.visualElement.render())});return()=>{o(),n(),s(),a&&a()}}getProps(){const e=this.visualElement.getProps(),{drag:n=!1,dragDirectionLock:r=!1,dragPropagation:i=!1,dragConstraints:s=!1,dragElastic:o=Vg,dragMomentum:a=!0}=e;return{...e,drag:n,dragDirectionLock:r,dragPropagation:i,dragConstraints:s,dragElastic:o,dragMomentum:a}}}function uc(t,e,n){return(e===!0||e===t)&&(n===null||n===t)}function CH(t,e=10){let n=null;return Math.abs(t.y)>e?n="y":Math.abs(t.x)>e&&(n="x"),n}class bH extends Oi{constructor(e){super(e),this.removeGroupControls=Ve,this.removeListeners=Ve,this.controls=new PH(e)}mount(){const{dragControls:e}=this.node.getProps();e&&(this.removeGroupControls=e.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||Ve}unmount(){this.removeGroupControls(),this.removeListeners()}}const dT=t=>(e,n)=>{t&&ye.update(()=>t(e,n))};class RH extends Oi{constructor(){super(...arguments),this.removePointerDownListener=Ve}onPointerDown(e){this.session=new Lb(e,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:Wb(this.node)})}createPanHandlers(){const{onPanSessionStart:e,onPanStart:n,onPan:r,onPanEnd:i}=this.node.getProps();return{onSessionStart:dT(e),onStart:dT(n),onMove:r,onEnd:(s,o)=>{delete this.session,i&&ye.update(()=>i(s,o))}}}mount(){this.removePointerDownListener=vr(this.node.current,"pointerdown",e=>this.onPointerDown(e))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}function kH(){const t=E.useContext(ff);if(t===null)return[!0,null];const{isPresent:e,onExitComplete:n,register:r}=t,i=E.useId();return E.useEffect(()=>r(i),[]),!e&&n?[!1,()=>n&&n(i)]:[!0]}const Vc={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function fT(t,e){return e.max===e.min?0:t/(e.max-e.min)*100}const ya={correct:(t,e)=>{if(!e.target)return t;if(typeof t=="string")if(q.test(t))t=parseFloat(t);else return t;const n=fT(t,e.target.x),r=fT(t,e.target.y);return`${n}% ${r}%`}},NH={correct:(t,{treeScale:e,projectionDelta:n})=>{const r=t,i=xi.parse(t);if(i.length>5)return r;const s=xi.createTransformer(t),o=typeof i[0]!="number"?1:0,a=n.x.scale*e.x,l=n.y.scale*e.y;i[0+o]/=a,i[1+o]/=l;const u=Re(a,l,.5);return typeof i[2+o]=="number"&&(i[2+o]/=u),typeof i[3+o]=="number"&&(i[3+o]/=u),s(i)}};class DH extends qh.Component{componentDidMount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:r,layoutId:i}=this.props,{projection:s}=e;Bz(OH),s&&(n.group&&n.group.add(s),r&&r.register&&i&&r.register(s),s.root.didUpdate(),s.addEventListener("animationComplete",()=>{this.safeToRemove()}),s.setOptions({...s.options,onExitComplete:()=>this.safeToRemove()})),Vc.hasEverUpdated=!0}getSnapshotBeforeUpdate(e){const{layoutDependency:n,visualElement:r,drag:i,isPresent:s}=this.props,o=r.projection;return o&&(o.isPresent=s,i||e.layoutDependency!==n||n===void 0?o.willUpdate():this.safeToRemove(),e.isPresent!==s&&(s?o.promote():o.relegate()||ye.postRender(()=>{const a=o.getStack();(!a||!a.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:e}=this.props.visualElement;e&&(e.root.didUpdate(),queueMicrotask(()=>{!e.currentAnimation&&e.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:r}=this.props,{projection:i}=e;i&&(i.scheduleCheckAfterUnmount(),n&&n.group&&n.group.remove(i),r&&r.deregister&&r.deregister(i))}safeToRemove(){const{safeToRemove:e}=this.props;e&&e()}render(){return null}}function Hb(t){const[e,n]=kH(),r=E.useContext(P0);return qh.createElement(DH,{...t,layoutGroup:r,switchLayoutGroup:E.useContext($2),isPresent:e,safeToRemove:n})}const OH={borderRadius:{...ya,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:ya,borderTopRightRadius:ya,borderBottomLeftRadius:ya,borderBottomRightRadius:ya,boxShadow:NH},Gb=["TopLeft","TopRight","BottomLeft","BottomRight"],VH=Gb.length,pT=t=>typeof t=="string"?parseFloat(t):t,mT=t=>typeof t=="number"||q.test(t);function jH(t,e,n,r,i,s){i?(t.opacity=Re(0,n.opacity!==void 0?n.opacity:1,MH(r)),t.opacityExit=Re(e.opacity!==void 0?e.opacity:1,0,LH(r))):s&&(t.opacity=Re(e.opacity!==void 0?e.opacity:1,n.opacity!==void 0?n.opacity:1,r));for(let o=0;o<VH;o++){const a=`border${Gb[o]}Radius`;let l=gT(e,a),u=gT(n,a);if(l===void 0&&u===void 0)continue;l||(l=0),u||(u=0),l===0||u===0||mT(l)===mT(u)?(t[a]=Math.max(Re(pT(l),pT(u),r),0),(Jn.test(u)||Jn.test(l))&&(t[a]+="%")):t[a]=u}(e.rotate||n.rotate)&&(t.rotate=Re(e.rotate||0,n.rotate||0,r))}function gT(t,e){return t[e]!==void 0?t[e]:t.borderRadius}const MH=qb(0,.5,pb),LH=qb(.5,.95,Ve);function qb(t,e,n){return r=>r<t?0:r>e?1:n(zl(t,e,r))}function yT(t,e){t.min=e.min,t.max=e.max}function fn(t,e){yT(t.x,e.x),yT(t.y,e.y)}function vT(t,e,n,r,i){return t-=e,t=Wh(t,1/n,r),i!==void 0&&(t=Wh(t,1/i,r)),t}function FH(t,e=0,n=1,r=.5,i,s=t,o=t){if(Jn.test(e)&&(e=parseFloat(e),e=Re(o.min,o.max,e/100)-o.min),typeof e!="number")return;let a=Re(s.min,s.max,r);t===s&&(a-=e),t.min=vT(t.min,e,n,a,i),t.max=vT(t.max,e,n,a,i)}function _T(t,e,[n,r,i],s,o){FH(t,e[n],e[r],e[i],e.scale,s,o)}const $H=["x","scaleX","originX"],UH=["y","scaleY","originY"];function wT(t,e,n,r){_T(t.x,e,$H,n?n.x:void 0,r?r.x:void 0),_T(t.y,e,UH,n?n.y:void 0,r?r.y:void 0)}function ET(t){return t.translate===0&&t.scale===1}function Kb(t){return ET(t.x)&&ET(t.y)}function BH(t,e){return t.x.min===e.x.min&&t.x.max===e.x.max&&t.y.min===e.y.min&&t.y.max===e.y.max}function Qb(t,e){return Math.round(t.x.min)===Math.round(e.x.min)&&Math.round(t.x.max)===Math.round(e.x.max)&&Math.round(t.y.min)===Math.round(e.y.min)&&Math.round(t.y.max)===Math.round(e.y.max)}function TT(t){return ln(t.x)/ln(t.y)}class zH{constructor(){this.members=[]}add(e){z0(this.members,e),e.scheduleRender()}remove(e){if(W0(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){const n=this.members[this.members.length-1];n&&this.promote(n)}}relegate(e){const n=this.members.findIndex(i=>e===i);if(n===0)return!1;let r;for(let i=n;i>=0;i--){const s=this.members[i];if(s.isPresent!==!1){r=s;break}}return r?(this.promote(r),!0):!1}promote(e,n){const r=this.lead;if(e!==r&&(this.prevLead=r,this.lead=e,e.show(),r)){r.instance&&r.scheduleRender(),e.scheduleRender(),e.resumeFrom=r,n&&(e.resumeFrom.preserveOpacity=!0),r.snapshot&&(e.snapshot=r.snapshot,e.snapshot.latestValues=r.animationValues||r.latestValues),e.root&&e.root.isUpdating&&(e.isLayoutDirty=!0);const{crossfade:i}=e.options;i===!1&&r.hide()}}exitAnimationComplete(){this.members.forEach(e=>{const{options:n,resumingFrom:r}=e;n.onExitComplete&&n.onExitComplete(),r&&r.options.onExitComplete&&r.options.onExitComplete()})}scheduleRender(){this.members.forEach(e=>{e.instance&&e.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function ST(t,e,n){let r="";const i=t.x.translate/e.x,s=t.y.translate/e.y;if((i||s)&&(r=`translate3d(${i}px, ${s}px, 0) `),(e.x!==1||e.y!==1)&&(r+=`scale(${1/e.x}, ${1/e.y}) `),n){const{rotate:l,rotateX:u,rotateY:c}=n;l&&(r+=`rotate(${l}deg) `),u&&(r+=`rotateX(${u}deg) `),c&&(r+=`rotateY(${c}deg) `)}const o=t.x.scale*e.x,a=t.y.scale*e.y;return(o!==1||a!==1)&&(r+=`scale(${o}, ${a})`),r||"none"}const WH=(t,e)=>t.depth-e.depth;class HH{constructor(){this.children=[],this.isDirty=!1}add(e){z0(this.children,e),this.isDirty=!0}remove(e){W0(this.children,e),this.isDirty=!0}forEach(e){this.isDirty&&this.children.sort(WH),this.isDirty=!1,this.children.forEach(e)}}function GH(t,e){const n=performance.now(),r=({timestamp:i})=>{const s=i-n;s>=e&&(Pr(r),t(s-e))};return ye.read(r,!0),()=>Pr(r)}function qH(t){window.MotionDebug&&window.MotionDebug.record(t)}function KH(t){return t instanceof SVGElement&&t.tagName!=="svg"}function QH(t,e,n){const r=Qt(t)?t:$o(t);return r.start(B0("",r,e,n)),r.animation}const xT=["","X","Y","Z"],XH={visibility:"hidden"},IT=1e3;let YH=0;const Gi={type:"projectionFrame",totalNodes:0,resolvedTargetDeltas:0,recalculatedProjection:0};function Xb({attachResizeListener:t,defaultParent:e,measureScroll:n,checkIsScrollRoot:r,resetTransform:i}){return class{constructor(o={},a=e==null?void 0:e()){this.id=YH++,this.animationId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,Gi.totalNodes=Gi.resolvedTargetDeltas=Gi.recalculatedProjection=0,this.nodes.forEach(eG),this.nodes.forEach(sG),this.nodes.forEach(oG),this.nodes.forEach(tG),qH(Gi)},this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=o,this.root=a?a.root||a:this,this.path=a?[...a.path,a]:[],this.parent=a,this.depth=a?a.depth+1:0;for(let l=0;l<this.path.length;l++)this.path[l].shouldResetTransform=!0;this.root===this&&(this.nodes=new HH)}addEventListener(o,a){return this.eventHandlers.has(o)||this.eventHandlers.set(o,new H0),this.eventHandlers.get(o).add(a)}notifyListeners(o,...a){const l=this.eventHandlers.get(o);l&&l.notify(...a)}hasListeners(o){return this.eventHandlers.has(o)}mount(o,a=this.root.hasTreeAnimated){if(this.instance)return;this.isSVG=KH(o),this.instance=o;const{layoutId:l,layout:u,visualElement:c}=this.options;if(c&&!c.current&&c.mount(o),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),a&&(u||l)&&(this.isLayoutDirty=!0),t){let h;const d=()=>this.root.updateBlockedByResize=!1;t(o,()=>{this.root.updateBlockedByResize=!0,h&&h(),h=GH(d,250),Vc.hasAnimatedSinceResize&&(Vc.hasAnimatedSinceResize=!1,this.nodes.forEach(PT))})}l&&this.root.registerSharedNode(l,this),this.options.animate!==!1&&c&&(l||u)&&this.addEventListener("didUpdate",({delta:h,hasLayoutChanged:d,hasRelativeTargetChanged:p,layout:g})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const _=this.options.transition||c.getDefaultTransition()||hG,{onLayoutAnimationStart:w,onLayoutAnimationComplete:v}=c.getProps(),m=!this.targetLayout||!Qb(this.targetLayout,g)||p,y=!d&&p;if(this.options.layoutRoot||this.resumeFrom&&this.resumeFrom.instance||y||d&&(m||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0),this.setAnimationOrigin(h,y);const T={...U0(_,"layout"),onPlay:w,onComplete:v};(c.shouldReduceMotion||this.options.layoutRoot)&&(T.delay=0,T.type=!1),this.startAnimation(T)}else d||PT(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=g})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const o=this.getStack();o&&o.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,Pr(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(aG),this.animationId++)}getTransformTemplate(){const{visualElement:o}=this.options;return o&&o.getProps().transformTemplate}willUpdate(o=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let c=0;c<this.path.length;c++){const h=this.path[c];h.shouldResetTransform=!0,h.updateScroll("snapshot"),h.options.layoutRoot&&h.willUpdate(!1)}const{layoutId:a,layout:l}=this.options;if(a===void 0&&!l)return;const u=this.getTransformTemplate();this.prevTransformTemplateValue=u?u(this.latestValues,""):void 0,this.updateSnapshot(),o&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(AT);return}this.isUpdating||this.nodes.forEach(rG),this.isUpdating=!1,this.nodes.forEach(iG),this.nodes.forEach(JH),this.nodes.forEach(ZH),this.clearAllSnapshots();const a=performance.now();Tt.delta=Si(0,1e3/60,a-Tt.timestamp),Tt.timestamp=a,Tt.isProcessing=!0,Ip.update.process(Tt),Ip.preRender.process(Tt),Ip.render.process(Tt),Tt.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,queueMicrotask(()=>this.update()))}clearAllSnapshots(){this.nodes.forEach(nG),this.sharedNodes.forEach(lG)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,ye.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){ye.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure())}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let l=0;l<this.path.length;l++)this.path[l].updateScroll();const o=this.layout;this.layout=this.measure(!1),this.layoutCorrected=ze(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:a}=this.options;a&&a.notify("LayoutMeasure",this.layout.layoutBox,o?o.layoutBox:void 0)}updateScroll(o="measure"){let a=!!(this.options.layoutScroll&&this.instance);this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===o&&(a=!1),a&&(this.scroll={animationId:this.root.animationId,phase:o,isRoot:r(this.instance),offset:n(this.instance)})}resetTransform(){if(!i)return;const o=this.isLayoutDirty||this.shouldResetTransform,a=this.projectionDelta&&!Kb(this.projectionDelta),l=this.getTransformTemplate(),u=l?l(this.latestValues,""):void 0,c=u!==this.prevTransformTemplateValue;o&&(a||Hi(this.latestValues)||c)&&(i(this.instance,u),this.shouldResetTransform=!1,this.scheduleRender())}measure(o=!0){const a=this.measurePageBox();let l=this.removeElementScroll(a);return o&&(l=this.removeTransform(l)),dG(l),{animationId:this.root.animationId,measuredBox:a,layoutBox:l,latestValues:{},source:this.id}}measurePageBox(){const{visualElement:o}=this.options;if(!o)return ze();const a=o.measureViewportBox(),{scroll:l}=this.root;return l&&(Ur(a.x,l.offset.x),Ur(a.y,l.offset.y)),a}removeElementScroll(o){const a=ze();fn(a,o);for(let l=0;l<this.path.length;l++){const u=this.path[l],{scroll:c,options:h}=u;if(u!==this.root&&c&&h.layoutScroll){if(c.isRoot){fn(a,o);const{scroll:d}=this.root;d&&(Ur(a.x,-d.offset.x),Ur(a.y,-d.offset.y))}Ur(a.x,c.offset.x),Ur(a.y,c.offset.y)}}return a}applyTransform(o,a=!1){const l=ze();fn(l,o);for(let u=0;u<this.path.length;u++){const c=this.path[u];!a&&c.options.layoutScroll&&c.scroll&&c!==c.root&&lo(l,{x:-c.scroll.offset.x,y:-c.scroll.offset.y}),Hi(c.latestValues)&&lo(l,c.latestValues)}return Hi(this.latestValues)&&lo(l,this.latestValues),l}removeTransform(o){const a=ze();fn(a,o);for(let l=0;l<this.path.length;l++){const u=this.path[l];if(!u.instance||!Hi(u.latestValues))continue;jg(u.latestValues)&&u.updateSnapshot();const c=ze(),h=u.measurePageBox();fn(c,h),wT(a,u.latestValues,u.snapshot?u.snapshot.layoutBox:void 0,c)}return Hi(this.latestValues)&&wT(a,this.latestValues),a}setTargetDelta(o){this.targetDelta=o,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(o){this.options={...this.options,...o,crossfade:o.crossfade!==void 0?o.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==Tt.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(o=!1){var a;const l=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=l.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=l.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=l.isSharedProjectionDirty);const u=!!this.resumingFrom||this!==l;if(!(o||u&&this.isSharedProjectionDirty||this.isProjectionDirty||!((a=this.parent)===null||a===void 0)&&a.isProjectionDirty||this.attemptToResolveRelativeTarget))return;const{layout:h,layoutId:d}=this.options;if(!(!this.layout||!(h||d))){if(this.resolvedRelativeTargetAt=Tt.timestamp,!this.targetDelta&&!this.relativeTarget){const p=this.getClosestProjectingParent();p&&p.layout&&this.animationProgress!==1?(this.relativeParent=p,this.forceRelativeParentToResolveTarget(),this.relativeTarget=ze(),this.relativeTargetOrigin=ze(),Ja(this.relativeTargetOrigin,this.layout.layoutBox,p.layout.layoutBox),fn(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)){if(this.target||(this.target=ze(),this.targetWithTransforms=ze()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),fH(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):fn(this.target,this.layout.layoutBox),Bb(this.target,this.targetDelta)):fn(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget){this.attemptToResolveRelativeTarget=!1;const p=this.getClosestProjectingParent();p&&!!p.resumingFrom==!!this.resumingFrom&&!p.options.layoutScroll&&p.target&&this.animationProgress!==1?(this.relativeParent=p,this.forceRelativeParentToResolveTarget(),this.relativeTarget=ze(),this.relativeTargetOrigin=ze(),Ja(this.relativeTargetOrigin,this.target,p.target),fn(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}Gi.resolvedTargetDeltas++}}}getClosestProjectingParent(){if(!(!this.parent||jg(this.parent.latestValues)||Ub(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var o;const a=this.getLead(),l=!!this.resumingFrom||this!==a;let u=!0;if((this.isProjectionDirty||!((o=this.parent)===null||o===void 0)&&o.isProjectionDirty)&&(u=!1),l&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(u=!1),this.resolvedRelativeTargetAt===Tt.timestamp&&(u=!1),u)return;const{layout:c,layoutId:h}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(c||h))return;fn(this.layoutCorrected,this.layout.layoutBox);const d=this.treeScale.x,p=this.treeScale.y;TH(this.layoutCorrected,this.treeScale,this.path,l),a.layout&&!a.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(a.target=a.layout.layoutBox);const{target:g}=a;if(!g){this.projectionTransform&&(this.projectionDelta=ao(),this.projectionTransform="none",this.scheduleRender());return}this.projectionDelta||(this.projectionDelta=ao(),this.projectionDeltaWithTransform=ao());const _=this.projectionTransform;Ya(this.projectionDelta,this.layoutCorrected,g,this.latestValues),this.projectionTransform=ST(this.projectionDelta,this.treeScale),(this.projectionTransform!==_||this.treeScale.x!==d||this.treeScale.y!==p)&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",g)),Gi.recalculatedProjection++}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(o=!0){if(this.options.scheduleRender&&this.options.scheduleRender(),o){const a=this.getStack();a&&a.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}setAnimationOrigin(o,a=!1){const l=this.snapshot,u=l?l.latestValues:{},c={...this.latestValues},h=ao();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!a;const d=ze(),p=l?l.source:void 0,g=this.layout?this.layout.source:void 0,_=p!==g,w=this.getStack(),v=!w||w.members.length<=1,m=!!(_&&!v&&this.options.crossfade===!0&&!this.path.some(cG));this.animationProgress=0;let y;this.mixTargetDelta=T=>{const S=T/1e3;CT(h.x,o.x,S),CT(h.y,o.y,S),this.setTargetDelta(h),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(Ja(d,this.layout.layoutBox,this.relativeParent.layout.layoutBox),uG(this.relativeTarget,this.relativeTargetOrigin,d,S),y&&BH(this.relativeTarget,y)&&(this.isProjectionDirty=!1),y||(y=ze()),fn(y,this.relativeTarget)),_&&(this.animationValues=c,jH(c,u,this.latestValues,S,m,v)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=S},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(o){this.notifyListeners("animationStart"),this.currentAnimation&&this.currentAnimation.stop(),this.resumingFrom&&this.resumingFrom.currentAnimation&&this.resumingFrom.currentAnimation.stop(),this.pendingAnimation&&(Pr(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=ye.update(()=>{Vc.hasAnimatedSinceResize=!0,this.currentAnimation=QH(0,IT,{...o,onUpdate:a=>{this.mixTargetDelta(a),o.onUpdate&&o.onUpdate(a)},onComplete:()=>{o.onComplete&&o.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const o=this.getStack();o&&o.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(IT),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const o=this.getLead();let{targetWithTransforms:a,target:l,layout:u,latestValues:c}=o;if(!(!a||!l||!u)){if(this!==o&&this.layout&&u&&Yb(this.options.animationType,this.layout.layoutBox,u.layoutBox)){l=this.target||ze();const h=ln(this.layout.layoutBox.x);l.x.min=o.target.x.min,l.x.max=l.x.min+h;const d=ln(this.layout.layoutBox.y);l.y.min=o.target.y.min,l.y.max=l.y.min+d}fn(a,l),lo(a,c),Ya(this.projectionDeltaWithTransform,this.layoutCorrected,a,c)}}registerSharedNode(o,a){this.sharedNodes.has(o)||this.sharedNodes.set(o,new zH),this.sharedNodes.get(o).add(a);const u=a.options.initialPromotionConfig;a.promote({transition:u?u.transition:void 0,preserveFollowOpacity:u&&u.shouldPreserveFollowOpacity?u.shouldPreserveFollowOpacity(a):void 0})}isLead(){const o=this.getStack();return o?o.lead===this:!0}getLead(){var o;const{layoutId:a}=this.options;return a?((o=this.getStack())===null||o===void 0?void 0:o.lead)||this:this}getPrevLead(){var o;const{layoutId:a}=this.options;return a?(o=this.getStack())===null||o===void 0?void 0:o.prevLead:void 0}getStack(){const{layoutId:o}=this.options;if(o)return this.root.sharedNodes.get(o)}promote({needsReset:o,transition:a,preserveFollowOpacity:l}={}){const u=this.getStack();u&&u.promote(this,l),o&&(this.projectionDelta=void 0,this.needsReset=!0),a&&this.setOptions({transition:a})}relegate(){const o=this.getStack();return o?o.relegate(this):!1}resetRotation(){const{visualElement:o}=this.options;if(!o)return;let a=!1;const{latestValues:l}=o;if((l.rotate||l.rotateX||l.rotateY||l.rotateZ)&&(a=!0),!a)return;const u={};for(let c=0;c<xT.length;c++){const h="rotate"+xT[c];l[h]&&(u[h]=l[h],o.setStaticValue(h,0))}o.render();for(const c in u)o.setStaticValue(c,u[c]);o.scheduleRender()}getProjectionStyles(o){var a,l;if(!this.instance||this.isSVG)return;if(!this.isVisible)return XH;const u={visibility:""},c=this.getTransformTemplate();if(this.needsReset)return this.needsReset=!1,u.opacity="",u.pointerEvents=Oc(o==null?void 0:o.pointerEvents)||"",u.transform=c?c(this.latestValues,""):"none",u;const h=this.getLead();if(!this.projectionDelta||!this.layout||!h.target){const _={};return this.options.layoutId&&(_.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,_.pointerEvents=Oc(o==null?void 0:o.pointerEvents)||""),this.hasProjected&&!Hi(this.latestValues)&&(_.transform=c?c({},""):"none",this.hasProjected=!1),_}const d=h.animationValues||h.latestValues;this.applyTransformsToTarget(),u.transform=ST(this.projectionDeltaWithTransform,this.treeScale,d),c&&(u.transform=c(d,u.transform));const{x:p,y:g}=this.projectionDelta;u.transformOrigin=`${p.origin*100}% ${g.origin*100}% 0`,h.animationValues?u.opacity=h===this?(l=(a=d.opacity)!==null&&a!==void 0?a:this.latestValues.opacity)!==null&&l!==void 0?l:1:this.preserveOpacity?this.latestValues.opacity:d.opacityExit:u.opacity=h===this?d.opacity!==void 0?d.opacity:"":d.opacityExit!==void 0?d.opacityExit:0;for(const _ in Mh){if(d[_]===void 0)continue;const{correct:w,applyTo:v}=Mh[_],m=u.transform==="none"?d[_]:w(d[_],h);if(v){const y=v.length;for(let T=0;T<y;T++)u[v[T]]=m}else u[_]=m}return this.options.layoutId&&(u.pointerEvents=h===this?Oc(o==null?void 0:o.pointerEvents)||"":"none"),u}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(o=>{var a;return(a=o.currentAnimation)===null||a===void 0?void 0:a.stop()}),this.root.nodes.forEach(AT),this.root.sharedNodes.clear()}}}function JH(t){t.updateLayout()}function ZH(t){var e;const n=((e=t.resumeFrom)===null||e===void 0?void 0:e.snapshot)||t.snapshot;if(t.isLead()&&t.layout&&n&&t.hasListeners("didUpdate")){const{layoutBox:r,measuredBox:i}=t.layout,{animationType:s}=t.options,o=n.source!==t.layout.source;s==="size"?jn(h=>{const d=o?n.measuredBox[h]:n.layoutBox[h],p=ln(d);d.min=r[h].min,d.max=d.min+p}):Yb(s,n.layoutBox,r)&&jn(h=>{const d=o?n.measuredBox[h]:n.layoutBox[h],p=ln(r[h]);d.max=d.min+p,t.relativeTarget&&!t.currentAnimation&&(t.isProjectionDirty=!0,t.relativeTarget[h].max=t.relativeTarget[h].min+p)});const a=ao();Ya(a,r,n.layoutBox);const l=ao();o?Ya(l,t.applyTransform(i,!0),n.measuredBox):Ya(l,r,n.layoutBox);const u=!Kb(a);let c=!1;if(!t.resumeFrom){const h=t.getClosestProjectingParent();if(h&&!h.resumeFrom){const{snapshot:d,layout:p}=h;if(d&&p){const g=ze();Ja(g,n.layoutBox,d.layoutBox);const _=ze();Ja(_,r,p.layoutBox),Qb(g,_)||(c=!0),h.options.layoutRoot&&(t.relativeTarget=_,t.relativeTargetOrigin=g,t.relativeParent=h)}}}t.notifyListeners("didUpdate",{layout:r,snapshot:n,delta:l,layoutDelta:a,hasLayoutChanged:u,hasRelativeTargetChanged:c})}else if(t.isLead()){const{onExitComplete:r}=t.options;r&&r()}t.options.transition=void 0}function eG(t){Gi.totalNodes++,t.parent&&(t.isProjecting()||(t.isProjectionDirty=t.parent.isProjectionDirty),t.isSharedProjectionDirty||(t.isSharedProjectionDirty=!!(t.isProjectionDirty||t.parent.isProjectionDirty||t.parent.isSharedProjectionDirty)),t.isTransformDirty||(t.isTransformDirty=t.parent.isTransformDirty))}function tG(t){t.isProjectionDirty=t.isSharedProjectionDirty=t.isTransformDirty=!1}function nG(t){t.clearSnapshot()}function AT(t){t.clearMeasurements()}function rG(t){t.isLayoutDirty=!1}function iG(t){const{visualElement:e}=t.options;e&&e.getProps().onBeforeLayoutMeasure&&e.notify("BeforeLayoutMeasure"),t.resetTransform()}function PT(t){t.finishAnimation(),t.targetDelta=t.relativeTarget=t.target=void 0,t.isProjectionDirty=!0}function sG(t){t.resolveTargetDelta()}function oG(t){t.calcProjection()}function aG(t){t.resetRotation()}function lG(t){t.removeLeadSnapshot()}function CT(t,e,n){t.translate=Re(e.translate,0,n),t.scale=Re(e.scale,1,n),t.origin=e.origin,t.originPoint=e.originPoint}function bT(t,e,n,r){t.min=Re(e.min,n.min,r),t.max=Re(e.max,n.max,r)}function uG(t,e,n,r){bT(t.x,e.x,n.x,r),bT(t.y,e.y,n.y,r)}function cG(t){return t.animationValues&&t.animationValues.opacityExit!==void 0}const hG={duration:.45,ease:[.4,0,.1,1]},RT=t=>typeof navigator<"u"&&navigator.userAgent.toLowerCase().includes(t),kT=RT("applewebkit/")&&!RT("chrome/")?Math.round:Ve;function NT(t){t.min=kT(t.min),t.max=kT(t.max)}function dG(t){NT(t.x),NT(t.y)}function Yb(t,e,n){return t==="position"||t==="preserve-aspect"&&!Og(TT(e),TT(n),.2)}const fG=Xb({attachResizeListener:(t,e)=>gr(t,"resize",e),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),jp={current:void 0},Jb=Xb({measureScroll:t=>({x:t.scrollLeft,y:t.scrollTop}),defaultParent:()=>{if(!jp.current){const t=new fG({});t.mount(window),t.setOptions({layoutScroll:!0}),jp.current=t}return jp.current},resetTransform:(t,e)=>{t.style.transform=e!==void 0?e:"none"},checkIsScrollRoot:t=>window.getComputedStyle(t).position==="fixed"}),pG={pan:{Feature:RH},drag:{Feature:bH,ProjectionNode:Jb,MeasureLayout:Hb}},mG=/var\((--[a-zA-Z0-9-_]+),? ?([a-zA-Z0-9 ()%#.,-]+)?\)/;function gG(t){const e=mG.exec(t);if(!e)return[,];const[,n,r]=e;return[n,r]}function Lg(t,e,n=1){const[r,i]=gG(t);if(!r)return;const s=window.getComputedStyle(e).getPropertyValue(r);if(s){const o=s.trim();return Db(o)?parseFloat(o):o}else return Ag(i)?Lg(i,e,n+1):i}function yG(t,{...e},n){const r=t.current;if(!(r instanceof Element))return{target:e,transitionEnd:n};n&&(n={...n}),t.values.forEach(i=>{const s=i.get();if(!Ag(s))return;const o=Lg(s,r);o&&i.set(o)});for(const i in e){const s=e[i];if(!Ag(s))continue;const o=Lg(s,r);o&&(e[i]=o,n||(n={}),n[i]===void 0&&(n[i]=s))}return{target:e,transitionEnd:n}}const vG=new Set(["width","height","top","left","right","bottom","x","y","translateX","translateY"]),Zb=t=>vG.has(t),_G=t=>Object.keys(t).some(Zb),DT=t=>t===Ms||t===q,OT=(t,e)=>parseFloat(t.split(", ")[e]),VT=(t,e)=>(n,{transform:r})=>{if(r==="none"||!r)return 0;const i=r.match(/^matrix3d\((.+)\)$/);if(i)return OT(i[1],e);{const s=r.match(/^matrix\((.+)\)$/);return s?OT(s[1],t):0}},wG=new Set(["x","y","z"]),EG=Tu.filter(t=>!wG.has(t));function TG(t){const e=[];return EG.forEach(n=>{const r=t.getValue(n);r!==void 0&&(e.push([n,r.get()]),r.set(n.startsWith("scale")?1:0))}),e.length&&t.render(),e}const Uo={width:({x:t},{paddingLeft:e="0",paddingRight:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),height:({y:t},{paddingTop:e="0",paddingBottom:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),top:(t,{top:e})=>parseFloat(e),left:(t,{left:e})=>parseFloat(e),bottom:({y:t},{top:e})=>parseFloat(e)+(t.max-t.min),right:({x:t},{left:e})=>parseFloat(e)+(t.max-t.min),x:VT(4,13),y:VT(5,14)};Uo.translateX=Uo.x;Uo.translateY=Uo.y;const SG=(t,e,n)=>{const r=e.measureViewportBox(),i=e.current,s=getComputedStyle(i),{display:o}=s,a={};o==="none"&&e.setStaticValue("display",t.display||"block"),n.forEach(u=>{a[u]=Uo[u](r,s)}),e.render();const l=e.measureViewportBox();return n.forEach(u=>{const c=e.getValue(u);c&&c.jump(a[u]),t[u]=Uo[u](l,s)}),t},xG=(t,e,n={},r={})=>{e={...e},r={...r};const i=Object.keys(e).filter(Zb);let s=[],o=!1;const a=[];if(i.forEach(l=>{const u=t.getValue(l);if(!t.hasValue(l))return;let c=n[l],h=ga(c);const d=e[l];let p;if(Fh(d)){const g=d.length,_=d[0]===null?1:0;c=d[_],h=ga(c);for(let w=_;w<g&&d[w]!==null;w++)p?j0(ga(d[w])===p):p=ga(d[w])}else p=ga(d);if(h!==p)if(DT(h)&&DT(p)){const g=u.get();typeof g=="string"&&u.set(parseFloat(g)),typeof d=="string"?e[l]=parseFloat(d):Array.isArray(d)&&p===q&&(e[l]=d.map(parseFloat))}else h!=null&&h.transform&&(p!=null&&p.transform)&&(c===0||d===0)?c===0?u.set(p.transform(c)):e[l]=h.transform(d):(o||(s=TG(t),o=!0),a.push(l),r[l]=r[l]!==void 0?r[l]:e[l],u.jump(d))}),a.length){const l=a.indexOf("height")>=0?window.pageYOffset:null,u=SG(e,t,a);return s.length&&s.forEach(([c,h])=>{t.getValue(c).set(h)}),t.render(),pf&&l!==null&&window.scrollTo({top:l}),{target:u,transitionEnd:r}}else return{target:e,transitionEnd:r}};function IG(t,e,n,r){return _G(e)?xG(t,e,n,r):{target:e,transitionEnd:r}}const AG=(t,e,n,r)=>{const i=yG(t,e,r);return e=i.target,r=i.transitionEnd,IG(t,e,n,r)},Fg={current:null},eR={current:!1};function PG(){if(eR.current=!0,!!pf)if(window.matchMedia){const t=window.matchMedia("(prefers-reduced-motion)"),e=()=>Fg.current=t.matches;t.addListener(e),e()}else Fg.current=!1}function CG(t,e,n){const{willChange:r}=e;for(const i in e){const s=e[i],o=n[i];if(Qt(s))t.addValue(i,s),zh(r)&&r.add(i);else if(Qt(o))t.addValue(i,$o(s,{owner:t})),zh(r)&&r.remove(i);else if(o!==s)if(t.hasValue(i)){const a=t.getValue(i);!a.hasAnimated&&a.set(s)}else{const a=t.getStaticValue(i);t.addValue(i,$o(a!==void 0?a:s,{owner:t}))}}for(const i in n)e[i]===void 0&&t.removeValue(i);return e}const jT=new WeakMap,tR=Object.keys(Bl),bG=tR.length,MT=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"],RG=A0.length;class kG{constructor({parent:e,props:n,presenceContext:r,reducedMotionConfig:i,visualState:s},o={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.scheduleRender=()=>ye.render(this.render,!1,!0);const{latestValues:a,renderState:l}=s;this.latestValues=a,this.baseTarget={...a},this.initialValues=n.initial?{...a}:{},this.renderState=l,this.parent=e,this.props=n,this.presenceContext=r,this.depth=e?e.depth+1:0,this.reducedMotionConfig=i,this.options=o,this.isControllingVariants=yf(n),this.isVariantNode=F2(n),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(e&&e.current);const{willChange:u,...c}=this.scrapeMotionValuesFromProps(n,{});for(const h in c){const d=c[h];a[h]!==void 0&&Qt(d)&&(d.set(a[h],!1),zh(u)&&u.add(h))}}scrapeMotionValuesFromProps(e,n){return{}}mount(e){this.current=e,jT.set(e,this),this.projection&&!this.projection.instance&&this.projection.mount(e),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((n,r)=>this.bindToMotionValue(r,n)),eR.current||PG(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:Fg.current,this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}unmount(){jT.delete(this.current),this.projection&&this.projection.unmount(),Pr(this.notifyUpdate),Pr(this.render),this.valueSubscriptions.forEach(e=>e()),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this);for(const e in this.events)this.events[e].clear();for(const e in this.features)this.features[e].unmount();this.current=null}bindToMotionValue(e,n){const r=js.has(e),i=n.on("change",o=>{this.latestValues[e]=o,this.props.onUpdate&&ye.update(this.notifyUpdate,!1,!0),r&&this.projection&&(this.projection.isTransformDirty=!0)}),s=n.on("renderRequest",this.scheduleRender);this.valueSubscriptions.set(e,()=>{i(),s()})}sortNodePosition(e){return!this.current||!this.sortInstanceNodePosition||this.type!==e.type?0:this.sortInstanceNodePosition(this.current,e.current)}loadFeatures({children:e,...n},r,i,s){let o,a;for(let l=0;l<bG;l++){const u=tR[l],{isEnabled:c,Feature:h,ProjectionNode:d,MeasureLayout:p}=Bl[u];d&&(o=d),c(n)&&(!this.features[u]&&h&&(this.features[u]=new h(this)),p&&(a=p))}if(!this.projection&&o){this.projection=new o(this.latestValues,this.parent&&this.parent.projection);const{layoutId:l,layout:u,drag:c,dragConstraints:h,layoutScroll:d,layoutRoot:p}=n;this.projection.setOptions({layoutId:l,layout:u,alwaysMeasureLayout:!!c||h&&so(h),visualElement:this,scheduleRender:()=>this.scheduleRender(),animationType:typeof u=="string"?u:"both",initialPromotionConfig:s,layoutScroll:d,layoutRoot:p})}return a}updateFeatures(){for(const e in this.features){const n=this.features[e];n.isMounted?n.update():(n.mount(),n.isMounted=!0)}}triggerBuild(){this.build(this.renderState,this.latestValues,this.options,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):ze()}getStaticValue(e){return this.latestValues[e]}setStaticValue(e,n){this.latestValues[e]=n}makeTargetAnimatable(e,n=!0){return this.makeTargetAnimatableFromInstance(e,this.props,n)}update(e,n){(e.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=e,this.prevPresenceContext=this.presenceContext,this.presenceContext=n;for(let r=0;r<MT.length;r++){const i=MT[r];this.propEventSubscriptions[i]&&(this.propEventSubscriptions[i](),delete this.propEventSubscriptions[i]);const s=e["on"+i];s&&(this.propEventSubscriptions[i]=this.on(i,s))}this.prevMotionValues=CG(this,this.scrapeMotionValuesFromProps(e,this.prevProps),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(e){return this.props.variants?this.props.variants[e]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}getVariantContext(e=!1){if(e)return this.parent?this.parent.getVariantContext():void 0;if(!this.isControllingVariants){const r=this.parent?this.parent.getVariantContext()||{}:{};return this.props.initial!==void 0&&(r.initial=this.props.initial),r}const n={};for(let r=0;r<RG;r++){const i=A0[r],s=this.props[i];(Ul(s)||s===!1)&&(n[i]=s)}return n}addVariantChild(e){const n=this.getClosestVariantNode();if(n)return n.variantChildren&&n.variantChildren.add(e),()=>n.variantChildren.delete(e)}addValue(e,n){n!==this.values.get(e)&&(this.removeValue(e),this.bindToMotionValue(e,n)),this.values.set(e,n),this.latestValues[e]=n.get()}removeValue(e){this.values.delete(e);const n=this.valueSubscriptions.get(e);n&&(n(),this.valueSubscriptions.delete(e)),delete this.latestValues[e],this.removeValueFromRenderState(e,this.renderState)}hasValue(e){return this.values.has(e)}getValue(e,n){if(this.props.values&&this.props.values[e])return this.props.values[e];let r=this.values.get(e);return r===void 0&&n!==void 0&&(r=$o(n,{owner:this}),this.addValue(e,r)),r}readValue(e){var n;return this.latestValues[e]!==void 0||!this.current?this.latestValues[e]:(n=this.getBaseTargetFromProps(this.props,e))!==null&&n!==void 0?n:this.readValueFromInstance(this.current,e,this.options)}setBaseTarget(e,n){this.baseTarget[e]=n}getBaseTarget(e){var n;const{initial:r}=this.props,i=typeof r=="string"||typeof r=="object"?(n=O0(this.props,r))===null||n===void 0?void 0:n[e]:void 0;if(r&&i!==void 0)return i;const s=this.getBaseTargetFromProps(this.props,e);return s!==void 0&&!Qt(s)?s:this.initialValues[e]!==void 0&&i===void 0?void 0:this.baseTarget[e]}on(e,n){return this.events[e]||(this.events[e]=new H0),this.events[e].add(n)}notify(e,...n){this.events[e]&&this.events[e].notify(...n)}}class nR extends kG{sortInstanceNodePosition(e,n){return e.compareDocumentPosition(n)&2?1:-1}getBaseTargetFromProps(e,n){return e.style?e.style[n]:void 0}removeValueFromRenderState(e,{vars:n,style:r}){delete n[e],delete r[e]}makeTargetAnimatableFromInstance({transition:e,transitionEnd:n,...r},{transformValues:i},s){let o=QW(r,e||{},this);if(i&&(n&&(n=i(n)),r&&(r=i(r)),o&&(o=i(o))),s){qW(this,r,o);const a=AG(this,r,o,n);n=a.transitionEnd,r=a.target}return{transition:e,transitionEnd:n,...r}}}function NG(t){return window.getComputedStyle(t)}class DG extends nR{readValueFromInstance(e,n){if(js.has(n)){const r=$0(n);return r&&r.default||0}else{const r=NG(e),i=(z2(n)?r.getPropertyValue(n):r[n])||0;return typeof i=="string"?i.trim():i}}measureInstanceViewportBox(e,{transformPagePoint:n}){return zb(e,n)}build(e,n,r,i){b0(e,n,r,i.transformTemplate)}scrapeMotionValuesFromProps(e,n){return D0(e,n)}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:e}=this.props;Qt(e)&&(this.childSubscription=e.on("change",n=>{this.current&&(this.current.textContent=`${n}`)}))}renderInstance(e,n,r,i){Q2(e,n,r,i)}}class OG extends nR{constructor(){super(...arguments),this.isSVGTag=!1}getBaseTargetFromProps(e,n){return e[n]}readValueFromInstance(e,n){if(js.has(n)){const r=$0(n);return r&&r.default||0}return n=X2.has(n)?n:x0(n),e.getAttribute(n)}measureInstanceViewportBox(){return ze()}scrapeMotionValuesFromProps(e,n){return J2(e,n)}build(e,n,r,i){k0(e,n,r,this.isSVGTag,i.transformTemplate)}renderInstance(e,n,r,i){Y2(e,n,r,i)}mount(e){this.isSVGTag=N0(e.tagName),super.mount(e)}}const VG=(t,e)=>C0(t)?new OG(e,{enableHardwareAcceleration:!1}):new DG(e,{enableHardwareAcceleration:!0}),jG={layout:{ProjectionNode:Jb,MeasureLayout:Hb}},MG={...uH,...k7,...pG,...jG},tn=$z((t,e)=>v7(t,e,MG,VG));function rR(){const t=E.useRef(!1);return mf(()=>(t.current=!0,()=>{t.current=!1}),[]),t}function LG(){const t=rR(),[e,n]=E.useState(0),r=E.useCallback(()=>{t.current&&n(e+1)},[e]);return[E.useCallback(()=>ye.postRender(r),[r]),e]}class FG extends E.Component{getSnapshotBeforeUpdate(e){const n=this.props.childRef.current;if(n&&e.isPresent&&!this.props.isPresent){const r=this.props.sizeRef.current;r.height=n.offsetHeight||0,r.width=n.offsetWidth||0,r.top=n.offsetTop,r.left=n.offsetLeft}return null}componentDidUpdate(){}render(){return this.props.children}}function $G({children:t,isPresent:e}){const n=E.useId(),r=E.useRef(null),i=E.useRef({width:0,height:0,top:0,left:0});return E.useInsertionEffect(()=>{const{width:s,height:o,top:a,left:l}=i.current;if(e||!r.current||!s||!o)return;r.current.dataset.motionPopId=n;const u=document.createElement("style");return document.head.appendChild(u),u.sheet&&u.sheet.insertRule(`
          [data-motion-pop-id="${n}"] {
            position: absolute !important;
            width: ${s}px !important;
            height: ${o}px !important;
            top: ${a}px !important;
            left: ${l}px !important;
          }
        `),()=>{document.head.removeChild(u)}},[e]),E.createElement(FG,{isPresent:e,childRef:r,sizeRef:i},E.cloneElement(t,{ref:r}))}const Mp=({children:t,initial:e,isPresent:n,onExitComplete:r,custom:i,presenceAffectsLayout:s,mode:o})=>{const a=V0(UG),l=E.useId(),u=E.useMemo(()=>({id:l,initial:e,isPresent:n,custom:i,onExitComplete:c=>{a.set(c,!0);for(const h of a.values())if(!h)return;r&&r()},register:c=>(a.set(c,!1),()=>a.delete(c))}),s?void 0:[n]);return E.useMemo(()=>{a.forEach((c,h)=>a.set(h,!1))},[n]),E.useEffect(()=>{!n&&!a.size&&r&&r()},[n]),o==="popLayout"&&(t=E.createElement($G,{isPresent:n},t)),E.createElement(ff.Provider,{value:u},t)};function UG(){return new Map}function BG(t){return E.useEffect(()=>()=>t(),[])}const qi=t=>t.key||"";function zG(t,e){t.forEach(n=>{const r=qi(n);e.set(r,n)})}function WG(t){const e=[];return E.Children.forEach(t,n=>{E.isValidElement(n)&&e.push(n)}),e}const Au=({children:t,custom:e,initial:n=!0,onExitComplete:r,exitBeforeEnter:i,presenceAffectsLayout:s=!0,mode:o="sync"})=>{const a=E.useContext(P0).forceRender||LG()[0],l=rR(),u=WG(t);let c=u;const h=E.useRef(new Map).current,d=E.useRef(c),p=E.useRef(new Map).current,g=E.useRef(!0);if(mf(()=>{g.current=!1,zG(u,p),d.current=c}),BG(()=>{g.current=!0,p.clear(),h.clear()}),g.current)return E.createElement(E.Fragment,null,c.map(m=>E.createElement(Mp,{key:qi(m),isPresent:!0,initial:n?void 0:!1,presenceAffectsLayout:s,mode:o},m)));c=[...c];const _=d.current.map(qi),w=u.map(qi),v=_.length;for(let m=0;m<v;m++){const y=_[m];w.indexOf(y)===-1&&!h.has(y)&&h.set(y,void 0)}return o==="wait"&&h.size&&(c=[]),h.forEach((m,y)=>{if(w.indexOf(y)!==-1)return;const T=p.get(y);if(!T)return;const S=_.indexOf(y);let x=m;if(!x){const I=()=>{h.delete(y);const A=Array.from(p.keys()).filter(C=>!w.includes(C));if(A.forEach(C=>p.delete(C)),d.current=u.filter(C=>{const k=qi(C);return k===y||A.includes(k)}),!h.size){if(l.current===!1)return;a(),r&&r()}};x=E.createElement(Mp,{key:qi(T),isPresent:!1,onExitComplete:I,custom:e,presenceAffectsLayout:s,mode:o},T),h.set(y,x)}c.splice(S,0,x)}),c=c.map(m=>{const y=m.key;return h.has(y)?m:E.createElement(Mp,{key:qi(m),isPresent:!0,presenceAffectsLayout:s,mode:o},m)}),E.createElement(E.Fragment,null,h.size?c:c.map(m=>E.cloneElement(m)))};function HG(t){t.values.forEach(e=>e.stop())}function GG(){const t=new Set,e={subscribe(n){return t.add(n),()=>void t.delete(n)},start(n,r){const i=[];return t.forEach(s=>{i.push(Mb(s,n,{transitionOverride:r}))}),Promise.all(i)},set(n){return t.forEach(r=>{GW(r,n)})},stop(){t.forEach(n=>{HG(n)})},mount(){return()=>{e.stop()}}};return e}function qG(){const t=V0(GG);return mf(t.mount,[]),t}const cc=qG;function iR(t){const[e,n]=E.useState(!0);function r(){n(!1)}return e?f.jsx(Au,{children:f.jsx(tn.div,{className:"modal-container",initial:{opacity:0,x:"-5%"},animate:{opacity:1,x:0},exit:{opacity:0,x:"5%"},transition:{duration:.5,delay:.1,ease:[0,.71,.2,1.01]},children:f.jsxs("div",{className:"modal",children:[f.jsx("div",{className:"close-button",children:f.jsx("i",{onClick:r,className:"bx bx-x bx-md"})}),f.jsxs("div",{className:"title",children:[t.success?f.jsx("i",{className:"bx bxs-check-circle bx-lg"}):f.jsx("i",{className:"bx bxs-error-circle bx-lg"}),f.jsx("h2",{children:t.title})]}),f.jsx("div",{className:"content",children:f.jsx("p",{children:t.content})})]})})}):null}function KG(){let t="";const e=Xl(),[n,r]=E.useState(!1),[i,s]=E.useState(null),[o,a]=E.useState({userId:t,animalType:"cat",gender:"male",ageFormat:"days",age:"",petDescription:"",img1:"",img2:"",img3:""}),[l,u]=E.useState({img1:"",img2:"",img3:""}),c=Fo({animalType:Ce().required("Please select one."),gender:Ce().required("Please select a gender"),ageFormat:Ce().required("Please select one."),age:b2().min(1,"Please enter a valid age").max(30,"Please enter a valid age").required("Age is required"),img1:Ce(),img2:Ce(),img3:Ce(),petDescription:Ce().min(20,"Description must be at least 20 characters").max(200,"Description must be at most 200 characters").required("Description is required")});async function h(_){try{if(i)return i;console.log(_);const w=await cg(Nl(jo,"posts"),{userId:t,animalType:_.animalType,gender:_.gender,ageFormat:_.ageFormat,age:_.age,petDescription:_.petDescription,img1:"",img2:"",img3:""});return console.log("Post added to Firestore with ID:",w.id),s(w.id),console.log("postId in addPost: ",i),w.id}catch(w){throw console.error("Error adding post to Firestore:",w),w}}async function d(_,w,v){const m=_.target.files[0];if(m)try{const y=await p(m),T=URL.createObjectURL(y);u(S=>({...S,[w]:T})),a(S=>({...S,[w]:y}))}catch(y){console.error("Error compressing or uploading image:",y)}}async function p(_){return new Promise(w=>{if(!(_ instanceof File||_ instanceof Blob)){console.error("Invalid file type for compression:",_),w(_);return}new Rz(_,{quality:.8,resize:"cover",width:512,height:512,success(v){w(v)},error(v){console.error("Error compressing image:",v),w(_)}})})}async function g(_){try{rt.currentUser?t=rt.currentUser.uid:t="";const w=await h(_);s(w);const v={};for(let m=1;m<=3;m++){const y=`img${m}`,T=o[y];if(T){const S=e3(a3,`posts/${w}/${y}`);await JU(S,T);const x=await ZU(S);console.log("Download URL: ",x),v[y]=x,a(I=>({...I,[y]:x})),console.log("petData url: ",o.img1)}}await TF(PP(jo,"posts",w),{img1:v.img1,img2:v.img2,img3:v.img3}),console.log("img1 :",o.img1),console.log("Form submitted successfully!"),r(!0),setTimeout(()=>e("/"),3e3)}catch(w){console.error("Error submitting form:",w)}}return f.jsx("main",{className:"add-page",children:f.jsx(Au,{mode:"wait",children:n?f.jsx(iR,{title:"Good Job!!",content:"Your pet pal has been added successfully!",success:!0}):f.jsx($l,{initialValues:o,validationSchema:c,onSubmit:g,children:_=>f.jsxs(tn.div,{layout:!0,className:"add-form-container",initial:{opacity:0,x:"-5%"},animate:{opacity:1,x:0},exit:{opacity:0,x:"5%"},transition:{duration:.5,delay:.1,ease:[0,.71,.2,1.01]},children:[f.jsx("h2",{className:"add-form-title",children:"Add a pet"}),f.jsxs(Lo,{className:"add-form",children:[f.jsxs("div",{className:"add-animal-toggle",children:[f.jsxs("div",{className:"add-animal-type",children:[f.jsx("label",{htmlFor:"animalType",children:"What kind of pet do you have? "}),f.jsxs("div",{className:"add-radio-inputs",children:[f.jsxs("label",{className:"add-radio",children:[f.jsx(Te,{type:"radio",name:"animalType",value:"cat"}),f.jsx("span",{className:"add-name",children:"Cat"})]}),f.jsxs("label",{className:"add-radio",children:[f.jsx(Te,{type:"radio",name:"animalType",value:"dog"}),f.jsx("span",{className:"add-name",children:"Dog"})]})]})]}),f.jsx("div",{className:"add-warning",children:f.jsx(We,{name:"animalType"})})]}),f.jsxs("div",{className:"add-gender-toggle",children:[f.jsxs("div",{className:"add-gender",children:[f.jsx("label",{htmlFor:"gender",children:"Is your pet a? "}),f.jsxs("div",{className:"add-radio-inputs",children:[f.jsxs("label",{className:"add-radio",children:[f.jsx(Te,{type:"radio",name:"gender",value:"male"}),f.jsx("span",{className:"add-name",children:"Handsome boy"})]}),f.jsxs("label",{className:"add-radio",children:[f.jsx(Te,{type:"radio",name:"gender",value:"female"}),f.jsx("span",{className:"add-name",children:"Pretty girl"})]})]})]}),f.jsx("div",{className:"add-warning",children:f.jsx(We,{name:"gender"})})]}),f.jsxs("div",{className:"add-age-selector",children:[f.jsxs("div",{className:"add-select-age",children:[f.jsx("label",{htmlFor:"age",children:"How old is your pet? "}),f.jsxs("div",{className:"add-age-format-selector",children:[f.jsx(Te,{type:"number",name:"age",className:"add-age-input"}),f.jsxs("div",{className:"add-radio-inputs",children:[f.jsxs("label",{className:"add-radio",children:[f.jsx(Te,{type:"radio",name:"ageFormat",value:"days"}),f.jsx("span",{className:"add-name",children:"Days"})]}),f.jsxs("label",{className:"add-radio",children:[f.jsx(Te,{type:"radio",name:"ageFormat",value:"months"}),f.jsx("span",{className:"add-name",children:"Months"})]}),f.jsxs("label",{className:"add-radio",children:[f.jsx(Te,{type:"radio",name:"ageFormat",value:"years"}),f.jsx("span",{className:"add-name",children:"Years"})]})]})]})]}),f.jsx("div",{className:"add-warning",children:f.jsx(We,{name:"age"})})]}),f.jsxs("div",{className:"add-image-selector",children:[f.jsxs("div",{className:"add-select-images",children:[f.jsx("p",{className:"add-image-selector-label",children:"Select up to 3 images"}),f.jsxs("div",{className:"add-image-containers",children:[f.jsx("label",{htmlFor:"img1",style:{backgroundImage:l.img1?`url(${l.img1})`:"none",backgroundColor:l.img1?"transparent":"white",borderRadius:"12px",backgroundSize:"cover",boxShadow:l.img1?"inset 0 0 0 100vmax rgba(0, 0, 0, 0.5)":"none"},children:f.jsx("div",{className:"add-image-container",children:f.jsx("i",{className:"bx bx-image-add bx-md upload-icon",style:{color:l.img1?"white":"black"}})})}),f.jsx("label",{htmlFor:"img2",style:{backgroundImage:l.img2?`url(${l.img2})`:"none",backgroundColor:l.img2?"transparent":"white",borderRadius:"12px",backgroundSize:"cover",boxShadow:l.img2?"inset 0 0 0 100vmax rgba(0, 0, 0, 0.5)":"none"},children:f.jsx("div",{className:"add-image-container",children:f.jsx("i",{className:"bx bx-image-add bx-md upload-icon",style:{color:l.img2?"white":"black"}})})}),f.jsx("label",{htmlFor:"img3",style:{backgroundImage:l.img3?`url(${l.img3})`:"none",backgroundColor:l.img3?"transparent":"white",borderRadius:"12px",backgroundSize:"cover",boxShadow:l.img3?"inset 0 0 0 100vmax rgba(0, 0, 0, 0.5)":"none"},children:f.jsx("div",{className:"add-image-container",children:f.jsx("i",{className:"bx bx-image-add bx-md upload-icon",style:{color:l.img3?"white":"black"}})})})]}),f.jsx("input",{type:"file",name:"img1",id:"img1",accept:"image/*",className:"add-image-upload",onChange:w=>d(w,"img1")}),f.jsx("input",{type:"file",name:"img2",id:"img2",accept:"image/*",className:"add-image-upload",onChange:w=>d(w,"img2")}),f.jsx("input",{type:"file",name:"img3",id:"img3",accept:"image/*",className:"add-image-upload",onChange:w=>d(w,"img3")})]}),f.jsx("div",{className:"add-warning",children:f.jsx(We,{name:"img1"})})]}),f.jsxs("div",{className:"add-description-section",children:[f.jsxs("div",{className:"add-write-description",children:[f.jsx("label",{htmlFor:"pet-description",className:"add-description",children:"A brief description about your pet:"}),f.jsx(Te,{as:"textarea",rows:5,name:"petDescription",className:"add-pet-description"})]}),f.jsx("div",{className:"add-warning",style:{marginTop:"0.5rem"},children:f.jsx(We,{name:"petDescription"})})]}),f.jsx("button",{className:"add-page-submit",type:"submit",children:"Submit"})]})]})})})})}var QG={exports:{}};(function(t,e){(function(n,r,i,s,o){if("customElements"in i)o();else{if(i.AWAITING_WEB_COMPONENTS_POLYFILL)return void i.AWAITING_WEB_COMPONENTS_POLYFILL.then(o);var a=i.AWAITING_WEB_COMPONENTS_POLYFILL=c();a.then(o);var l=i.WEB_COMPONENTS_POLYFILL||"//cdnjs.cloudflare.com/ajax/libs/webcomponentsjs/2.0.2/webcomponents-bundle.js",u=i.ES6_CORE_POLYFILL||"//cdnjs.cloudflare.com/ajax/libs/core-js/2.5.3/core.min.js";"Promise"in i?h(l).then(function(){a.isDone=!0,a.exec()}):h(u).then(function(){h(l).then(function(){a.isDone=!0,a.exec()})})}function c(){var d=[];return d.isDone=!1,d.exec=function(){d.splice(0).forEach(function(p){p()})},d.then=function(p){return d.isDone?p():d.push(p),d},d}function h(d){var p=c(),g=s.createElement("script");return g.type="text/javascript",g.readyState?g.onreadystatechange=function(){g.readyState!="loaded"&&g.readyState!="complete"||(g.onreadystatechange=null,p.isDone=!0,p.exec())}:g.onload=function(){p.isDone=!0,p.exec()},g.src=d,s.getElementsByTagName("head")[0].appendChild(g),g.then=p.then,g}})(0,0,window,document,function(){var n;n=function(){return function(r){var i={};function s(o){if(i[o])return i[o].exports;var a=i[o]={i:o,l:!1,exports:{}};return r[o].call(a.exports,a,a.exports,s),a.l=!0,a.exports}return s.m=r,s.c=i,s.d=function(o,a,l){s.o(o,a)||Object.defineProperty(o,a,{enumerable:!0,get:l})},s.r=function(o){typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(o,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(o,"__esModule",{value:!0})},s.t=function(o,a){if(1&a&&(o=s(o)),8&a||4&a&&typeof o=="object"&&o&&o.__esModule)return o;var l=Object.create(null);if(s.r(l),Object.defineProperty(l,"default",{enumerable:!0,value:o}),2&a&&typeof o!="string")for(var u in o)s.d(l,u,(function(c){return o[c]}).bind(null,u));return l},s.n=function(o){var a=o&&o.__esModule?function(){return o.default}:function(){return o};return s.d(a,"a",a),a},s.o=function(o,a){return Object.prototype.hasOwnProperty.call(o,a)},s.p="",s(s.s=5)}([function(r,i){r.exports=function(s){var o=[];return o.toString=function(){return this.map(function(a){var l=function(u,c){var h,d=u[1]||"",p=u[3];if(!p)return d;if(c&&typeof btoa=="function"){var g=(h=p,"/*# sourceMappingURL=data:application/json;charset=utf-8;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(h))))+" */"),_=p.sources.map(function(w){return"/*# sourceURL="+p.sourceRoot+w+" */"});return[d].concat(_).concat([g]).join(`
`)}return[d].join(`
`)}(a,s);return a[2]?"@media "+a[2]+"{"+l+"}":l}).join("")},o.i=function(a,l){typeof a=="string"&&(a=[[null,a,""]]);for(var u={},c=0;c<this.length;c++){var h=this[c][0];typeof h=="number"&&(u[h]=!0)}for(c=0;c<a.length;c++){var d=a[c];typeof d[0]=="number"&&u[d[0]]||(l&&!d[2]?d[2]=l:l&&(d[2]="("+d[2]+") and ("+l+")"),o.push(d))}},o}},function(r,i,s){var o=s(3);r.exports=typeof o=="string"?o:o.toString()},function(r,i,s){var o=s(4);r.exports=typeof o=="string"?o:o.toString()},function(r,i,s){(r.exports=s(0)(!1)).push([r.i,"@-webkit-keyframes spin{0%{-webkit-transform:rotate(0);transform:rotate(0)}to{-webkit-transform:rotate(359deg);transform:rotate(359deg)}}@keyframes spin{0%{-webkit-transform:rotate(0);transform:rotate(0)}to{-webkit-transform:rotate(359deg);transform:rotate(359deg)}}@-webkit-keyframes burst{0%{-webkit-transform:scale(1);transform:scale(1);opacity:1}90%{-webkit-transform:scale(1.5);transform:scale(1.5);opacity:0}}@keyframes burst{0%{-webkit-transform:scale(1);transform:scale(1);opacity:1}90%{-webkit-transform:scale(1.5);transform:scale(1.5);opacity:0}}@-webkit-keyframes flashing{0%{opacity:1}45%{opacity:0}90%{opacity:1}}@keyframes flashing{0%{opacity:1}45%{opacity:0}90%{opacity:1}}@-webkit-keyframes fade-left{0%{-webkit-transform:translateX(0);transform:translateX(0);opacity:1}75%{-webkit-transform:translateX(-20px);transform:translateX(-20px);opacity:0}}@keyframes fade-left{0%{-webkit-transform:translateX(0);transform:translateX(0);opacity:1}75%{-webkit-transform:translateX(-20px);transform:translateX(-20px);opacity:0}}@-webkit-keyframes fade-right{0%{-webkit-transform:translateX(0);transform:translateX(0);opacity:1}75%{-webkit-transform:translateX(20px);transform:translateX(20px);opacity:0}}@keyframes fade-right{0%{-webkit-transform:translateX(0);transform:translateX(0);opacity:1}75%{-webkit-transform:translateX(20px);transform:translateX(20px);opacity:0}}@-webkit-keyframes fade-up{0%{-webkit-transform:translateY(0);transform:translateY(0);opacity:1}75%{-webkit-transform:translateY(-20px);transform:translateY(-20px);opacity:0}}@keyframes fade-up{0%{-webkit-transform:translateY(0);transform:translateY(0);opacity:1}75%{-webkit-transform:translateY(-20px);transform:translateY(-20px);opacity:0}}@-webkit-keyframes fade-down{0%{-webkit-transform:translateY(0);transform:translateY(0);opacity:1}75%{-webkit-transform:translateY(20px);transform:translateY(20px);opacity:0}}@keyframes fade-down{0%{-webkit-transform:translateY(0);transform:translateY(0);opacity:1}75%{-webkit-transform:translateY(20px);transform:translateY(20px);opacity:0}}@-webkit-keyframes tada{0%{-webkit-transform:scaleX(1);transform:scaleX(1)}10%,20%{-webkit-transform:scale3d(.95,.95,.95) rotate(-10deg);transform:scale3d(.95,.95,.95) rotate(-10deg)}30%,50%,70%,90%{-webkit-transform:scaleX(1) rotate(10deg);transform:scaleX(1) rotate(10deg)}40%,60%,80%{-webkit-transform:scaleX(1) rotate(-10deg);transform:scaleX(1) rotate(-10deg)}to{-webkit-transform:scaleX(1);transform:scaleX(1)}}@keyframes tada{0%{-webkit-transform:scaleX(1);transform:scaleX(1)}10%,20%{-webkit-transform:scale3d(.95,.95,.95) rotate(-10deg);transform:scale3d(.95,.95,.95) rotate(-10deg)}30%,50%,70%,90%{-webkit-transform:scaleX(1) rotate(10deg);transform:scaleX(1) rotate(10deg)}40%,60%,80%{-webkit-transform:rotate(-10deg);transform:rotate(-10deg)}to{-webkit-transform:scaleX(1);transform:scaleX(1)}}.bx-spin,.bx-spin-hover:hover{-webkit-animation:spin 2s linear infinite;animation:spin 2s linear infinite}.bx-tada,.bx-tada-hover:hover{-webkit-animation:tada 1.5s ease infinite;animation:tada 1.5s ease infinite}.bx-flashing,.bx-flashing-hover:hover{-webkit-animation:flashing 1.5s infinite linear;animation:flashing 1.5s infinite linear}.bx-burst,.bx-burst-hover:hover{-webkit-animation:burst 1.5s infinite linear;animation:burst 1.5s infinite linear}.bx-fade-up,.bx-fade-up-hover:hover{-webkit-animation:fade-up 1.5s infinite linear;animation:fade-up 1.5s infinite linear}.bx-fade-down,.bx-fade-down-hover:hover{-webkit-animation:fade-down 1.5s infinite linear;animation:fade-down 1.5s infinite linear}.bx-fade-left,.bx-fade-left-hover:hover{-webkit-animation:fade-left 1.5s infinite linear;animation:fade-left 1.5s infinite linear}.bx-fade-right,.bx-fade-right-hover:hover{-webkit-animation:fade-right 1.5s infinite linear;animation:fade-right 1.5s infinite linear}",""])},function(r,i,s){(r.exports=s(0)(!1)).push([r.i,'.bx-rotate-90{transform:rotate(90deg);-ms-filter:"progid:DXImageTransform.Microsoft.BasicImage(rotation=1)"}.bx-rotate-180{transform:rotate(180deg);-ms-filter:"progid:DXImageTransform.Microsoft.BasicImage(rotation=2)"}.bx-rotate-270{transform:rotate(270deg);-ms-filter:"progid:DXImageTransform.Microsoft.BasicImage(rotation=3)"}.bx-flip-horizontal{transform:scaleX(-1);-ms-filter:"progid:DXImageTransform.Microsoft.BasicImage(rotation=0, mirror=1)"}.bx-flip-vertical{transform:scaleY(-1);-ms-filter:"progid:DXImageTransform.Microsoft.BasicImage(rotation=2, mirror=1)"}',""])},function(r,i,s){s.r(i),s.d(i,"BoxIconElement",function(){return S});var o,a,l,u,c=s(1),h=s.n(c),d=s(2),p=s.n(d),g=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(x){return typeof x}:function(x){return x&&typeof Symbol=="function"&&x.constructor===Symbol&&x!==Symbol.prototype?"symbol":typeof x},_=function(){function x(I,A){for(var C=0;C<A.length;C++){var k=A[C];k.enumerable=k.enumerable||!1,k.configurable=!0,"value"in k&&(k.writable=!0),Object.defineProperty(I,k.key,k)}}return function(I,A,C){return A&&x(I.prototype,A),C&&x(I,C),I}}(),w=(a=(o=Object).getPrototypeOf||function(x){return x.__proto__},l=o.setPrototypeOf||function(x,I){return x.__proto__=I,x},u=(typeof Reflect>"u"?"undefined":g(Reflect))==="object"?Reflect.construct:function(x,I,A){var C,k=[null];return k.push.apply(k,I),C=x.bind.apply(x,k),l(new C,A.prototype)},function(x){var I=a(x);return l(x,l(function(){return u(I,arguments,a(this).constructor)},I))}),v=window,m={},y=document.createElement("template"),T=function(){return!!v.ShadyCSS};y.innerHTML=`
<style>
:host {
  display: inline-block;
  font-size: initial;
  box-sizing: border-box;
  width: 24px;
  height: 24px;
}
:host([size=xs]) {
    width: 0.8rem;
    height: 0.8rem;
}
:host([size=sm]) {
    width: 1.55rem;
    height: 1.55rem;
}
:host([size=md]) {
    width: 2.25rem;
    height: 2.25rem;
}
:host([size=lg]) {
    width: 3.0rem;
    height: 3.0rem;
}

:host([size]:not([size=""]):not([size=xs]):not([size=sm]):not([size=md]):not([size=lg])) {
    width: auto;
    height: auto;
}
:host([pull=left]) #icon {
    float: left;
    margin-right: .3em!important;
}
:host([pull=right]) #icon {
    float: right;
    margin-left: .3em!important;
}
:host([border=square]) #icon {
    padding: .25em;
    border: .07em solid rgba(0,0,0,.1);
    border-radius: .25em;
}
:host([border=circle]) #icon {
    padding: .25em;
    border: .07em solid rgba(0,0,0,.1);
    border-radius: 50%;
}
#icon,
svg {
  width: 100%;
  height: 100%;
}
#icon {
    box-sizing: border-box;
} 
`+h.a+`
`+p.a+`
</style>
<div id="icon"></div>`;var S=w(function(x){function I(){(function(C,k){if(!(C instanceof k))throw new TypeError("Cannot call a class as a function")})(this,I);var A=function(C,k){if(!C)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!k||typeof k!="object"&&typeof k!="function"?C:k}(this,(I.__proto__||Object.getPrototypeOf(I)).call(this));return A.$ui=A.attachShadow({mode:"open"}),A.$ui.appendChild(A.ownerDocument.importNode(y.content,!0)),T()&&v.ShadyCSS.styleElement(A),A._state={$iconHolder:A.$ui.getElementById("icon"),type:A.getAttribute("type")},A}return function(A,C){if(typeof C!="function"&&C!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof C);A.prototype=Object.create(C&&C.prototype,{constructor:{value:A,enumerable:!1,writable:!0,configurable:!0}}),C&&(Object.setPrototypeOf?Object.setPrototypeOf(A,C):A.__proto__=C)}(I,HTMLElement),_(I,null,[{key:"getIconSvg",value:function(A,C){var k=this.cdnUrl+"/regular/bx-"+A+".svg";return C==="solid"?k=this.cdnUrl+"/solid/bxs-"+A+".svg":C==="logo"&&(k=this.cdnUrl+"/logos/bxl-"+A+".svg"),k&&m[k]||(m[k]=new Promise(function($,se){var Y=new XMLHttpRequest;Y.addEventListener("load",function(){this.status<200||this.status>=300?se(new Error(this.status+" "+this.responseText)):$(this.responseText)}),Y.onerror=se,Y.onabort=se,Y.open("GET",k),Y.send()})),m[k]}},{key:"define",value:function(A){A=A||this.tagName,T()&&v.ShadyCSS.prepareTemplate(y,A),customElements.define(A,this)}},{key:"cdnUrl",get:function(){return"//unpkg.com/boxicons@2.1.4/svg"}},{key:"tagName",get:function(){return"box-icon"}},{key:"observedAttributes",get:function(){return["type","name","color","size","rotate","flip","animation","border","pull"]}}]),_(I,[{key:"attributeChangedCallback",value:function(A,C,k){var $=this._state.$iconHolder;switch(A){case"type":(function(se,Y,K){var F=se._state;F.$iconHolder.textContent="",F.type&&(F.type=null),F.type=!K||K!=="solid"&&K!=="logo"?"regular":K,F.currentName!==void 0&&se.constructor.getIconSvg(F.currentName,F.type).then(function(_e){F.type===K&&(F.$iconHolder.innerHTML=_e)}).catch(function(_e){console.error("Failed to load icon: "+F.currentName+`
`+_e)})})(this,0,k);break;case"name":(function(se,Y,K){var F=se._state;F.currentName=K,F.$iconHolder.textContent="",K&&F.type!==void 0&&se.constructor.getIconSvg(K,F.type).then(function(_e){F.currentName===K&&(F.$iconHolder.innerHTML=_e)}).catch(function(_e){console.error("Failed to load icon: "+K+`
`+_e)})})(this,0,k);break;case"color":$.style.fill=k||"";break;case"size":(function(se,Y,K){var F=se._state;F.size&&(F.$iconHolder.style.width=F.$iconHolder.style.height="",F.size=F.sizeType=null),K&&!/^(xs|sm|md|lg)$/.test(F.size)&&(F.size=K.trim(),F.$iconHolder.style.width=F.$iconHolder.style.height=F.size)})(this,0,k);break;case"rotate":C&&$.classList.remove("bx-rotate-"+C),k&&$.classList.add("bx-rotate-"+k);break;case"flip":C&&$.classList.remove("bx-flip-"+C),k&&$.classList.add("bx-flip-"+k);break;case"animation":C&&$.classList.remove("bx-"+C),k&&$.classList.add("bx-"+k)}}},{key:"connectedCallback",value:function(){T()&&v.ShadyCSS.styleElement(this)}}]),I}());i.default=S,S.define()}])},t.exports=n()})})(QG);const XG="/PetPals/assets/Dog paw-rafiki-1vQJPNsZ.svg",YG="/PetPals/assets/Cat and dog-amico-bMIo1Bhe.svg",JG="/PetPals/assets/Veterinary-amico-z2O5Hlac.svg",ZG="/PetPals/assets/A day at the park-amico-CGSB3wBX.svg",eq="/PetPals/assets/dog-welfare-code-of-practice-zCiv5sZk.pdf",tq="/PetPals/assets/cat-welfare-code-of-practice-IYMxZVEx.pdf",nq="/PetPals/assets/cat family-pana-GFjd_a3t.svg",rq="/PetPals/assets/Pregnancy test-amico-nh68k3hN.svg",iq="/PetPals/assets/Fish bowl-amico-Hcfg3csM.svg",sq="/PetPals/assets/Playful cat-amico-U0gJS6Ys.svg",oq="/PetPals/assets/cat family-rafiki-r32HRO0j.svg",aq="/PetPals/assets/personal goals checklist-rafiki-KmaYr2xq.svg";function lq(){const[t,e]=E.useState(""),[n,r]=E.useState(""),[i,s]=E.useState("No"),[o,a]=E.useState("");E.useState("");const[l,u]=E.useState("dog"),c=()=>f.jsxs("p",{children:["Here, you'll find out how to ",f.jsx("br",{}),"prepare for your new dog. Find",f.jsx("br",{})," out how to provide the right diet,",f.jsx("br",{})," exercise, companionship, and",f.jsx("br",{})," veterinary care for your dog."]}),h=()=>f.jsxs("p",{children:["Here, you'll find out how to ",f.jsx("br",{}),"prepare for your new cat. Find",f.jsx("br",{})," out how to provide the right diet,",f.jsx("br",{})," exercise, companionship, and",f.jsx("br",{})," veterinary care for your cat."]}),d=()=>f.jsx("p",{children:"dededededed"}),p=()=>f.jsxs("div",{className:"content-card-2",children:[f.jsx("h2",{children:"How to prepare for your new dog:"}),f.jsx("h3",{children:"5 things you must do"}),f.jsxs("p",{children:["Adopting a dog is exciting, but it can often mean a big life change for you and",f.jsx("br",{})," them. To make things easier and give your new dog the best chance of settling in, it's really important to prepare for their arrival."]}),f.jsx("br",{}),f.jsxs("p",{children:["As well as having a moral duty to look after your new dog properly, you have a legal responsibility. Under the",f.jsx("br",{})," Animal Welfare Act, you must give your dog:"]}),f.jsxs("ul",{style:{textAlign:"left"},children:[f.jsx("li",{children:"A suitable place to live"}),f.jsx("li",{children:"A healthy diet and access to clean water"}),f.jsx("li",{children:"The ability to behave normally"}),f.jsx("li",{children:"Appropriate company"}),f.jsx("li",{children:"Protection from pain, injury, suffering, and disease"})]}),f.jsx("br",{}),f.jsxs("p",{children:["So, to help you get ready for the big day and understand your legal responsibilities as a dog owner, we have",f.jsx("br",{})," created this to do list."]}),f.jsxs("div",{className:"dog-shelter-div",children:[f.jsxs("div",{className:"dog-shelter-text",children:[f.jsx("h2",{children:"1. Invest in a good bed"}),f.jsx("br",{}),f.jsx("p",{style:{textAlign:"left"},children:"Your dog needs a comfortable, clean place to sleep and relax. Some dogs like to curl up and others like to stretch out. Ask the person you are adopting from how the dog sleeps, or buy a bed that accommodates both sleeping styles."}),f.jsx("br",{}),f.jsx("p",{style:{textAlign:"left"},children:"Choose a bed that is comfortable, the right size, easy to clean and made from dog-friendly materials. It should be big enough for them to do their turning ritual."}),f.jsx("br",{}),f.jsx("p",{style:{textAlign:"left"},children:"Put the bed in a clean, dry and draught-free spot. Over time, you will learn whether your dog likes to be at the centre of everything or if they prefer somewhere quieter."}),f.jsx("br",{}),f.jsxs("p",{style:{textAlign:"left"},children:["If your dog is used to being crated, these same rules apply. ",f.jsx("b",{children:"Do not"})," crate your dog if they are not used it. Speak to your vet or behavioural specialist first."]})]}),f.jsx("div",{className:"dog-shelter-img",children:f.jsx("div",{className:"content-image",children:f.jsx("img",{src:XG,style:{width:"100%"},alt:"Adoption Image"})})})]}),f.jsxs("div",{className:"dog-shelter-div",children:[f.jsx("div",{className:"dog-shelter-img",children:f.jsx("div",{className:"content-image",children:f.jsx("img",{src:YG,style:{width:"100%"},alt:"Adoption Image"})})}),f.jsxs("div",{className:"dog-shelter-text",children:[f.jsx("h2",{children:"2. Stock up on the right food"}),f.jsx("br",{}),f.jsx("p",{style:{textAlign:"left"},children:"Dogs must have healthy, balanced diets and access to fresh water at all times."}),f.jsx("br",{}),f.jsx("p",{style:{textAlign:"left"},children:"The person you are adopting from will tell you what they are feeding the dog. But still, ask your vet or a nutritionist for advice as their current diet might not be appropriate."}),f.jsx("br",{}),f.jsx("p",{style:{textAlign:"left"},children:"Even if you do end up switching your dog food, you will have to do this gradually. So stock up on whatever food they are used to until you have spoken to your vet."}),f.jsx("br",{})]})]}),f.jsxs("div",{className:"dog-shelter-div",children:[f.jsxs("div",{className:"dog-shelter-text",children:[f.jsx("h2",{children:"3. Buy toys and games"}),f.jsx("br",{}),f.jsx("p",{style:{textAlign:"left"},children:"Dogs must be allowed to behave like dogs and do things that come naturally to them, like walking, playing and chasing within reason!"}),f.jsx("br",{}),f.jsx("p",{style:{textAlign:"left"},children:"Getting some toys and games for when they arrive will help to keep them happy, active and mentally stimulated. It is also a great way for you to bond and get to know each other. They will still need their regular walks, though!"})]}),f.jsx("div",{className:"dog-shelter-img",children:f.jsx("div",{className:"content-image",children:f.jsx("img",{src:ZG,style:{width:"100%"},alt:"Adoption Image"})})})]}),f.jsxs("div",{className:"dog-shelter-div",children:[f.jsx("div",{className:"dog-shelter-img",children:f.jsx("div",{className:"content-image",children:f.jsx("img",{src:JG,style:{width:"100%"},alt:"Adoption Image"})})}),f.jsxs("div",{className:"dog-shelter-text",children:[f.jsx("h2",{children:"4. Register with a vet"}),f.jsx("br",{}),f.jsx("p",{style:{textAlign:"left"},children:"Registering with a vet is the first and most important step to protecting your dog from pain, injury, suffering and disease."}),f.jsx("br",{}),f.jsx("p",{style:{textAlign:"left"},children:"Further information providing details of how to care for your dog may be found here:"}),f.jsx("br",{}),f.jsx("p",{style:{textAlign:"left"},children:f.jsx("a",{href:eq,target:"_blank",children:f.jsx("h3",{children:"Dog Welfare Code of Practice"})})}),f.jsx("br",{})]})]})]}),g=()=>f.jsxs("div",{className:"content-card-2",children:[f.jsx("h2",{children:"How to prepare for your new cat:"}),f.jsx("h3",{children:"5 things you must do"}),f.jsxs("p",{children:["Adopting a cat is exciting, but it can often mean a big life change for you and",f.jsx("br",{})," them. To make things easier and give your new cat the best chance of settling in, it's really important to prepare for their arrival."]}),f.jsx("br",{}),f.jsxs("p",{children:["As well as having a moral duty to look after your new cat properly, you have a legal responsibility. Under the",f.jsx("br",{})," Animal Welfare Act, you must give your cat:"]}),f.jsxs("ul",{style:{textAlign:"left"},children:[f.jsx("li",{children:"A suitable place to live"}),f.jsx("li",{children:"A healthy diet and access to clean water"}),f.jsx("li",{children:"The ability to behave normally"}),f.jsx("li",{children:"Appropriate company"}),f.jsx("li",{children:"Protection from pain, injury, suffering, and disease"})]}),f.jsx("br",{}),f.jsxs("p",{children:["So, to help you get ready for the big day and understand your legal responsibilities as a cat owner, we have",f.jsx("br",{})," created this to do list."]}),f.jsxs("div",{className:"dog-shelter-div",children:[f.jsxs("div",{className:"dog-shelter-text",children:[f.jsx("h2",{children:"1. Create safe spaces"}),f.jsx("br",{}),f.jsx("p",{style:{textAlign:"left"},children:"To feel safe and secure, cats need their own bed, hiding places and somewhere high up to view their surroundings."}),f.jsx("br",{}),f.jsx("p",{style:{textAlign:"left"},children:"Buy a comfortable and warm cat bed like an igloo or hammock, and put it somewhere quiet. You might want to buy more than one bed and have them in different rooms."}),f.jsx("br",{}),f.jsx("p",{style:{textAlign:"left"},children:"You can make beds and hiding places, too. Get an appropriate-sized cardboard box, turn it on its side and put a snuggly blanket inside. Again, place this in a quiet spot."}),f.jsx("br",{}),f.jsx("p",{style:{textAlign:"left"},children:"Putting cosy blankets on top of wardrobes, shelves and windowsills is a great way of giving your cat somewhere high up to hide.."})]}),f.jsx("div",{className:"dog-shelter-img",children:f.jsx("div",{className:"content-image",children:f.jsx("img",{src:nq,style:{width:"100%"},alt:"Adoption Image"})})})]}),f.jsxs("div",{className:"dog-shelter-div",children:[f.jsx("div",{className:"dog-shelter-img",children:f.jsx("div",{className:"content-image",children:f.jsx("img",{src:rq,style:{width:"100%"},alt:"Adoption Image"})})}),f.jsxs("div",{className:"dog-shelter-text",children:[f.jsx("h2",{children:"2. Set up a litter tray or outside toilet"}),f.jsx("br",{}),f.jsx("p",{style:{textAlign:"left"},children:"Cats like to go to the toilet where they feel safe, and in a place that allows them to bury their waste afterwards."}),f.jsx("br",{}),f.jsx("p",{style:{textAlign:"left"},children:"If your cat already uses a litter tray or you do not have a garden, you will need to set up a litter tray before they arrive."}),f.jsx("br",{}),f.jsx("p",{style:{textAlign:"left"},children:"If your cat prefers to toilet outside and you have got a garden, or you want to train them to toilet outside, pick an area that is close to the house yet private. Once they arrive, you can encourage them to toilet there."}),f.jsx("br",{})]})]}),f.jsxs("div",{className:"dog-shelter-div",children:[f.jsxs("div",{className:"dog-shelter-text",children:[f.jsx("h2",{children:"3. Stock up on the right food"}),f.jsx("br",{}),f.jsx("p",{style:{textAlign:"left"},children:"Cats must have healthy, balanced diets and access to fresh water at all times. At first, it is best to continue with the food the cat has been used to. Ask the person you are adopting from what the cat eats, then buy plenty of it."}),f.jsx("br",{}),f.jsx("p",{style:{textAlign:"left"},children:"Even if you want to change their diet, this should be done gradually and under the guidance of your vet."}),f.jsx("p",{style:{textAlign:"left"},children:"Lots of cats like to eat a special type of grass called Cocksfoot because it helps them clear furballs. Have some in the house to stop them chewing other houseplants!"}),f.jsx("br",{})]}),f.jsx("div",{className:"dog-shelter-img",children:f.jsx("div",{className:"content-image",children:f.jsx("img",{src:iq,style:{width:"100%"},alt:"Adoption Image"})})})]}),f.jsxs("div",{className:"dog-shelter-div",children:[f.jsx("div",{className:"dog-shelter-img",children:f.jsx("div",{className:"content-image",children:f.jsx("img",{src:sq,style:{width:"100%"},alt:"Adoption Image"})})}),f.jsxs("div",{className:"dog-shelter-text",children:[f.jsx("h2",{children:"4. Get a scratch post"}),f.jsx("br",{}),f.jsx("p",{style:{textAlign:"left"},children:"Scratching is a big part of being a cat. Encourage them to carry out this natural behaviour by investing in a proper scratch post. This will discourage them from stretching and scratching on your furniture, too."}),f.jsx("br",{}),f.jsx("p",{style:{textAlign:"left"},children:"Put the post near their bed so they can stretch and scratch when they wake up something that most cats tend to do."}),f.jsx("br",{})]})]}),f.jsxs("div",{className:"dog-shelter-div",children:[f.jsxs("div",{className:"dog-shelter-text",children:[f.jsx("h2",{children:"5. Plan for holidays"}),f.jsx("br",{}),f.jsx("p",{style:{textAlign:"left"},children:"Even though cats are relatively independent pets, they cannot be left alone for long periods of time. When you go away, you will need to find a cat-sitter or put them in a cattery. Research your options early so you do not end up in a difficult situation."})]}),f.jsx("div",{className:"dog-shelter-img",children:f.jsx("div",{className:"content-image",children:f.jsx("img",{src:aq,style:{width:"100%"},alt:"Adoption Image"})})})]}),f.jsxs("div",{className:"dog-shelter-div",children:[f.jsx("div",{className:"dog-shelter-img",children:f.jsx("div",{className:"content-image",children:f.jsx("img",{src:oq,style:{width:"100%"},alt:"Adoption Image"})})}),f.jsxs("div",{className:"dog-shelter-text",children:[f.jsx("h2",{children:"6. Register with a vet"}),f.jsx("br",{}),f.jsx("p",{style:{textAlign:"left"},children:"As Cat Welfare Code of Practise explains, you should get as much information as possible about your cats health from their previous owner. Ask for: details of their old vet, vaccination records, information about any health conditions and medications, and whether or not they have been microchipped."}),f.jsx("br",{}),f.jsx("p",{style:{textAlign:"left"},children:"More information about cat welfare may be found in the"}),f.jsx("br",{}),f.jsx("p",{style:{textAlign:"left"},children:f.jsx("a",{href:tq,target:"_blank",children:f.jsx("h3",{children:"Cat Welfare Code of Practice"})})}),f.jsx("br",{})]})]})]}),_=()=>{s("Hii"),e(""),r(""),a(d()),u(p())},w=()=>{s("Hii"),e(""),r(""),a(d()),u(g())},[v,m]=E.useState(!1);return E.useEffect(()=>{e(c()),r(h())},[]),f.jsxs("main",{children:[f.jsx("div",{className:"blog-container",children:f.jsxs("div",{className:"content-text",children:[f.jsxs("h1",{className:"content-heading",children:["Pet Welfare",f.jsx("br",{})," Guides"]}),f.jsxs("div",{className:"form-row",children:[f.jsxs("button",{className:`form-container ${v?"mouse-over":""}`,onClick:_,onMouseOver:()=>m(!0),onMouseOut:()=>m(!1),children:[f.jsx("h3",{children:"Dog Welfare"}),f.jsx("br",{}),f.jsx("br",{}),f.jsx("br",{}),f.jsx("br",{}),f.jsx("br",{}),f.jsx("br",{}),f.jsx("br",{}),f.jsx("br",{}),f.jsx("div",{className:"dog-icon-container",children:f.jsx("box-icon",{type:"solid",name:"dog",style:{width:"60px",height:"60px"}})}),f.jsx("p",{children:t})]}),f.jsxs("button",{className:`form-container ${v?"mouse-over":""}`,onClick:()=>w(),onMouseOver:()=>m(!0),onMouseOut:()=>m(!1),children:[f.jsx("div",{className:"dog-icon-container",children:f.jsx("box-icon",{type:"solid",name:"cat",style:{width:"60px",height:"60px"}})}),f.jsx("h3",{children:"Cat Welfare"}),f.jsx("br",{}),f.jsx("br",{}),f.jsx("br",{}),f.jsx("br",{}),f.jsx("br",{}),f.jsx("br",{}),f.jsx("br",{}),f.jsx("p",{children:n})]})]})]})}),o===""?null:f.jsx("div",{className:"content-card-1",children:f.jsx("p",{children:l})})]})}function uq(){const[t,e]=E.useState(!1),n=()=>{e(!t)};return f.jsx("main",{className:"discover-page",children:f.jsxs("div",{className:"discover-main-container",children:[f.jsxs("div",{className:"main-filters",children:[f.jsx("div",{className:"main-filters-heading",children:f.jsx("h3",{children:"main-filters"})}),f.jsx("div",{className:"main-filter-section",children:f.jsx("div",{className:"filter-by-species"})})]}),f.jsxs("div",{className:"additional-filters `additional-filters ${additionalFiltersVisible ? 'visible' : 'hidden'}`",children:[f.jsx("h3",{children:"additional-filters"}),f.jsx("button",{onClick:n,children:t?"Hide Additional Filters":"Show Additional Filters"})]}),f.jsx("div",{className:"posts-container",children:f.jsx("h3",{children:"posts-container"})})]})})}var $g=new Map,hc=new WeakMap,LT=0,cq=void 0;function hq(t){return t?(hc.has(t)||(LT+=1,hc.set(t,LT.toString())),hc.get(t)):"0"}function dq(t){return Object.keys(t).sort().filter(e=>t[e]!==void 0).map(e=>`${e}_${e==="root"?hq(t.root):t[e]}`).toString()}function fq(t){let e=dq(t),n=$g.get(e);if(!n){const r=new Map;let i;const s=new IntersectionObserver(o=>{o.forEach(a=>{var l;const u=a.isIntersecting&&i.some(c=>a.intersectionRatio>=c);t.trackVisibility&&typeof a.isVisible>"u"&&(a.isVisible=u),(l=r.get(a.target))==null||l.forEach(c=>{c(u,a)})})},t);i=s.thresholds||(Array.isArray(t.threshold)?t.threshold:[t.threshold||0]),n={id:e,observer:s,elements:r},$g.set(e,n)}return n}function pq(t,e,n={},r=cq){if(typeof window.IntersectionObserver>"u"&&r!==void 0){const l=t.getBoundingClientRect();return e(r,{isIntersecting:r,target:t,intersectionRatio:typeof n.threshold=="number"?n.threshold:0,time:0,boundingClientRect:l,intersectionRect:l,rootBounds:l}),()=>{}}const{id:i,observer:s,elements:o}=fq(n);let a=o.get(t)||[];return o.has(t)||o.set(t,a),a.push(e),s.observe(t),function(){a.splice(a.indexOf(e),1),a.length===0&&(o.delete(t),s.unobserve(t)),o.size===0&&(s.disconnect(),$g.delete(i))}}function dc({threshold:t,delay:e,trackVisibility:n,rootMargin:r,root:i,triggerOnce:s,skip:o,initialInView:a,fallbackInView:l,onChange:u}={}){var c;const[h,d]=E.useState(null),p=E.useRef(),[g,_]=E.useState({inView:!!a,entry:void 0});p.current=u,E.useEffect(()=>{if(o||!h)return;let y;return y=pq(h,(T,S)=>{_({inView:T,entry:S}),p.current&&p.current(T,S),S.isIntersecting&&s&&y&&(y(),y=void 0)},{root:i,rootMargin:r,threshold:t,trackVisibility:n,delay:e},l),()=>{y&&y()}},[Array.isArray(t)?t.toString():t,h,i,r,s,o,n,l,e]);const w=(c=g.entry)==null?void 0:c.target,v=E.useRef();!h&&w&&!s&&!o&&v.current!==w&&(v.current=w,_({inView:!!a,entry:void 0}));const m=[d,g.inView,g.entry];return m.ref=m[0],m.inView=m[1],m.entry=m[2],m}const mq="/PetPals/assets/Adopt a pet-bro-eL28Jlx_.svg";function gq(){const t=cc(),[e,n]=dc({triggerOnce:!0,threshold:.6}),r=cc(),[i,s]=dc({triggerOnce:!0,threshold:.6}),o=cc(),[a,l]=dc({triggerOnce:!0,threshold:.6}),u=cc(),[c,h]=dc({triggerOnce:!0,threshold:.6});return E.useEffect(()=>{n&&t.start({opacity:1,x:0,transition:{delay:.5,duration:.5}})},[t,n]),E.useEffect(()=>{s&&r.start({opacity:1,x:0,transition:{delay:.5,duration:.5}})},[r,s]),E.useEffect(()=>{l&&o.start({opacity:1,x:0,transition:{delay:.5,duration:.5}})},[o,l]),E.useEffect(()=>{h&&u.start({opacity:1,x:0,transition:{delay:.5,duration:.5}})},[u,h]),f.jsxs(f.Fragment,{children:[f.jsx("main",{className:"home-page",children:f.jsxs("section",{className:"home-hero-section",children:[f.jsxs("div",{className:"home-hero-div-left",children:[f.jsxs("h1",{className:"home-hero-heading",children:["Don't shop.",f.jsx("br",{}),"Adopt a pet!"]}),f.jsxs("div",{className:"home-hero-buttons",children:[f.jsx("button",{children:"Adopt now"}),f.jsx("button",{children:"Rescue"})]})]}),f.jsx("div",{className:"home-hero-div-right",children:f.jsx("img",{src:mq,style:{width:"100%"}})})]})}),f.jsx("section",{ref:e,className:"home-sub-section home-discover-section",children:f.jsxs(tn.div,{initial:{opacity:0,x:50},animate:t,children:[f.jsx("h1",{children:"Discover Section"}),f.jsx("p",{children:"Explore PetPals for your ideal furry companion. Discover diverse cats and dogs through heartwarming posts. Utilize user-friendly categorizations to find the perfect match. Adopt today and welcome perfection into your life, one paw at a time"}),f.jsx("button",{children:"Learn More"})]})}),f.jsx("section",{ref:i,className:"home-sub-section home-add-section",children:f.jsxs(tn.div,{initial:{opacity:0,x:50},animate:r,transition:{staggerChildren:.5},children:[f.jsx("h1",{children:"Add Section"}),f.jsx("p",{children:"Contribute to our mission by uploading posts for dogs or cats in need of shelter at 'PetPals.' Users and sanctuaries can share stories of these adorable companions seeking loving homes. Be a part of their journey towards a forever home upload a post and make a difference today!"}),f.jsx("button",{children:"Learn More"})]})}),f.jsx("section",{ref:a,className:"home-sub-section home-blog-section",children:f.jsxs(tn.div,{initial:{opacity:0,x:50},animate:o,children:[f.jsx("h1",{children:"Blog Section"}),f.jsx("p",{children:"Discover essential tips for responsible dog and cat care in 'PetPals' Pet Welfare Guides. The Dog Welfare Guide covers bedding, nutrition, toys, and vet registration, while the Cat Welfare Guide includes safe spaces, litter setup, food choices, scratching posts, holiday planning, and vet registration. Click icons for specific guides. Rely on 'PetPals' for expert guidance in responsible pet ownership. Happy reading and joyful pet parenting! "}),f.jsx("button",{children:"Learn More"})]})}),f.jsx("section",{ref:c,className:"home-sub-section home-about-section",children:f.jsxs(tn.div,{initial:{opacity:0,x:50},animate:u,children:[f.jsx("h1",{children:"About Section"}),f.jsx("p",{children:"Lorem ipsum dolor, sit amet consectetur adipisicing elit. Quia, suscipit quasi possimus facere officiis dicta laborum accusantium vero dolorum quaerat magni, mollitia optio aliquid voluptate. Eligendi explicabo animi nemo quia!"}),f.jsx("button",{children:"Learn More"})]})}),f.jsxs("footer",{className:"home-footer",children:[f.jsxs("div",{className:"home-footer-container",children:[f.jsxs("div",{className:"home-footer-info",children:[f.jsxs("h3",{children:[f.jsx("img",{src:$C,style:{width:"2.3rem",paddingRight:"1rem"}}),"PetPals"]}),f.jsx("div",{className:"home-info-text",children:f.jsx("p",{children:"A brief description of your company or website goes here. This can be a slightly longer text describing your vision, mission, or values."})})]}),f.jsxs("div",{className:"home-footer-links",children:[f.jsx("h3",{children:"Quick Links"}),f.jsx(nt,{to:"/",children:"Home"}),f.jsx(nt,{to:"/about",children:"About"}),f.jsx(nt,{to:"/services",children:"Services"}),f.jsx(nt,{to:"/blog",children:"Blog"}),f.jsx(nt,{to:"/contact",children:"Contact"})]}),f.jsxs("div",{className:"home-footer-support",children:[f.jsx("h3",{children:"Support Us"}),f.jsx(nt,{children:"Donate"}),f.jsx(nt,{children:"Contribute on GitHub"})]})]}),f.jsx("div",{className:"home-footer-copyright",children:f.jsxs("p",{children:["© ",new Date().getFullYear()," PetPals Team. All Rights Reserved."]})})]})]})}const sR="data:image/svg+xml,%3csvg%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%2048%2048'%20width='48px'%20height='48px'%3e%3cpath%20fill='%23FFC107'%20d='M43.611,20.083H42V20H24v8h11.303c-1.649,4.657-6.08,8-11.303,8c-6.627,0-12-5.373-12-12c0-6.627,5.373-12,12-12c3.059,0,5.842,1.154,7.961,3.039l5.657-5.657C34.046,6.053,29.268,4,24,4C12.955,4,4,12.955,4,24c0,11.045,8.955,20,20,20c11.045,0,20-8.955,20-20C44,22.659,43.862,21.35,43.611,20.083z'/%3e%3cpath%20fill='%23FF3D00'%20d='M6.306,14.691l6.571,4.819C14.655,15.108,18.961,12,24,12c3.059,0,5.842,1.154,7.961,3.039l5.657-5.657C34.046,6.053,29.268,4,24,4C16.318,4,9.656,8.337,6.306,14.691z'/%3e%3cpath%20fill='%234CAF50'%20d='M24,44c5.166,0,9.86-1.977,13.409-5.192l-6.19-5.238C29.211,35.091,26.715,36,24,36c-5.202,0-9.619-3.317-11.283-7.946l-6.522,5.025C9.505,39.556,16.227,44,24,44z'/%3e%3cpath%20fill='%231976D2'%20d='M43.611,20.083H42V20H24v8h11.303c-0.792,2.237-2.231,4.166-4.087,5.571c0.001-0.001,0.002-0.001,0.003-0.002l6.19,5.238C36.971,39.205,44,34,44,24C44,22.659,43.862,21.35,43.611,20.083z'/%3e%3c/svg%3e";function yq(){const[t,e]=E.useState({email:"",password:""}),n=Fo({email:Ce().email("Invalid email!").required("Email is required!"),password:Ce().min(8,"Password must be at least 8 characters!").required("Password is required!")}),r=Xl(),i=o=>{try{b4(rt,o.email,o.password),r("/")}catch(a){console.log(a)}};async function s(){await wC(rt,FC),r("/")}return f.jsx("section",{className:"login-page",children:f.jsx(Au,{mode:"wait",children:f.jsx($l,{initialValues:t,validationSchema:n,onSubmit:i,children:()=>f.jsxs(tn.div,{layout:!0,className:"login-form-container",initial:{opacity:0,x:"-5%"},animate:{opacity:1,x:0},exit:{opacity:0,x:"5%"},transition:{duration:.5,delay:.1,ease:[0,.71,.2,1.01]},children:[f.jsx("h2",{children:"Continue to petpals, "}),f.jsxs(Lo,{className:"login-form",children:[f.jsx(Te,{name:"email",placeholder:"Email"}),f.jsx("div",{className:"login-warning",children:f.jsx(We,{name:"email"})}),f.jsx(Te,{type:"password",name:"password",placeholder:"Password"}),f.jsx("div",{className:"login-warning",children:f.jsx(We,{name:"password"})}),f.jsx("div",{className:"login-submit",children:f.jsx("button",{type:"submit",children:"Continue"})}),f.jsx("div",{className:"login-forgot-password",children:f.jsx(nt,{to:"/forgot-password",children:"Forgot password?"})})]}),f.jsxs("div",{className:"login-seperator",children:[f.jsx("hr",{}),f.jsx("span",{children:"or continue with"}),f.jsx("hr",{})]}),f.jsx("div",{className:"login-social",children:f.jsxs("button",{className:"login-google",onClick:s,children:[f.jsx("img",{src:sR,alt:"Google",style:{width:"1rem",height:"1rem",paddingRight:"1rem"}})," Google"]})}),f.jsx("div",{className:"login-sign-up",children:f.jsxs("p",{children:["Not a member yet? ",f.jsx(nt,{to:"/signup",children:"Sign up"})]})})]})})})})}function vq(){const[t,e]=E.useState(""),[n,r]=E.useState(!1),i=Fo({email:Ce().email("Invalid email!").required("Email is required!")});async function s(o){await P4(rt,o.email).then(()=>{console.log("Password reset email sent!"),r(!0)}).catch(a=>{console.log(a)})}return f.jsx("section",{children:f.jsxs(Au,{mode:"wait",children:[f.jsx($l,{initialValues:{email:t},validationSchema:i,onSubmit:s,children:()=>f.jsxs(tn.div,{layout:!0,className:"form-container",initial:{opacity:0,x:"-5%"},animate:{opacity:1,x:0},exit:{opacity:0,x:"5%"},transition:{duration:.5,delay:.1,ease:[0,.71,.2,1.01]},children:[f.jsx("h2",{children:"Reset your password"}),f.jsxs(Lo,{className:"form",children:[f.jsx(Te,{name:"email",placeholder:"Email"}),f.jsx("div",{className:"warning",children:f.jsx(We,{name:"email"})}),f.jsx("div",{className:"submit",children:f.jsx("button",{type:"submit",children:"Continue"})})]})]})}),n&&f.jsx(iR,{title:"Modal Title",content:"This is just a random text to depict there some information",success:!1,setShow:r})]})})}const _q="data:image/svg+xml,%3csvg%20id='logo'%20xmlns='http://www.w3.org/2000/svg'%20xmlns:xlink='http://www.w3.org/1999/xlink'%20viewBox='0%200%201280%201280'%20shape-rendering='geometricPrecision'%20text-rendering='geometricPrecision'%3e%3cg%20id='logo-s-g1'%20transform='matrix(4.12147%200%200%204.67234-585.746-2197.15)'%20paint-order='markers%20stroke%20fill'%3e%3cg%20id='logo-s-g2'%3e%3cpath%20id='logo-s-path3'%20d='M456.661062,732.849999c3.663449-6.290595,4.213916-12.730984.6978-21.371059C452.474262,699.47612,442.19,695.97,423.69,694.8c-.26-.06-.53-.11-.8-.14-24.73-23.85-36.07-81.63-29.35-116.34c22.5-1.65,38.33-14.08,44.25-35.31c2.61-9.38-2.02-16.62-11.62-18.33-4.71-.84-7.83-3.47-9.56-8.03-.06-.15-.12-.29-.18-.43-9.08-18.93-24.79-21.27-35.21-22.14c0-.04.04-.11,0-.11-3.77.2-8.44.19-5.94-2.41c6.65-6.94,7.82-10.21,8.59-12.74c1.69-5.57-4.59-9.21-9.3-8.48-25.87,4.02-51.24,25.75-64.64,55.21-1.75,3.85-4.73,10.46-8.46,18.94-4.73-10.69-14.37-36.44-42.13-50-12.23-5.97-24.25-7.85-36.81-7.12-10.48.6-32.28,1.84-44.03,26.62-.36.34-3.22,2.61-15.59,3.86-7.59.77-14.63.7-14.7.7-.02,0-.05,0-.07,0-3.29,0-5.97,2.49-6.01,5.58-.44,32.1,14.95,46.08,26.49,52.05.01.01.03.02.04.03c6.95,3.94,15.73,4.86,23.88,4.86c4.42,0,8.44-.27,11.44-.55c2.26,13.42,6.46,67.7-22.11,114.29-18.34,1.28-28.67,12.77-28.67,25.32c0,4.43,1.34,8.88,3.96,12.72c0,0,6.48,11.31,26.28,11.31c3.46,0,57.11,0,64.64,0c3.32,0,25.24.02,53.64.02s134.530414-.020001,137.670514-.019999c11.339249-3.289542,15.351598-8.059896,17.270548-11.310002Z'%20transform='matrix(.843055%200%200%200.843055%2046.675393%2095.299591)'%20paint-order='stroke%20markers%20fill'%20fill='none'%20fill-rule='evenodd'%20stroke='%23000'%20stroke-width='12'%20stroke-dashoffset='1792.930377'%20stroke-dasharray='3449.77'/%3e%3c/g%3e%3c/g%3e%3c/svg%3e";function q0(t){return f.jsxs(tn.div,{layout:!0,className:"miniLoader-container",initial:{opacity:0,x:"-5%"},animate:{opacity:1,x:0},exit:{opacity:0,x:"5%"},transition:{duration:.5,delay:.1,ease:[0,.71,.2,1.01]},children:[f.jsx("h3",{className:"miniLoader-title",children:t.title}),f.jsx("img",{src:_q,alt:"loader",className:"logo-outline"}),f.jsx("p",{className:"miniLoader-message",children:t.message})]})}function wq(){const[t,e]=E.useState({email:"",password:"",confirmPassword:""}),[n,r]=E.useState(!1),i=Xl(),[s,o]=E.useState({accountType:"individual",firstName:"",lastName:"",orgName:"",buildingNumber:"",street:"",city:"",zipCode:"",contactNumber:""}),a=Fo({email:Ce().email("Invalid email!").required("Email is required!"),password:Ce().min(8,"Password must be at least 8 characters!").required("Password is required!"),confirmPassword:Ce().oneOf([K8("password")],"Passwords must match!")}),l=Fo({accountType:Ce().required("Account type is required!"),firstName:Ce().when("accountType",{is:"individual",then:m=>m.required("First name is required!"),otherwise:m=>m.optional()}),lastName:Ce().when("accountType",{is:"individual",then:m=>m.required("Last name is required!"),otherwise:m=>m.optional()}),orgName:Ce().when("accountType",{is:"organization",then:m=>m.required("Organization name is required!"),otherwise:m=>m.optional()}),buildingNumber:Ce().required("Building/House number is required!"),street:Ce().required("Street name is required!"),city:Ce().required("City is required!"),zipCode:Ce().required("Zip/Postal code is required!"),contactNumber:Ce().length(10).required("Contact number is required!")}),[u,c]=E.useState(0),[h,d]=E.useState("email");function p(){c(u+1)}async function g(){r(!0),d("google"),await wC(rt,FC),p(),r(!1)}function _(){async function m(y){r(!0),e(y),console.log("step 1 - auth: ",t),y.email&&y.password&&y.confirmPassword&&(d("email"),console.log("step 1 - auth: ",t),await C4(rt,y.email,y.password)),p(),r(!1)}return f.jsx($l,{initialValues:t,validationSchema:a,onSubmit:m,enableReinitialize:!0,children:()=>f.jsxs(tn.div,{layout:!0,className:"signup-form-container",initial:{opacity:0,x:"-5%"},animate:{opacity:1,x:0},exit:{opacity:0,x:"5%"},transition:{duration:.5,delay:.1,ease:[0,.71,.2,1.01]},children:[f.jsx("h2",{children:"Welcome to PetPals"}),f.jsxs(Lo,{className:"signup-form",children:[f.jsx(Te,{name:"email",placeholder:"Email"}),f.jsx("div",{className:"signup-warning",children:f.jsx(We,{name:"email"})}),f.jsx(Te,{type:"password",name:"password",placeholder:"Password"}),f.jsx("div",{className:"signup-warning",children:f.jsx(We,{name:"password"})}),f.jsx(Te,{type:"password",name:"confirmPassword",placeholder:"Confirm password"}),f.jsx("div",{className:"signup-warning",children:f.jsx(We,{name:"confirmPassword"})}),f.jsx("div",{className:"signup-submit",children:f.jsx("button",{type:"submit",children:"Continue"})})]}),f.jsxs("div",{className:"signup-seperator",children:[f.jsx("hr",{}),f.jsx("span",{children:"or continue with"}),f.jsx("hr",{})]}),f.jsx("div",{className:"signup-social",children:f.jsxs("button",{className:"signup-google",onClick:g,children:[f.jsx("img",{src:sR,alt:"Google",style:{width:"1rem",height:"1rem",paddingRight:"1rem"}})," Google"]})})]},u)})}function w(){async function m(y){r(!0);const T=rt.currentUser.uid;o(y),console.log("step 2 - personal: ",s);try{if(y.accountType==="organization"){const S=await cg(Nl(jo,"users"),{uid:T,accountType:"organization",firstName:"",lastName:"",orgName:y.orgName,buildingNumber:y.buildingNumber,street:y.street,city:y.city,zipCode:y.zipCode,contactNumber:y.contactNumber});console.log("Document written with ID: ",S.id)}else if(y.accountType==="individual"){const S=await cg(Nl(jo,"users"),{uid:T,accountType:"individual",firstName:y.firstName,lastName:y.lastName,orgName:"",buildingNumber:y.buildingNumber,street:y.street,city:y.city,zipCode:y.zipCode,contactNumber:y.contactNumber});console.log("Document written with ID: ",S.id)}}catch(S){console.error("Error adding document: ",S)}i("/"),r(!1)}return f.jsx($l,{initialValues:s,validationSchema:l,onSubmit:m,enableReinitialize:!0,children:({values:y})=>f.jsx(tn.div,{layout:!0,className:"signup-form-container",initial:{opacity:0,x:"-5%"},animate:{opacity:1,x:0},exit:{opacity:0,x:"5%"},transition:{duration:.5,delay:.1,ease:[0,.71,.2,1.01]},children:f.jsxs(Lo,{className:"signup-form",children:[f.jsx("div",{className:"signup-description",children:f.jsx("p",{children:"Before you can start using PetPals, we would like to know about you a little bit."})}),f.jsxs("div",{className:"signup-account-toggle",children:[f.jsxs("div",{className:"signup-account-type",children:[f.jsx("p",{children:"I'm an: "}),f.jsxs("div",{className:"signup-radio-inputs",children:[f.jsxs("label",{className:"signup-radio",children:[f.jsx(Te,{type:"radio",name:"accountType",value:"individual"}),f.jsx("span",{className:"signup-name",children:"Individual"})]}),f.jsxs("label",{className:"signup-radio",children:[f.jsx(Te,{type:"radio",name:"signup-accountType",value:"organization"}),f.jsx("span",{className:"signup-name",children:"Organization"})]})]})]}),f.jsx("div",{className:"signup-warning",children:f.jsx(We,{name:"accountType"})})]}),y.accountType==="individual"&&f.jsxs(tn.div,{className:"signup-animated-fields",initial:{opacity:0},transition:{type:"spring",stiffness:100,damping:50,delay:.1},animate:{opacity:1},exit:{opacity:0},children:[f.jsx(Te,{name:"firstName",placeholder:"First name"}),f.jsx("div",{className:"signup-warning",children:f.jsx(We,{name:"firstName"})}),f.jsx(Te,{name:"lastName",placeholder:"Last name"}),f.jsx("div",{className:"signup-warning",children:f.jsx(We,{name:"lastName"})})]}),y.accountType==="organization"&&f.jsxs(tn.div,{className:"signup-animated-fields",initial:{opacity:0},transition:{type:"spring",stiffness:100,damping:50,delay:.1},animate:{opacity:1},exit:{opacity:0},children:[f.jsx(Te,{name:"orgName",placeholder:"Organization name"}),f.jsx("div",{className:"signup-warning",children:f.jsx(We,{name:"orgName"})})]}),f.jsx(Te,{name:"buildingNumber",placeholder:"Building/House number"}),f.jsx("div",{className:"signup-warning",children:f.jsx(We,{name:"buildingNumber"})}),f.jsx(Te,{name:"street",placeholder:"Street name"}),f.jsx("div",{className:"signup-warning",children:f.jsx(We,{name:"street"})}),f.jsx(Te,{name:"city",placeholder:"City"}),f.jsx("div",{className:"signup-warning",children:f.jsx(We,{name:"city"})}),f.jsx(Te,{name:"zipCode",placeholder:"Zip/Postal code"}),f.jsx("div",{className:"signup-warning",children:f.jsx(We,{name:"zipCode"})}),f.jsx(Te,{name:"contactNumber",placeholder:"Contact number"}),f.jsx("div",{className:"signup-warning",children:f.jsx(We,{name:"contactNumber"})}),f.jsx("div",{className:"signup-action-buttons",children:f.jsx("button",{type:"submit",children:"Submit"})})]})},u)})}const v=[f.jsx(_,{}),f.jsx(w,{})];return f.jsx("section",{className:"signup-page",children:f.jsx(Au,{mode:"wait",children:n?f.jsx(q0,{title:"Please wait.",message:"We are configuring your account..."}):v[u]})})}const Eq="/PetPals/assets/Cat astronaut-rafiki-xpk-0EGS.svg";function Tq(){return f.jsxs("main",{className:"error-404",children:[f.jsx("div",{className:"error-404-image",children:f.jsx("img",{src:Eq,alt:"cat astronaut",className:"cat-astronaut"})}),f.jsxs("div",{className:"error-404-text",children:[f.jsxs("h1",{className:"404-title",children:["Oh...",f.jsx("br",{}),"You seems to be lost."]}),f.jsx("p",{className:"404-description",children:"Let's head back home safely, okay?"}),f.jsx(nt,{to:"/",children:f.jsxs("button",{className:"error-404-button",children:[f.jsx("i",{className:"bx bxs-home-heart bx-xm"}),"Home"]})})]})]})}const oR="/PetPals/assets/pet-wm5iIMt3.png",aR="/PetPals/assets/pet-house--5j5cPMA.png";function Sq(){const{uid:t}=mD(),[e,n]=E.useState(null),r=Nl(jo,"users"),i=jP(r,MP("uid","==",t)),s=(e==null?void 0:e.accountType)==="individual"?oR:aR;return E.useEffect(()=>{(async()=>{try{UP(i,a=>{n(a.docs[0].data()),console.log(a.docs[0].data())})}catch(a){console.error("Error fetching document:",a)}})()},[t]),f.jsx("main",{className:"profile-page",children:e?f.jsxs("div",{className:"profile-profile-container",children:[f.jsxs("div",{className:"profile-main-profile-container",children:[f.jsx("h2",{children:e?e.firstName+" "+e.lastName:""}),f.jsx("img",{src:s,alt:"profile",className:"profile-profile-photo"})]}),f.jsxs("div",{className:"profile-sub-profile-container",children:[f.jsxs("p",{children:["Account type: ",e?e.accountType:""]}),f.jsxs("p",{children:["Contact: ",e?e.contactNumber:""]}),f.jsxs("p",{children:["Address: ",e?e.buildingNumber+", "+e.street+", "+e.city+", "+e.zipCode:""]})]})]}):f.jsx(q0,{title:"Please Wait",message:"Fetching user data"})})}function xq(){let t="";rt.currentUser?t=rt.currentUser.uid:t="";const[e,n]=E.useState(null),r=Nl(jo,"users"),i=jP(r,MP("uid","==",t)),s=(e==null?void 0:e.accountType)==="individual"?oR:aR,[o,a]=E.useState(!!rt.currentUser);E.useEffect(()=>{const c=rt.onAuthStateChanged(h=>{a(!!h)});return()=>c()},[]);const l=Xl();E.useEffect(()=>{const c=rt.onAuthStateChanged(h=>{a(!!h)});return()=>c()},[]);const u=async()=>{await N4(rt),l("/login")};return E.useEffect(()=>{(async()=>{try{UP(i,h=>{var d,p;n((d=h.docs[0])==null?void 0:d.data()),console.log((p=h.docs[0])==null?void 0:p.data())})}catch(h){console.error("Error fetching document:",h)}})()},[t]),f.jsx("main",{className:"profile-page",children:e?f.jsxs("div",{className:"profile-profile-container",children:[f.jsxs("div",{className:"profile-main-profile-container",children:[f.jsx("h2",{children:e?e.firstName+" "+e.lastName:""}),f.jsx("img",{src:s,alt:"profile",className:"profile-profile-photo"})]}),f.jsxs("div",{className:"profile-sub-profile-container",children:[f.jsxs("p",{children:["Account type: ",e?e.accountType:""]}),f.jsxs("p",{children:["Contact: ",e?e.contactNumber:""]}),f.jsxs("p",{children:["Address: ",e?e.buildingNumber+", "+e.street+", "+e.city+", "+e.zipCode:""]}),f.jsx("button",{onClick:u,children:"Log Out"})]})]}):f.jsx(q0,{title:"Please Wait",message:"Fetching user data"})})}function Iq(){return f.jsx("main",{className:"test-main",children:f.jsx("section",{className:"test-main-container",children:f.jsxs("div",{className:"test-container",children:[f.jsx("h2",{className:"test-main-heading",children:"_welcome beta tester!"}),f.jsx("p",{className:"test-main-description",children:"thank you for your valuable time! let's get started."}),f.jsx(nt,{to:"/",children:f.jsxs("button",{className:"test-start-button",children:[f.jsx("i",{className:"bx bx-code-alt bx-md"}),f.jsx("p",{className:"test-start-button-text",children:"start"})]})})]})})})}function Aq(){return f.jsx(f.Fragment,{children:f.jsxs(VD,{children:[f.jsx("div",{className:"gradient-background"}),f.jsx("div",{className:"white-overlay"}),f.jsx("header",{children:f.jsx(l3,{})}),f.jsxs(bD,{children:[f.jsx(Xt,{path:"/",element:f.jsx(gq,{})}),f.jsx(Xt,{path:"/*",element:f.jsx(Tq,{})}),f.jsx(Xt,{path:"/user/:uid",element:f.jsx(Sq,{})}),f.jsx(Xt,{path:"/user/me",element:f.jsx(xq,{})}),f.jsx(Xt,{path:"/about",element:f.jsx(c3,{})}),f.jsx(Xt,{path:"/add",element:f.jsx(KG,{})}),f.jsx(Xt,{path:"/blog",element:f.jsx(lq,{})}),f.jsx(Xt,{path:"/discover",element:f.jsx(uq,{})}),f.jsx(Xt,{path:"/login",element:f.jsx(yq,{})}),f.jsx(Xt,{path:"/forgot-password",element:f.jsx(vq,{})}),f.jsx(Xt,{path:"/signup",element:f.jsx(wq,{})}),f.jsx(Xt,{path:"/PetPals",element:f.jsx(Iq,{})})]})]})})}Lp.createRoot(document.getElementById("root")).render(f.jsx(qh.StrictMode,{children:f.jsx(Aq,{})}))});export default Pq();
